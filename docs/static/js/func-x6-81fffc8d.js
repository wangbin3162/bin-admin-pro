import{r as w,G as u,S as C,C as v}from"./chunk-@antv/x6-c3c7c7bc.js";import{aa as N,o as k,d as D,e as l,t as F,q as b,B as M,n as $,g as B,w as d,E as _,a as f,s as m}from"./vendor-fd0a4eac.js";import"./chunk-lodash-es-e8e3383c.js";import"./chunk-brace-3ad28406.js";const E={name:"DataNode",inject:["getNode"],data(){return{label:"label"}},mounted(){var r,e;const a=this.getNode();this.label=(e=(r=a==null?void 0:a.data)==null?void 0:r.label)!=null?e:a.id}},W={class:"data-node"},S={class:"label"};function A(a,r,e,g,i,h){return k(),D("div",W,[l("span",S,F(i.label),1)])}const R=N(E,[["render",A]]),V={class:"p10"},G={class:"p10"},q={__name:"func-x6",setup(a){const r=b(null);let e;function g(){const o={nodes:[{id:"node1",shape:"rect",x:40,y:40,width:100,height:40,label:"hello",attrs:{body:{stroke:"#8f8f8f",strokeWidth:1,fill:"#fff",rx:6,ry:6}}},{id:"node2",shape:"rect",x:160,y:180,width:100,height:40,label:"world",attrs:{body:{stroke:"#8f8f8f",strokeWidth:1,fill:"#fff",rx:6,ry:6}}}],edges:[{shape:"edge",source:"node1",target:"node2",label:"x6",attrs:{line:{stroke:"#8f8f8f",strokeWidth:1}}}]};e=new u({container:r.value,width:"100%",height:300,background:{color:"#F2F7FA"},grid:{visible:!0,type:"doubleMesh",args:[{color:"#eee",thickness:1},{color:"#ddd",thickness:1,factor:4}]},panning:!0}),e.fromJSON(o),e.centerContent(),e.addNode({shape:"rect",x:200,y:40,width:100,height:40,label:"edge",attrs:{body:{fill:"#fff",stroke:"#8f8f8f",strokeWidth:1,rx:10,ry:20}}})}function i(o){const t=e.getNodes();console.log(t),o==="prop"&&t.forEach(n=>{const s=100+Math.floor(Math.random()*50),p=40+Math.floor(Math.random()*10);n.prop("size",{width:s,height:p})}),o==="attr"&&t.forEach(n=>{const s=v.random().toHex();n.attr("body/fill",s)})}const h=b(null);let c;w({shape:"data-node",width:120,height:36,component:R,ports:{groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}}}}}),u.registerEdge("dag-edge",{inherit:"edge",attrs:{line:{stroke:"#C2C8D5",strokeWidth:1,targetMarker:null}}},!0);function y(){const o={nodes:[{id:"A",shape:"data-node",x:0,y:0,data:{label:"A"}},{id:"B",shape:"data-node",x:0,y:100,data:{label:"B"}},{id:"C",shape:"data-node",x:0,y:200,data:{label:"C"}},{id:"D",shape:"data-node",x:200,y:0,data:{label:"D"}},{id:"E",shape:"data-node",x:200,y:100,data:{label:"E"}},{id:"F",shape:"data-node",x:200,y:200,data:{label:"F"}}]};c=new u({container:h.value,width:"100%",height:300,background:{color:"#F2F7FA"},grid:{visible:!0,type:"doubleMesh",args:[{color:"#eee",thickness:1},{color:"#ddd",thickness:1,factor:4}]},panning:!0}),c.use(new C({enabled:!0})),c.fromJSON(o),c.centerContent()}return M(async()=>{await $(),g(),y()}),(o,t)=>{const n=_("b-button"),s=_("b-collapse-wrap"),p=_("page-container");return k(),B(p,null,{default:d(()=>[f(s,{title:"\u57FA\u7840\u7528\u6CD5",shadow:"none",class:"mb-16"},{default:d(()=>[l("div",V,[l("div",{ref_key:"dom1Ref",ref:r},null,512),f(n,{onClick:t[0]||(t[0]=x=>i("prop"))},{default:d(()=>[m("Prop")]),_:1}),f(n,{onClick:t[1]||(t[1]=x=>i("attr"))},{default:d(()=>[m("attr")]),_:1})])]),_:1}),f(s,{title:"\u81EA\u5B9A\u4E49\u8282\u70B9\u529F\u80FD",shadow:"none",class:"mb-16"},{default:d(()=>[l("div",G,[l("div",{ref_key:"dom2Ref",ref:h},null,512)])]),_:1})]),_:1})}}};export{q as default};
