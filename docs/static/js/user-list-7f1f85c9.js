var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;import{u as r}from"./useTable-9216081f.js";import{g as l}from"./user.api-c48d3050.js";import{a as p}from"./chunk-bin-ui-next-f06badfa.js";import{_ as c}from"./index-24e3f9ac.js";import{_ as u}from"./page-wrapper-ea777216.js";import{y as m,f as d,n as g,J as f,o as y,c as b,w as v,u as C,B as h,A as k,K as z,t as j,q as _,a as w,F as x}from"./vendor-b1b195f8.js";import"./index-c2ebc9d7.js";import"./chunk-brace-7f859248.js";const O={name:"UserList",components:{PageWrapper:u,ActionButton:c},setup(){const e=m({page:1,size:10}),c=d([]),{loading:u,list:f,total:y,getListData:b,pageChange:v,pageSizeChange:C}=r(l,e);return g((()=>f.value),(e=>{c.value=e.map((e=>{return r=((e,a)=>{for(var t in a||(a={}))i.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))o.call(a,t)&&n(e,t,a[t]);return e})({},e),a(r,t({expand:!1}));var r}))})),b(),{query:e,roleMap:{admin:"管理员",user:"普通用户",op:"实施人员"},roleMapStyle:{admin:"purple",user:"blue",op:"volcano"},loading:u,list:f,copyList:c,total:y,pageChange:v,pageSizeChange:C,handleCopy:function(e){p.success(`复制ID：${e}成功！`)},setRole:function(e,a){c.value[a].roles=e}}}},S={class:"list-wrap"},q={class:"list-item-meta"},P=["src"],D={class:"list-item-meta-name"},I={class:"list-item-id"},L=_("复制"),M={class:"list-item-email mt-8"},R={class:"list-item-action mt-8"},A={key:0,class:"list-item-action mt-8"},B=_(" 管理员 "),U=_(" 普通用户 "),E=_(" 实施人员 "),F={class:"mt-16 t-center"};O.render=function(e,a,t,s,i,o){const n=f("b-skeleton"),r=f("b-divider"),l=f("b-button"),p=f("b-tag"),c=f("action-button"),u=f("b-page"),m=f("page-wrapper");return y(),b(m,{desc:"包含信息的列表，带有常规操作。本页面也用作示例，实际操作以业务需求自行编写。",bg:""},{default:v((()=>[C(n,{loading:s.loading},{template:v((()=>[C(n,{animation:""}),C(r),C(n,{animation:""}),C(r),C(n,{animation:""}),C(r)])),default:v((()=>[h("ul",S,[(y(!0),k(x,null,z(s.copyList,((e,a)=>(y(),k("li",{key:e.id,class:"user-list-item"},[h("div",q,[h("img",{src:e.avatar,alt:"",class:"avatar"},null,8,P),h("div",D,j(e.realName),1)]),h("div",I,[h("span",null,"ID:"+j(e.id),1),C(l,{size:"mini",icon:"file-copy",onClick:a=>s.handleCopy(e.id)},{default:v((()=>[L])),_:2},1032,["onClick"])]),h("div",M,"邮箱地址："+j(e.email),1),h("div",R,[C(p,{type:e.verify?"success":"danger"},{default:v((()=>[_(j(e.verify?"已认证":"未认证"),1)])),_:2},1032,["type"]),C(p,{type:s.roleMapStyle[e.roles]},{default:v((()=>[_(j(s.roleMap[e.roles]),1)])),_:2},1032,["type"]),C(l,{icon:e.expand?"minus-square":"plus-square",size:"mini",style:{"margin-left":"16px"},onClick:a=>e.expand=!e.expand},{default:v((()=>[_(j(e.expand?"收起操作":"展开操作"),1)])),_:2},1032,["icon","onClick"])]),e.expand?(y(),k("div",A,[C(c,{"button-props":{type:"admin"!==e.roles?"primary":null,size:"mini",disabled:"admin"===e.roles},onClick:e=>s.setRole("admin",a),message:"设置角色为管理员吗？",confirm:""},{default:v((()=>[B])),_:2},1032,["button-props","onClick"]),C(r,{type:"vertical"}),C(c,{"button-props":{type:"user"!==e.roles?"primary":null,size:"mini",disabled:"user"===e.roles},onClick:e=>s.setRole("user",a),message:"设置角色为普通用户吗？",confirm:""},{default:v((()=>[U])),_:2},1032,["button-props","onClick"]),C(r,{type:"vertical"}),C(c,{"button-props":{type:"op"!==e.roles?"primary":null,size:"mini",disabled:"op"===e.roles},onClick:e=>s.setRole("op",a),message:"设置角色为实施人员吗？",confirm:""},{default:v((()=>[E])),_:2},1032,["button-props","onClick"])])):w("",!0)])))),128))])])),_:1},8,["loading"]),h("div",F,[C(u,{total:s.total,current:s.query.page,"onUpdate:current":a[0]||(a[0]=e=>s.query.page=e),"page-size":s.query.size,"show-elevator":"","show-sizer":"","show-total":"",onChange:s.pageChange,onSizeChange:s.pageSizeChange},null,8,["total","current","page-size","onChange","onSizeChange"])])])),_:1})},O.__scopeId="data-v-7ea61195";export{O as default};
