import{c as j}from"./mock.api-B0TQ_Vwh.js";import{u as F}from"./useTable-hlBmhlAs.js";import{a8 as T,m as E,r as w,n as K,o as p,j as x,w as t,K as l,a as q,Q,F as C,i as R,f as r,t as k,b as A,R as a}from"./vendor-COsJffew.js";import"./avatar04-C-sfeKu8.js";import"./index-DlSIhdb0.js";import"./chunk-bin-ui-design-55yTQV6H.js";import"./chunk-brace-DF1jSkZr.js";const G={name:"SearchList",setup(){const _=E({page:1,size:10,name:"",roles:"",status:"",date:"",email:""}),e=w(!1),b=w([]),{loading:o,list:f,total:g,getListData:i,pageChange:d,pageSizeChange:m}=F(j,_);return K(f,u=>{b.value=u.map(c=>({...c,expand:!1}))}),i(),{expand:e,query:_,loading:o,roleMap:{admin:"管理员",user:"普通用户",op:"实施人员"},total:g,copyList:b,getListData:i,pageChange:d,pageSizeChange:m,columns:[{title:"姓名",key:"realName"},{title:"登录名",key:"username"},{title:"邮箱",key:"email"},{title:"角色",slot:"roles"},{title:"出生日期",key:"createDate"},{title:"操作",width:100,align:"center",slot:"action"}]}}},H={flex:"main:justify"};function I(_,e,b,o,f,g){const i=a("b-input"),d=a("b-form-item"),m=a("b-option"),u=a("b-select"),c=a("b-date-picker"),s=a("b-button"),v=a("b-form"),z=a("b-icon"),y=a("b-dropdown-item"),L=a("b-dropdown-menu"),S=a("b-dropdown"),U=a("action-button"),N=a("b-table"),B=a("b-page"),D=a("base-table"),M=a("page-wrapper");return p(),x(M,{desc:"基础表格的查询列表，带有常规操作。"},{default:t(()=>[l(D,null,{filter:t(()=>[l(v,{"label-width":"95px"},{default:t(()=>[l(d,{label:"用户名称"},{default:t(()=>[l(i,{modelValue:o.query.name,"onUpdate:modelValue":e[0]||(e[0]=n=>o.query.name=n),clearable:""},null,8,["modelValue"])]),_:1}),l(d,{label:"用户角色"},{default:t(()=>[l(u,{modelValue:o.query.roles,"onUpdate:modelValue":e[1]||(e[1]=n=>o.query.roles=n),clearable:""},{default:t(()=>[(p(!0),q(C,null,Q(o.roleMap,(n,V)=>(p(),x(m,{key:V,label:n,value:V},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o.expand?(p(),q(C,{key:0},[l(d,{label:"状态"},{default:t(()=>[l(u,{modelValue:o.query.status,"onUpdate:modelValue":e[2]||(e[2]=n=>o.query.status=n),clearable:""},{default:t(()=>[l(m,{label:"启用",value:"1"}),l(m,{label:"禁用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"邮箱"},{default:t(()=>[l(i,{modelValue:o.query.email,"onUpdate:modelValue":e[3]||(e[3]=n=>o.query.email=n),clearable:""},null,8,["modelValue"])]),_:1}),l(d,{label:"日期"},{default:t(()=>[l(c,{modelValue:o.query.date,"onUpdate:modelValue":e[4]||(e[4]=n=>o.query.date=n),clearable:""},null,8,["modelValue"])]),_:1})],64)):R("",!0),l(d,null,{default:t(()=>[l(s,null,{default:t(()=>e[6]||(e[6]=[r("重置")])),_:1}),l(s,{type:"primary",loading:o.loading},{default:t(()=>e[7]||(e[7]=[r("查询")])),_:1},8,["loading"]),l(s,{type:"text",icon:o.expand?"up":"down",onClick:e[5]||(e[5]=n=>o.expand=!o.expand)},{default:t(()=>[r(k(o.expand?"收起":"展开"),1)]),_:1},8,["icon"])]),_:1})]),_:1})]),action:t(()=>[A("div",H,[l(s,{type:"primary",icon:"plus-circle"},{default:t(()=>e[8]||(e[8]=[r("新增")])),_:1}),l(S,{style:{"margin-left":"20px"}},{dropdown:t(()=>[l(L,null,{default:t(()=>[l(y,null,{default:t(()=>e[10]||(e[10]=[r("刷新")])),_:1}),l(y,null,{default:t(()=>e[11]||(e[11]=[r("删除")])),_:1})]),_:1})]),default:t(()=>[l(s,null,{default:t(()=>[e[9]||(e[9]=r(" 更多操作 ")),l(z,{name:"down"})]),_:1})]),_:1})])]),page:t(()=>[l(B,{total:o.total,current:o.query.page,"page-size":o.query.size,"show-sizer":"","show-total":"",onChange:o.pageChange,onSizeChange:o.pageSizeChange},null,8,["total","current","page-size","onChange","onSizeChange"])]),default:t(()=>[l(N,{columns:o.columns,data:o.copyList,loading:o.loading,border:""},{roles:t(({row:n})=>[r(k(o.roleMap[n.roles]),1)]),action:t(()=>[l(U,{type:"text"},{default:t(()=>e[12]||(e[12]=[r("编辑")])),_:1})]),_:1},8,["columns","data","loading"])]),_:1})]),_:1})}const h=T(G,[["render",I]]);export{h as default};
