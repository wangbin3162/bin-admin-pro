import{l as e,t as a,_ as o}from"./index-c2ebc9d7.js";import{J as s,o as i,A as t,B as r,F as n,K as l,u as d,w as c,H as m,a7 as u,a8 as p,q as g}from"./vendor-b1b195f8.js";import"./chunk-bin-ui-next-f06badfa.js";import"./chunk-brace-7f859248.js";const f={name:"Login",data:()=>({formLogin:{username:"admin",password:"admin",captcha:"v9am"},loading:!1,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}),methods:{submit(){this.$refs.loginForm.validate((async o=>{if(o){try{this.loading=!0;const{data:a}=await e(this.formLogin);await this.loginSuccess(a)}catch(s){a("login/requestFailed",s)}this.loading=!1}}))},async loginSuccess(e){if("00"===e.code){const a=e.data.accessToken;await this.$store.dispatch("user/setToken",a);const o=this.$route.query.redirect||"/";await this.$router.push({path:o})}else a("login/requestFailed",e)}}},b=e=>(u("data-v-0989b840"),e=e(),p(),e),h={class:"page-login"},y={class:"layer area"},w={class:"circles"},v={class:"layer"},_={class:"content",flex:"dir:top main:justify cross:center box:justify"},x=b((()=>r("div",{class:"header"},[r("p",{class:"header-motto"},"开箱即用的中后台管理系统")],-1))),L={class:"main",flex:"dir:top main:center cross:center"},k=b((()=>r("div",{class:"page-login--logo"},[r("img",{src:o,alt:"logo"}),r("span",null,"BIN-ADMIN-PRO")],-1))),V={class:"form"},q=b((()=>r("span",{class:"login-code"},[r("img",{src:"/bin-admin-pro/static/png/login-code-8c841f1c.png",alt:"code"})],-1))),K=g(" 登录 "),j=b((()=>r("div",{class:"footer"},[r("p",{class:"footer-copyright"},[g(" bin admin pro 简版后台管理系统vue3 重构版 "),r("a",{href:"https://github.com/wangbin3162/bin-admin-pro",target:"_blank"},"github")])],-1)));f.render=function(e,a,o,u,p,g){const f=s("b-icon"),b=s("b-input"),z=s("b-form-item"),F=s("b-button"),$=s("b-form");return i(),t("div",h,[r("div",y,[r("ul",w,[(i(),t(n,null,l(10,(e=>r("li",{key:e}))),64))])]),r("div",v,[r("div",_,[x,r("div",L,[k,r("div",V,[d($,{ref:"loginForm","label-position":"top",rules:p.rules,model:p.formLogin,size:"large"},{default:c((()=>[d(z,{prop:"username"},{default:c((()=>[d(b,{type:"text",modelValue:p.formLogin.username,"onUpdate:modelValue":a[0]||(a[0]=e=>p.formLogin.username=e),placeholder:"用户名[admin,wang]",onKeydown:m(g.submit,["enter"])},{prefix:c((()=>[d(f,{name:"user",size:"16"})])),_:1},8,["modelValue","onKeydown"])])),_:1}),d(z,{prop:"password"},{default:c((()=>[d(b,{type:"password",modelValue:p.formLogin.password,"onUpdate:modelValue":a[1]||(a[1]=e=>p.formLogin.password=e),placeholder:"密码[admin,123456]",onKeydown:m(g.submit,["enter"])},{prefix:c((()=>[d(f,{name:"lock",size:"16"})])),_:1},8,["modelValue","onKeydown"])])),_:1}),d(z,{prop:"captcha"},{default:c((()=>[d(b,{type:"text",modelValue:p.formLogin.captcha,"onUpdate:modelValue":a[2]||(a[2]=e=>p.formLogin.captcha=e),placeholder:"- - - -",style:{width:"68%"},onKeydown:m(g.submit,["enter"])},{prefix:c((()=>[d(f,{name:"bulb",size:"16"})])),_:1},8,["modelValue","onKeydown"]),q])),_:1}),d(F,{onClick:g.submit,loading:p.loading,type:"primary",class:"button-login",size:"large"},{default:c((()=>[K])),_:1},8,["onClick","loading"])])),_:1},8,["rules","model"])])]),j])])])},f.__scopeId="data-v-0989b840";export{f as default};
