(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20c1e350"],{"366f":function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["fb"])("data-v-5dd2ee88");Object(c["G"])("data-v-5dd2ee88");var r={class:"page-header-wrap"},l={class:"page-header-wrap-page-header-warp"},o={class:"grid-content"},i={class:"page-header has-breadcrumb"},d={class:"page-header-heading"},s={class:"page-header-heading-title"},u={key:0,class:"page-header-desc"},b={class:"grid-content"};Object(c["E"])();var h=a((function(e,t,n,a,h,f){var p=Object(c["M"])("b-icon");return Object(c["D"])(),Object(c["i"])("div",r,[Object(c["m"])("div",l,[Object(c["m"])("div",o,[Object(c["m"])("div",i,[Object(c["m"])("div",d,[Object(c["m"])("span",s,Object(c["Q"])(a.normalTitle),1),Object(c["L"])(e.$slots,"right",{},void 0,!0)]),e.$slots.desc||n.desc?(Object(c["D"])(),Object(c["i"])("div",u,[Object(c["L"])(e.$slots,"desc",{},(function(){return[Object(c["l"])(Object(c["Q"])(n.desc),1)]}),{},!0)])):Object(c["j"])("",!0),n.showClose?(Object(c["D"])(),Object(c["i"])(p,{key:1,name:"close",onClick:t[1]||(t[1]=function(t){return e.$emit("close")})})):Object(c["j"])("",!0)])])]),Object(c["m"])("div",b,[Object(c["m"])("div",{class:["page-header-wrap-children-content",{"has-bg":n.bg}],style:{padding:n.bg?n.contentPadding:null}},[Object(c["L"])(e.$slots,"default",{},void 0,!0)],6)])])})),f=n("3ddc"),p=n("2788"),j={name:"PageWrapper",props:{title:String,desc:String,showClose:Boolean,bg:Boolean,contentPadding:{type:String,default:"16px"}},emits:["close"],setup:function(e){var t=Object(f["a"])(),n=t.showTagsView,a=Object(p["a"])(),r=a.getCurrentRouteMenu,l=Object(c["g"])((function(){return e.title?e.title:r().title||"no-title"}));return{normalTitle:l,showTagsView:n}}};n("f441");j.render=h,j.__scopeId="data-v-5dd2ee88";t["a"]=j},3753:function(e,t,n){},"561b":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n("53ca"),a=n("1da1"),r=(n("4de4"),n("96cf"),n("7a23")),l=n("6487");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",i=Object(r["I"])(null),d=Object(r["I"])([]),s=Object(r["I"])(""),u=Object(r["I"])(!1),b=Object(r["I"])(!1),h=function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if("object"!==Object(c["a"])(e)){n.next=6;break}return d.value=e,console.log(e),n.abrupt("return");case 6:return n.prev=6,j(!0),n.next=10,e(t);case 10:d.value=n.sent,n.next=17;break;case 13:n.prev=13,n.t0=n["catch"](6),console.log(n.t0),l["d"].error(n.t0);case 17:j(!1);case 18:case"end":return n.stop()}}),n,null,[[6,13]])})));return function(){return n.apply(this,arguments)}}(),f=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:[],e.next=3,h();case 3:return e.next=5,Object(r["u"])();case 5:i.value&&i.value.setSelected(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:[],e.next=3,h();case 3:return e.next=5,Object(r["u"])();case 5:i.value&&i.value.setChecked(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function j(e){u.value=e}var O=function(){return i.value.getFlatState()},m=function(e,t,c){n.emit("select-change",t,c)},g=function(e,t,c){b.value=e.length>0,n.emit("check-change",e,t,c)},v=function(e){i.value&&i.value.filter(e)},C=function(e,t){return!e||-1!==t[o].indexOf(e)};return{treeRef:i,query:s,loading:u,treeData:d,hasChecked:b,getFlatState:O,getTreeData:h,reloadTree:f,reloadTreeWithCheck:p,handleFilter:v,filterNode:C,handleSelect:m,handleChecked:g}}},"9e59":function(e,t,n){},c4c3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n("a417");function a(){return Object(c["b"])({url:"/depart/tree",method:"get"})}},dc62:function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["fb"])("data-v-2b5f5e96");Object(c["G"])("data-v-2b5f5e96");var r={class:"base-tree-header"},l={class:"base-title"},o={class:"base-ctrl"},i={class:"search"},d={class:"ctrl"},s=Object(c["m"])("i",{class:"b-iconfont b-icon-ellipsis"},null,-1),u=Object(c["l"])("展开全部"),b=Object(c["l"])("收起全部"),h=Object(c["l"])("选择全部"),f=Object(c["l"])("取消全选"),p={class:"tree-wrap"},j={key:0,class:"inner-search"};Object(c["E"])();var O=a((function(e,t,n,O,m,g){var v=Object(c["M"])("b-input"),C=Object(c["M"])("b-dropdown-item"),k=Object(c["M"])("b-dropdown-menu"),w=Object(c["M"])("b-dropdown"),S=Object(c["M"])("b-tree"),y=Object(c["M"])("b-scrollbar"),x=Object(c["N"])("loading");return Object(c["D"])(),Object(c["i"])("div",{class:"base-tree",style:{width:n.width},ref:"treeEl"},[Object(c["m"])("div",r,[Object(c["m"])("span",l,Object(c["Q"])(n.treeTitle),1),Object(c["m"])("div",o,[Object(c["m"])("div",i,[O.showTopSearch?(Object(c["D"])(),Object(c["i"])(v,{key:0,size:"small",search:"",modelValue:O.query,"onUpdate:modelValue":t[1]||(t[1]=function(e){return O.query=e}),placeholder:"搜索",onSearch:O.handleFilter},null,8,["modelValue","onSearch"])):Object(c["j"])("",!0),Object(c["L"])(e.$slots,"default",{},void 0,!0)]),Object(c["m"])("div",d,[Object(c["m"])(w,{"append-to-body":"",placement:"bottom-start",onCommand:O.handleAction},{dropdown:a((function(){return[Object(c["m"])(k,null,{default:a((function(){return[Object(c["m"])(C,{name:"expandAll"},{default:a((function(){return[u]})),_:1}),Object(c["m"])(C,{name:"collapseAll"},{default:a((function(){return[b]})),_:1}),n.showCheckbox?(Object(c["D"])(),Object(c["i"])(c["b"],{key:0},[Object(c["m"])(C,{name:"checkAll",divided:""},{default:a((function(){return[h]})),_:1}),Object(c["m"])(C,{name:"uncheckAll"},{default:a((function(){return[f]})),_:1})],64)):Object(c["j"])("",!0),Object(c["L"])(e.$slots,"ctrl",{},void 0,!0)]})),_:3})]})),default:a((function(){return[s]})),_:1},8,["onCommand"])])])]),Object(c["cb"])(Object(c["m"])("div",p,[Object(c["m"])(y,null,{default:a((function(){return[O.showInnerSearch?(Object(c["D"])(),Object(c["i"])("div",j,[Object(c["m"])(v,{size:"small",search:"",modelValue:O.query,"onUpdate:modelValue":t[2]||(t[2]=function(e){return O.query=e}),placeholder:"搜索",onSearch:O.handleFilter},null,8,["modelValue","onSearch"])])):Object(c["j"])("",!0),Object(c["m"])(S,{data:O.treeData,"title-key":n.titleKey,"show-checkbox":n.showCheckbox,"filter-node-method":O.filterNode,render:n.render,"lock-select":n.lock,ref:"treeRef",onSelectChange:O.handleSelect,onCheckChange:O.handleChecked},null,8,["data","title-key","show-checkbox","filter-node-method","render","lock-select","onSelectChange","onCheckChange"])]})),_:1})],512),[[x,O.loading]])],4)})),m=n("561b"),g={name:"BaseTree",props:{width:{type:String,default:"280px"},treeTitle:{type:String},filterPosition:{type:String,default:"top"},lock:Boolean,fetch:{type:[Function,Array]},params:{type:Object},render:Function,showCheckbox:{type:Boolean},checkStrictly:{type:Boolean},showFilter:{type:Boolean},titleKey:{type:String,default:"text"}},emits:["select-change","check-change","command"],setup:function(e,t){var n=Object(c["I"])(null),a=Object(c["g"])((function(){return e.showFilter&&"top"===e.filterPosition})),r=Object(c["g"])((function(){return e.showFilter&&"inner"===e.filterPosition})),l=Object(m["a"])(e.fetch,e.params,t,e.titleKey),o=l.treeRef,i=l.loading,d=l.query,s=l.treeData,u=l.getTreeData,b=l.reloadTree,h=l.reloadTreeWithCheck,f=l.handleSelect,p=l.handleChecked,j=l.handleFilter,O=l.filterNode;function g(e){switch(e){case"expandAll":o.value&&o.value.expandAll();break;case"collapseAll":o.value&&o.value.collapseAll();break;case"checkAll":o.value&&o.value.checkAll();break;case"uncheckAll":o.value&&o.value.uncheckAll();break}t.emit("command",e)}return u(),{treeEl:n,showTopSearch:a,showInnerSearch:r,treeRef:o,query:d,loading:i,treeData:s,getTreeData:u,reloadTree:b,reloadTreeWithCheck:h,handleSelect:f,handleChecked:p,handleAction:g,handleFilter:j,filterNode:O}}};n("f836");g.render=O,g.__scopeId="data-v-2b5f5e96";t["a"]=g},e2a1:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),a={href:"javascript:void(0)"},r=Object(c["l"])(" 增加部门 "),l=Object(c["l"])("增加根节点"),o=Object(c["l"])("增加子节点"),i=Object(c["l"])("增加根节点"),d=Object(c["l"])("增加子节点");function s(e,t,n,s,u,b){var h=Object(c["M"])("base-tree"),f=Object(c["M"])("b-space"),p=Object(c["M"])("b-divider"),j=Object(c["M"])("b-icon"),O=Object(c["M"])("b-dropdown-item"),m=Object(c["M"])("b-dropdown-menu"),g=Object(c["M"])("b-dropdown"),v=Object(c["M"])("page-wrapper");return Object(c["D"])(),Object(c["i"])(v,{desc:"页面内容为Mock数据，仅作示例使用。"},{default:Object(c["bb"])((function(){return[Object(c["m"])(f,{size:16,alignment:"flex-start"},{default:Object(c["bb"])((function(){return[Object(c["m"])(h,{"tree-title":"基础树",fetch:u.getDepartTree,onSelectChange:b.handleSelect},null,8,["fetch","onSelectChange"]),Object(c["m"])(h,{"tree-title":"可搜索",fetch:u.getDepartTree,"show-filter":"",onSelectChange:b.handleSelect},null,8,["fetch","onSelectChange"]),Object(c["m"])(h,{"tree-title":"搜索位置",fetch:u.getDepartTree,"show-filter":"","filter-position":"inner",onSelectChange:b.handleSelect},null,8,["fetch","onSelectChange"]),Object(c["m"])(h,{"tree-title":"开启多选",fetch:u.getDepartTree,"show-checkbox":"",onSelectChange:b.handleSelect,onCheckChange:b.handleChecked},null,8,["fetch","onSelectChange","onCheckChange"])]})),_:1}),Object(c["m"])(p),Object(c["m"])(f,{size:16,alignment:"flex-start"},{default:Object(c["bb"])((function(){return[Object(c["m"])(h,{"tree-title":"render函数",fetch:u.data,render:b.renderContent,onSelectChange:b.handleSelect},null,8,["fetch","render","onSelectChange"]),Object(c["m"])(h,{"tree-title":"自定义render",fetch:u.getDepartTree,render:b.renderContent2,onSelectChange:b.handleSelect},null,8,["fetch","render","onSelectChange"]),Object(c["m"])(h,{"tree-title":"额外操作",fetch:u.getDepartTree,onSelectChange:b.handleSelect},{default:Object(c["bb"])((function(){return[Object(c["m"])(g,{onCommand:b.handleCommand},{dropdown:Object(c["bb"])((function(){return[Object(c["m"])(m,null,{default:Object(c["bb"])((function(){return[Object(c["m"])(O,{name:"root",selected:""},{default:Object(c["bb"])((function(){return[l]})),_:1}),Object(c["m"])(O,{name:"child",disabled:!u.currentNode},{default:Object(c["bb"])((function(){return[o]})),_:1},8,["disabled"])]})),_:1})]})),default:Object(c["bb"])((function(){return[Object(c["m"])("a",a,[r,Object(c["m"])(j,{name:"down"})])]})),_:1},8,["onCommand"])]})),_:1},8,["fetch","onSelectChange"]),Object(c["m"])(h,{"tree-title":"插入操作",fetch:u.getDepartTree,onSelectChange:b.handleSelect,onCommand:b.handleCommand},{ctrl:Object(c["bb"])((function(){return[Object(c["m"])(O,{name:"root",divided:""},{default:Object(c["bb"])((function(){return[i]})),_:1}),Object(c["m"])(O,{name:"child",disabled:!u.currentNode},{default:Object(c["bb"])((function(){return[d]})),_:1},8,["disabled"])]})),_:1},8,["fetch","onSelectChange","onCommand"])]})),_:1})]})),_:1})}var u=n("2909"),b=(n("7db0"),n("a434"),n("366f")),h=n("c4c3"),f=n("dc62"),p={name:"CompBaseTree",components:{BaseTree:f["a"],PageWrapper:b["a"]},data:function(){var e=this;return{getDepartTree:h["a"],data:[{title:"parent 1",expand:!0,render:function(t){t.root,t.node;var n=t.data;return Object(c["p"])("span",{style:{display:"inline-flex",justifyContent:"space-between",width:"100%"}},[Object(c["p"])("span",n.title),Object(c["p"])("i",{class:["b-iconfont","b-icon-plus-square"],style:{fontSize:"16px",color:"#1089ff"},onClick:function(){e.append(n)}})])},children:[{title:"child 1-1"},{title:"child 1-2"}]}],currentNode:null}},methods:{renderContent:function(e){var t=this,n=e.root,a=e.node,r=e.data;return Object(c["p"])("span",{style:{display:"inline-flex",justifyContent:"space-between",width:"100%"}},[Object(c["p"])("span",r.title),Object(c["p"])("span",{style:{display:"inline-block"}},[Object(c["p"])("i",{class:["b-iconfont","b-icon-plus-circle"],style:{fontSize:"16px",color:"#5d6d7e"},onClick:function(e){e.stopPropagation(),t.append(r)}}),Object(c["p"])("i",{class:["b-iconfont","b-icon-minus-circle"],style:{fontSize:"16px",color:"#f5222d"},onClick:function(e){e.stopPropagation(),t.remove(n,a,r)}})])])},renderContent2:function(e){var t=this,n=(e.root,e.node,e.data);return Object(c["p"])("span",{style:{display:"inline-flex",justifyContent:"space-between",width:"100%"}},[Object(c["p"])("span",n.text),Object(c["p"])("span",{style:{display:"inline-block"}},[Object(c["p"])("i",{class:["b-iconfont","b-icon-plus-square-fill"],style:{fontSize:"18px",color:"#5d6d7e"},onClick:function(e){e.stopPropagation(),t.$message("给[".concat(n.text,"]增加子节点"))}}),Object(c["p"])("i",{class:["b-iconfont","b-icon-minus-square-fill"],style:{fontSize:"18px",color:"#f5222d"},onClick:function(e){e.stopPropagation(),t.$message("移除[".concat(n.text,"]"))}})])])},append:function(e){var t=e.children||[];e.expand=!0,t.push({title:"new node"}),e.children=t,this.data=Object(u["a"])(this.data)},remove:function(e,t,n){console.log(e,t,n);var c=e.find((function(e){return e===t})).parent,a=e.find((function(e){return e.nodeKey===c})).node,r=a.children.indexOf(n);a.children.splice(r,1)},handleSelect:function(e){console.log("-------comp-base-tree-------"),this.currentNode=e,console.log("----------------------------")},handleChecked:function(e){console.log("-------depart-------"),console.log(e),console.log("--------------------")},handleCommand:function(e){this.$message("click on item: "+JSON.stringify(e))}}};p.render=s;t["default"]=p},f441:function(e,t,n){"use strict";n("9e59")},f836:function(e,t,n){"use strict";n("3753")}}]);