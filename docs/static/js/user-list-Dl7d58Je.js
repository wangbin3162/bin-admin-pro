import{u as x}from"./useTable-CF2UehQz.js";import{g as w}from"./user.api-BrjfsMWw.js";import{n as L}from"./chunk-bin-ui-design-CMJ2EfEK.js";import{a8 as S,m as q,r as N,n as R,o as f,j as B,w as a,Q as i,K as t,b as n,a as v,R as D,t as d,f as r,i as M,F as V}from"./vendor-B29aizbt.js";import"./index-C63pl2jy.js";import"./chunk-brace-BklEY0pF.js";import"./chunk-mockjs-CGXE1Baq.js";const I={name:"UserList",setup(){const b=q({page:1,size:10}),c=N([]),{loading:h,list:o,total:C,getListData:k,pageChange:p,pageSizeChange:l}=x(w,b);function u(s){L.success(`复制ID：${s}成功！`)}function m(s,_){c.value[_].roles=s}return R(()=>o.value,s=>{c.value=s.map(_=>({..._,expand:!1}))}),k(),{query:b,roleMap:{admin:"管理员",user:"普通用户",op:"实施人员"},roleMapStyle:{admin:"purple",user:"blue",op:"volcano"},loading:h,list:o,copyList:c,total:C,pageChange:p,pageSizeChange:l,handleCopy:u,setRole:m}}},U={class:"list-wrap"},F={class:"list-item-meta"},T=["src"],j={class:"list-item-meta-name"},E={class:"list-item-id"},K={class:"list-item-email mt-8"},Q={class:"list-item-action mt-8",flex:"cross:center"},A={key:0,class:"list-item-action mt-8"},G={class:"mt-16 t-center"};function H(b,c,h,o,C,k){const p=i("b-skeleton"),l=i("b-divider"),u=i("b-button"),m=i("b-tag"),s=i("action-button"),_=i("b-page"),z=i("page-wrapper");return f(),B(z,{desc:"包含信息的列表，带有常规操作。本页面也用作示例，实际操作以业务需求自行编写。",bg:""},{default:a(()=>[t(p,{loading:o.loading},{template:a(()=>[t(p,{animation:""}),t(l),t(p,{animation:""}),t(l),t(p,{animation:""}),t(l)]),default:a(()=>[n("ul",U,[(f(!0),v(V,null,D(o.copyList,(e,y)=>(f(),v("li",{key:e.id,class:"user-list-item"},[n("div",F,[n("img",{src:e.avatar,alt:"",class:"avatar"},null,8,T),n("div",j,d(e.realName),1)]),n("div",E,[n("span",null,"ID:"+d(e.id),1),t(u,{size:"mini",icon:"file-copy",onClick:g=>o.handleCopy(e.id)},{default:a(()=>[r("复制")]),_:2},1032,["onClick"])]),n("div",K,"邮箱地址："+d(e.email),1),n("div",Q,[t(m,{type:e.verify?"success":"danger"},{default:a(()=>[r(d(e.verify?"已认证":"未认证"),1)]),_:2},1032,["type"]),t(m,{type:o.roleMapStyle[e.roles]},{default:a(()=>[r(d(o.roleMap[e.roles]),1)]),_:2},1032,["type"]),t(u,{icon:e.expand?"minus-square":"plus-square",size:"small",style:{"margin-left":"16px"},onClick:g=>e.expand=!e.expand},{default:a(()=>[r(d(e.expand?"收起操作":"展开操作"),1)]),_:2},1032,["icon","onClick"])]),e.expand?(f(),v("div",A,[t(s,{"button-props":{type:e.roles!=="admin"?"primary":null,size:"mini",disabled:e.roles==="admin"},onClick:g=>o.setRole("admin",y),message:"设置角色为管理员吗？",confirm:""},{default:a(()=>[r(" 管理员 ")]),_:2},1032,["button-props","onClick"]),t(l,{type:"vertical"}),t(s,{"button-props":{type:e.roles!=="user"?"primary":null,size:"mini",disabled:e.roles==="user"},onClick:g=>o.setRole("user",y),message:"设置角色为普通用户吗？",confirm:""},{default:a(()=>[r(" 普通用户 ")]),_:2},1032,["button-props","onClick"]),t(l,{type:"vertical"}),t(s,{"button-props":{type:e.roles!=="op"?"primary":null,size:"mini",disabled:e.roles==="op"},onClick:g=>o.setRole("op",y),message:"设置角色为实施人员吗？",confirm:""},{default:a(()=>[r(" 实施人员 ")]),_:2},1032,["button-props","onClick"])])):M("",!0)]))),128))])]),_:1},8,["loading"]),n("div",G,[t(_,{total:o.total,current:o.query.page,"onUpdate:current":c[0]||(c[0]=e=>o.query.page=e),"page-size":o.query.size,"show-elevator":"","show-sizer":"","show-total":"",onChange:o.pageChange,onSizeChange:o.pageSizeChange},null,8,["total","current","page-size","onChange","onSizeChange"])])]),_:1})}const $=S(I,[["render",H],["__scopeId","data-v-2ebb3631"]]);export{$ as default};
