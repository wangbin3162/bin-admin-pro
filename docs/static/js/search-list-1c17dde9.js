var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{g as u}from"./user.api-fa5f8796.js";import{u as d}from"./useTable-0a8072b7.js";import{_ as i}from"./index-18e52138.js";import{_ as p}from"./page-wrapper-17a7ae57.js";import{_ as s}from"./index-a6874ac7.js";import{y as m,f as b,n as c,J as f,o as g,c as y,w as _,u as h,A as w,K as x,F as j,a as V,q,t as v}from"./vendor-4890bdfb.js";import"./index-22ae5226.js";import"./chunk-bin-ui-next-e393e6f7.js";import"./chunk-brace-7f859248.js";const C={name:"SearchList",components:{ActionButton:s,PageWrapper:p,BaseTable:i},setup(){const e=m({page:1,size:10,name:"",roles:"",status:"",date:"",email:""}),i=b(!1),p=b([]),{loading:s,list:f,total:g,getListData:y,pageChange:_,pageSizeChange:h}=d(u,e);return c(f,(e=>{p.value=e.map((e=>{return u=((e,a)=>{for(var l in a||(a={}))o.call(a,l)&&r(e,l,a[l]);if(t)for(var l of t(a))n.call(a,l)&&r(e,l,a[l]);return e})({},e),a(u,l({expand:!1}));var u}))})),y(),{expand:i,query:e,loading:s,roleMap:{admin:"管理员",user:"普通用户",op:"实施人员"},total:g,copyList:p,getListData:y,pageChange:_,pageSizeChange:h,columns:[{title:"姓名",key:"realName"},{title:"登录名",key:"username"},{title:"邮箱",key:"email"},{title:"角色",slot:"roles"},{title:"出生日期",key:"createDate"},{title:"操作",width:100,align:"center",slot:"action"}]}}},k=q("重置"),z=q("查询"),O=q("新增"),S=q(" 更多操作 "),P=q("刷新"),L=q("删除"),U=q("编辑");C.render=function(e,a,l,t,o,n){const r=f("b-input"),u=f("b-form-item"),d=f("b-option"),i=f("b-select"),p=f("b-date-picker"),s=f("b-button"),m=f("b-form"),b=f("b-icon"),c=f("b-dropdown-item"),C=f("b-dropdown-menu"),D=f("b-dropdown"),M=f("action-button"),A=f("b-table"),B=f("b-page"),T=f("base-table"),E=f("page-wrapper");return g(),y(E,{desc:"基础表格的查询列表，带有常规操作。"},{default:_((()=>[h(T,null,{filter:_((()=>[h(m,{"label-width":"95px"},{default:_((()=>[h(u,{label:"用户名称"},{default:_((()=>[h(r,{modelValue:t.query.name,"onUpdate:modelValue":a[0]||(a[0]=e=>t.query.name=e),clearable:""},null,8,["modelValue"])])),_:1}),h(u,{label:"用户角色"},{default:_((()=>[h(i,{modelValue:t.query.roles,"onUpdate:modelValue":a[1]||(a[1]=e=>t.query.roles=e),clearable:""},{default:_((()=>[(g(!0),w(j,null,x(t.roleMap,((e,a)=>(g(),y(d,{key:a,label:e,value:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),t.expand?(g(),w(j,{key:0},[h(u,{label:"状态"},{default:_((()=>[h(i,{modelValue:t.query.status,"onUpdate:modelValue":a[2]||(a[2]=e=>t.query.status=e),clearable:""},{default:_((()=>[h(d,{label:"启用",value:"1"}),h(d,{label:"禁用",value:"0"})])),_:1},8,["modelValue"])])),_:1}),h(u,{label:"邮箱"},{default:_((()=>[h(r,{modelValue:t.query.email,"onUpdate:modelValue":a[3]||(a[3]=e=>t.query.email=e),clearable:""},null,8,["modelValue"])])),_:1}),h(u,{label:"日期"},{default:_((()=>[h(p,{modelValue:t.query.date,"onUpdate:modelValue":a[4]||(a[4]=e=>t.query.date=e),clearable:""},null,8,["modelValue"])])),_:1})],64)):V("",!0),h(u,null,{default:_((()=>[h(s,null,{default:_((()=>[k])),_:1}),h(s,{type:"primary",loading:t.loading},{default:_((()=>[z])),_:1},8,["loading"]),h(s,{type:"text",icon:t.expand?"up":"down",onClick:a[5]||(a[5]=e=>t.expand=!t.expand)},{default:_((()=>[q(v(t.expand?"收起":"展开"),1)])),_:1},8,["icon"])])),_:1})])),_:1})])),action:_((()=>[h(s,{type:"primary",icon:"plus-circle"},{default:_((()=>[O])),_:1})])),actionRight:_((()=>[h(D,{style:{"margin-left":"20px"}},{dropdown:_((()=>[h(C,null,{default:_((()=>[h(c,null,{default:_((()=>[P])),_:1}),h(c,null,{default:_((()=>[L])),_:1})])),_:1})])),default:_((()=>[h(s,null,{default:_((()=>[S,h(b,{name:"down"})])),_:1})])),_:1})])),page:_((()=>[h(B,{total:t.total,current:t.query.page,"page-size":t.query.size,"show-sizer":"","show-total":"",onChange:t.pageChange,onSizeChange:t.pageSizeChange},null,8,["total","current","page-size","onChange","onSizeChange"])])),default:_((()=>[h(A,{columns:t.columns,data:t.copyList,loading:t.loading,border:""},{roles:_((({row:e})=>[q(v(t.roleMap[e.roles]),1)])),action:_((()=>[h(M,{type:"text"},{default:_((()=>[U])),_:1})])),_:1},8,["columns","data","loading"])])),_:1})])),_:1})};export{C as default};
