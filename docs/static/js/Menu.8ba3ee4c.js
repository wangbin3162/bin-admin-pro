(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Menu"],{"4a4d":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c=Object(a["fb"])("data-v-5fac9031");Object(a["G"])("data-v-5fac9031");var l={class:"table-menu"},o=Object(a["l"])("增加根节点"),r=Object(a["l"])("增加子节点"),u={class:"table-menu-right"},i={flex:"main:justify cross:center",style:{"font-weight":"normal"}},d={class:"top"},b=Object(a["m"])("span",{class:"ml-5"},"编辑菜单",-1),m={style:{position:"relative","min-height":"100px",overflow:"hidden"}},f={style:{position:"absolute",width:"100%"}},s=Object(a["l"])("点选左侧菜单，进行编辑操作"),p={key:0,class:"pt-8"},j=Object(a["l"])("重置"),O=Object(a["l"])("系统菜单根节点不可编辑");Object(a["E"])();var v=c((function(e,t,n,v,h,g){var y=Object(a["M"])("b-dropdown-item"),N=Object(a["M"])("base-tree"),_=Object(a["M"])("iconfont"),M=Object(a["M"])("b-alert"),w=Object(a["M"])("b-input"),V=Object(a["M"])("b-form-item"),C=Object(a["M"])("b-icon-select"),k=Object(a["M"])("b-button"),S=Object(a["M"])("b-form"),R=Object(a["M"])("b-col"),F=Object(a["M"])("b-row"),I=Object(a["M"])("b-card"),T=Object(a["M"])("page-wrapper");return Object(a["D"])(),Object(a["i"])(T,{desc:"页面内容为Mock数据，仅作示例使用。"},{default:c((function(){return[Object(a["m"])("div",l,[Object(a["m"])(N,{ref:"treeRef","tree-title":"菜单列表","show-filter":"","title-key":"title",fetch:v.getMenuTree,onSelectChange:v.handleSelect,onCommand:v.handleCommand},{ctrl:c((function(){return[Object(a["m"])(y,{name:"root",divided:""},{default:c((function(){return[o]})),_:1}),Object(a["m"])(y,{name:"child",disabled:!v.currentNode},{default:c((function(){return[r]})),_:1},8,["disabled"])]})),_:1},8,["fetch","onSelectChange","onCommand"]),Object(a["m"])("div",u,[Object(a["m"])(I,{bordered:!1,class:"card-panel",shadow:"never"},{header:c((function(){return[Object(a["m"])("div",i,[Object(a["m"])("div",d,[Object(a["m"])(_,{icon:"menu",color:"primary",bg:"",round:""}),b])])]})),default:c((function(){return[Object(a["m"])("div",m,[Object(a["m"])(a["e"],{name:"fade-in"},{default:c((function(){return[Object(a["m"])("div",f,[Object(a["cb"])(Object(a["m"])(M,null,{default:c((function(){return[s]})),_:1},512),[[a["Y"],v.pageStatus.isNormal]])])]})),_:1}),Object(a["m"])(a["e"],{name:"fade-transverse"},{default:c((function(){return[v.pageStatus.isNormal?Object(a["j"])("",!0):(Object(a["D"])(),Object(a["i"])("div",p,["root"!==v.copyNode.path?(Object(a["D"])(),Object(a["i"])(F,{key:0},{default:c((function(){return[Object(a["m"])(R,{span:"14"},{default:c((function(){return[Object(a["m"])(S,{ref:"formRef",model:v.copyNode,rules:v.ruleValidate,"label-width":"100px","label-suffix":":"},{default:c((function(){return[Object(a["m"])(V,{label:"父级菜单"},{default:c((function(){return[Object(a["m"])(w,{modelValue:v.copyNode.parentName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return v.copyNode.parentName=e}),disabled:""},null,8,["modelValue"])]})),_:1}),Object(a["m"])(V,{label:"菜单名称",prop:"title"},{default:c((function(){return[Object(a["m"])(w,{modelValue:v.copyNode.title,"onUpdate:modelValue":t[2]||(t[2]=function(e){return v.copyNode.title=e}),placeholder:"输入菜单名称",clearable:""},null,8,["modelValue"])]})),_:1}),Object(a["m"])(V,{label:"菜单路径",prop:"path"},{default:c((function(){return[Object(a["m"])(w,{modelValue:v.copyNode.path,"onUpdate:modelValue":t[3]||(t[3]=function(e){return v.copyNode.path=e}),placeholder:"输入菜单路径",clearable:""},null,8,["modelValue"])]})),_:1}),Object(a["m"])(V,{label:"菜单图标"},{default:c((function(){return[Object(a["m"])(C,{modelValue:v.copyNode.icon,"onUpdate:modelValue":t[4]||(t[4]=function(e){return v.copyNode.icon=e})},null,8,["modelValue"])]})),_:1}),Object(a["m"])(V,null,{default:c((function(){return[Object(a["m"])(k,{type:"primary",onClick:v.handleSubmit,loading:v.editLoading},{default:c((function(){return[Object(a["l"])(Object(a["Q"])(v.pageStatus.isCreate?"提交数据":"更新数据"),1)]})),_:1},8,["onClick","loading"]),Object(a["m"])(k,{onClick:v.handleResetForm},{default:c((function(){return[j]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})]})),_:1})):(Object(a["D"])(),Object(a["i"])(M,{key:1,type:"error","show-icon":""},{default:c((function(){return[O]})),_:1}))]))]})),_:1})])]})),_:1})])])]})),_:1})})),h=n("5530"),g=n("77d9"),y=n("0c6d");function N(){return Object(y["b"])({url:"/menu/tree",method:"get"})}var _=n("8de1"),M=n("49bd"),w=n("ca00"),V=n("a8d7"),C=n("6487"),k={name:"Menu",components:{Iconfont:M["a"],BaseTree:_["a"],PageWrapper:g["a"]},setup:function(){var e=Object(a["I"])(null),t=Object(a["I"])(null),n=Object(a["I"])({}),c=Object(a["I"])({}),l=Object(V["a"])(),o=l.formRef,r=l.editStatus,u=l.pageStatus,i=l.editLoading,d=l.openCreate,b=l.openEdit,m=l.backNormal,f=l.submitForm,s=l.resetForm;function p(e,n){e.selected?(t.value=e,c.value=n,y()):v()}function j(e){if("root"===e&&g(),"child"===e){g();var a=t.value;n.value.parentPath=a.path,n.value.parentName=a.title}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"edit";if("edit"!==e)n.value={path:"",title:"",icon:"",parentPath:"",parentName:void 0};else{var a=c.value,l=t.value,o=a[l.nodeKey].parent,r=o||0===o?a[o].node:{};n.value=l?Object(h["a"])(Object(h["a"])({},Object(w["b"])(l)),{},{parentPath:0===o?"":r.path,parentName:r.title}):{}}}function v(){t.value=null,c.value=null,n.value={},m()}function g(){O("create"),d()}function y(){O("edit"),b()}function _(){f((function(){i.value=!0;var n=u.value;setTimeout((function(){C["b"].success("".concat(n.isCreate?"新增":"修改","成功！")),m();var a=t.value?[t.value.nodeKey]:[];e.value&&e.value.reloadTree(a),i.value=!1}),1e3)}))}function M(){O(r.value),s()}return{treeRef:e,getMenuTree:N,currentNode:t,copyNode:n,handleSelect:p,handleSubmit:_,handleResetForm:M,handleCommand:j,formRef:o,pageStatus:u,editLoading:i,submitForm:f,resetForm:s,ruleValidate:{path:[{required:!0,message:"菜单路径必填",trigger:"blur"}],title:[{required:!0,message:"菜单名称必填",trigger:"blur"}]}}}};n("c69e");k.render=v,k.__scopeId="data-v-5fac9031";t["default"]=k},6945:function(e,t,n){},c69e:function(e,t,n){"use strict";n("6945")}}]);