var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{f as n,y as r,g,G as c,J as u,o as d,A as f,B as p,E as h,u as b,d as v,z as y,r as M,a as m}from"./vendor-b1b195f8.js";const x={name:"page-cube-wrapper",props:{leftDefaultWidth:{type:String,default:"240px"},leftExpandText:{type:String,default:"展开"},leftCollapseText:{type:String,default:"收起"},defaultHeight:{type:Number,default:280},defaultMinHeight:{type:Number,default:12},draggableMinHeight:{type:Number,default:48}},setup(e,{slots:u}){const d=n(null),f=r({active:!1,hasMoved:!1,height:e.defaultHeight,wrapHeight:0}),p=n(!0),h=g((()=>p.value?e.leftDefaultWidth:"12px")),b=g((()=>u.left&&p.value?`calc(100% - ${e.leftDefaultWidth})`:"100%"));return v=((e,t)=>{for(var a in t||(t={}))i.call(t,a)&&o(e,a,t[a]);if(l)for(var a of l(t))s.call(t,a)&&o(e,a,t[a]);return e})({cubeRef:d},c(f)),t(v,a({leftExpand:p,leftWidth:h,rightWidth:b,toggleLeft:()=>{p.value=!p.value},changeDragStatus:t=>{if("default"===t)f.height=e.defaultHeight;else if("maximum"===t)f.height=e.defaultMinHeight;else{if(!d.value)return;f.height=d.value.clientHeight-e.draggableMinHeight}},onResizeMouseDown:()=>{u.draggable&&(f.active=!0,f.hasMoved=!1)},onResizeMouseUp:()=>{u.draggable&&(f.active=!1)},onResizeMouseMove:t=>{if(u.draggable&&(0!==t.buttons&&0!==t.which||(f.active=!1),f.active)){let a=0,l=t.currentTarget;for(f.wrapHeight=l.clientHeight;l;)a+=l.offsetTop,l=l.offsetParent;const i=t.pageY-a;i>e.defaultMinHeight&&i<f.wrapHeight-e.draggableMinHeight&&(f.height=i),f.hasMoved=!0}}}));var v}},w={class:"page-cube-wrapper",ref:"cubeRef"},H={class:"page-cube"},z=["title"],D={class:"cube-left-content"},R={class:"toggle"};x.render=function(e,t,a,l,i,s){const o=u("b-icon");return d(),f("div",w,[p("div",H,[e.$slots.left?(d(),f("div",{key:0,class:"page-cube-left",style:h({width:l.leftWidth})},[p("div",{class:"toggle",style:h({left:l.leftWidth,opacity:l.leftExpand?null:1}),title:l.leftExpand?a.leftCollapseText:a.leftExpandText,onClick:t[0]||(t[0]=(...e)=>l.toggleLeft&&l.toggleLeft(...e))},[b(o,{name:l.leftExpand?"caret-left":"caret-right"},null,8,["name"])],12,z),v(p("div",D,[M(e.$slots,"left",{},void 0,!0)],512),[[y,l.leftExpand]])],4)):m("",!0),p("div",{class:"page-cube-content",onMouseup:t[5]||(t[5]=(...e)=>l.onResizeMouseUp&&l.onResizeMouseUp(...e)),onMousemove:t[6]||(t[6]=(...e)=>l.onResizeMouseMove&&l.onResizeMouseMove(...e)),style:h({width:l.rightWidth,cursor:e.active?"col-resize":"",userSelect:e.active?"none":""})},[e.$slots.default?(d(),f("div",{key:0,style:h({height:e.$slots.draggable?e.height+"px":"100%"})},[M(e.$slots,"default",{},void 0,!0)],4)):m("",!0),e.$slots.draggable?(d(),f("div",{key:1,class:"draggable-content",style:h({height:`calc(100% - ${e.height}px)`})},[p("div",R,[p("i",{class:"b-iconfont b-icon-caret-up",title:"展开",onClick:t[1]||(t[1]=e=>l.changeDragStatus("maximum"))}),p("i",{class:"b-iconfont b-icon-caret-down",title:"收起",onClick:t[2]||(t[2]=e=>l.changeDragStatus("minimum"))}),p("i",{class:"b-iconfont b-icon-creditcard-fill",title:"默认高度",onClick:t[3]||(t[3]=e=>l.changeDragStatus("default"))})]),p("div",{class:"drag-handler",draggable:"true",onMousedown:t[4]||(t[4]=(...e)=>l.onResizeMouseDown&&l.onResizeMouseDown(...e))},null,32),M(e.$slots,"draggable",{},void 0,!0)],4)):m("",!0)],36)])],512)},x.__scopeId="data-v-cef1aa30";export{x as _};
