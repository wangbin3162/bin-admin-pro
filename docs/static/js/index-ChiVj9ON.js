import{a8 as I,m as U,r as k,q as K,o as i,a as u,g as M,v as O,K as t,w as a,b as n,L as c,f as r,z as P,F as Q,Q as W,i as f,j as C,af as A,R as o,t as b,G as H}from"./vendor-B7whOB5j.js";import{u as J}from"./useTable-D2J07cK1.js";import{e as X,l as Y,g as Z}from"./cross-tab-msg-DpuitA_N.js";import{_ as ee}from"./index-BeiDIggM.js";import"./chunk-brace-DF1jSkZr.js";import"./index-CnBue4Tw.js";import"./chunk-bin-ui-design-QY08qtjO.js";const te={class:"filter-wrap"},ae={class:"list-wrapper"},ne={class:"card-item",key:"add"},oe={class:"p16"},se={flex:"cross:center"},le={class:"item-title"},ie={class:"item-author"},re={class:"item-desc"},de={class:"item-extra"},ce={key:0,style:{height:"175px"}},pe=Object.assign({name:"ExcelList"},{__name:"index",setup(_e){const p=U({page:1,size:10,name:"",isPublish:"1"}),h=A(),v=k(null),_=k(!1),{loading:g,list:y,handleSearch:m,getListData:D}=J(X,p);m();function T(){p.name="",m()}function V({id:l}){let e=h.resolve({path:"/data-edit",query:{tempId:l}});window.open(e.href,"_blank")}function L(){let l=h.resolve({path:"/excel-edit",query:{}});window.open(l.href,"_blank")}async function S({id:l}){const e=await Z(l);_.value=!0,await H(),v.value.open(e)}function B(){_.value=!1}const R=Y(D);return K(R),(l,e)=>{const q=o("b-input"),w=o("b-form-item"),d=o("b-button"),z=o("b-form"),x=o("b-col"),N=o("b-row"),E=o("b-card"),$=o("b-loading"),j=o("b-empty"),F=o("page-wrapper");return i(),u("div",null,[M(t(F,null,{default:a(()=>[n("div",te,[t(z,{"label-width":"95px",inline:""},{default:a(()=>[t(w,{label:"报表名称"},{default:a(()=>[t(q,{modelValue:p.name,"onUpdate:modelValue":e[0]||(e[0]=s=>p.name=s),clearable:""},null,8,["modelValue"])]),_:1}),t(w,{"label-width":"16px"},{default:a(()=>[t(d,{type:"primary",loading:c(g),onClick:c(m)},{default:a(()=>e[1]||(e[1]=[r("查询")])),_:1},8,["loading","onClick"]),t(d,{onClick:T},{default:a(()=>e[2]||(e[2]=[r("重置")])),_:1})]),_:1})]),_:1})]),n("div",ae,[t(P,{tag:"div",name:"fade",class:"card-list-wrap"},{default:a(()=>[n("div",ne,[t(d,{icon:"plus",dashed:"",style:{height:"175px",width:"100%"},onClick:L},{default:a(()=>e[3]||(e[3]=[r(" 新增表单 ")])),_:1})]),(i(!0),u(Q,null,W(c(y),s=>(i(),u("div",{key:s.id,class:"card-item"},[t(E,{class:"app-item",style:{width:"100%",height:"175px",margin:"0"},"body-style":{padding:0},shadow:"never"},{default:a(()=>[n("div",oe,[n("div",se,[n("div",le,b(s.name),1)])]),n("div",null,[n("div",ie,"上报数量："+b(s.reportCount),1),n("div",re,"字段数量："+b(s.mapping.length),1)]),n("div",de,[t(N,null,{default:a(()=>[t(x,{span:"12"},{default:a(()=>[t(d,{type:"text","text-color":"warning",icon:"file-add","icon-style":{fontSize:"18px"},onClick:G=>V(s)},{default:a(()=>e[4]||(e[4]=[r(" 数据填报 ")])),_:2},1032,["onClick"])]),_:2},1024),t(x,{span:"12"},{default:a(()=>[t(d,{type:"text","text-color":"primary",icon:"filesearch","icon-style":{fontSize:"18px"},onClick:G=>S(s)},{default:a(()=>e[5]||(e[5]=[r(" 查看数据 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]))),128))]),_:1}),c(g)?(i(),u("div",ce,[t($,{style:{background:"transparent"}})])):f("",!0),c(y).length===0?(i(),C(j,{key:1},{default:a(()=>e[6]||(e[6]=[r("暂无已发布填报")])),_:1})):f("",!0)])]),_:1},512),[[O,!_.value]]),_.value?(i(),C(ee,{key:0,ref_key:"dataTableRef",ref:v,onClose:B},null,512)):f("",!0)])}}}),ye=I(pe,[["__scopeId","data-v-36b0a69e"]]);export{ye as default};
