import{a5 as De}from"./vendor-fd0a4eac.js";var $r={value:()=>{}};function At(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Bt(e)}function Bt(t){this._=t}function br(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Bt.prototype=At.prototype={constructor:Bt,on:function(t,n){var e=this._,r=br(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=kr(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=ie(e[i],t.name,n);else if(n==null)for(i in e)e[i]=ie(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Bt(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function kr(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function ie(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=$r,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var wn="http://www.w3.org/1999/xhtml";const oe={svg:"http://www.w3.org/2000/svg",xhtml:wn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bt(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),oe.hasOwnProperty(n)?{space:oe[n],local:t}:t}function Nr(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===wn&&n.documentElement.namespaceURI===wn?n.createElement(t):n.createElementNS(e,t)}}function Mr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ce(t){var n=bt(t);return(n.local?Mr:Nr)(n)}function Sr(){}function en(t){return t==null?Sr:function(){return this.querySelector(t)}}function zr(t){typeof t!="function"&&(t=en(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=a[c])&&(l=t.call(u,u.__data__,c,a))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Y(r,this._parents)}function Re(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Tr(){return[]}function Wn(t){return t==null?Tr:function(){return this.querySelectorAll(t)}}function Pr(t){return function(){return Re(t.apply(this,arguments))}}function Ar(t){typeof t=="function"?t=Pr(t):t=Wn(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),i.push(u));return new Y(r,i)}function Fn(t){return function(){return this.matches(t)}}function Ie(t){return function(n){return n.matches(t)}}var Dr=Array.prototype.find;function Cr(t){return function(){return Dr.call(this.children,t)}}function Rr(){return this.firstElementChild}function Ir(t){return this.select(t==null?Rr:Cr(typeof t=="function"?t:Ie(t)))}var Lr=Array.prototype.filter;function Or(){return Array.from(this.children)}function Wr(t){return function(){return Lr.call(this.children,t)}}function Fr(t){return this.selectAll(t==null?Or:Wr(typeof t=="function"?t:Ie(t)))}function qr(t){typeof t!="function"&&(t=Fn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new Y(r,this._parents)}function Le(t){return new Array(t.length)}function Br(){return new Y(this._enter||this._groups.map(Le),this._parents)}function Gt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Gt.prototype={constructor:Gt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Vr(t){return function(){return t}}function Xr(t,n,e,r,i,a){for(var o=0,s,u=n.length,l=a.length;o<l;++o)(s=n[o])?(s.__data__=a[o],r[o]=s):e[o]=new Gt(t,a[o]);for(;o<u;++o)(s=n[o])&&(i[o]=s)}function Hr(t,n,e,r,i,a,o){var s,u,l=new Map,c=n.length,h=a.length,d=new Array(c),p;for(s=0;s<c;++s)(u=n[s])&&(d[s]=p=o.call(u,u.__data__,s,n)+"",l.has(p)?i[s]=u:l.set(p,u));for(s=0;s<h;++s)p=o.call(t,a[s],s,a)+"",(u=l.get(p))?(r[s]=u,u.__data__=a[s],l.delete(p)):e[s]=new Gt(t,a[s]);for(s=0;s<c;++s)(u=n[s])&&l.get(d[s])===u&&(i[s]=u)}function Ur(t){return t.__data__}function Yr(t,n){if(!arguments.length)return Array.from(this,Ur);var e=n?Hr:Xr,r=this._parents,i=this._groups;typeof t!="function"&&(t=Vr(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],d=h.length,p=Gr(t.call(c,c&&c.__data__,l,r)),m=p.length,v=s[l]=new Array(m),w=o[l]=new Array(m),y=u[l]=new Array(d);e(c,h,v,w,y,p,n);for(var S=0,k=0,N,$;S<m;++S)if(N=v[S]){for(S>=k&&(k=S+1);!($=w[k])&&++k<m;);N._next=$||null}}return o=new Y(o,r),o._enter=s,o._exit=u,o}function Gr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Zr(){return new Y(this._exit||this._groups.map(Le),this._parents)}function Kr(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Qr(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l=e[u],c=r[u],h=l.length,d=s[u]=new Array(h),p,m=0;m<h;++m)(p=l[m]||c[m])&&(d[m]=p);for(;u<i;++u)s[u]=e[u];return new Y(s,this._parents)}function Jr(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function jr(t){t||(t=ti);function n(h,d){return h&&d?t(h.__data__,d.__data__):!h-!d}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(n)}return new Y(i,this._parents).order()}function ti(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ni(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ei(){return Array.from(this)}function ri(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function ii(){let t=0;for(const n of this)++t;return t}function oi(){return!this.node()}function ai(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function si(t){return function(){this.removeAttribute(t)}}function ui(t){return function(){this.removeAttributeNS(t.space,t.local)}}function li(t,n){return function(){this.setAttribute(t,n)}}function ci(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function hi(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function fi(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function di(t,n){var e=bt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?ui:si:typeof n=="function"?e.local?fi:hi:e.local?ci:li)(e,n))}function Oe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pi(t){return function(){this.style.removeProperty(t)}}function gi(t,n,e){return function(){this.style.setProperty(t,n,e)}}function vi(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function _i(t,n,e){return arguments.length>1?this.each((n==null?pi:typeof n=="function"?vi:gi)(t,n,e==null?"":e)):tt(this.node(),t)}function tt(t,n){return t.style.getPropertyValue(n)||Oe(t).getComputedStyle(t,null).getPropertyValue(n)}function yi(t){return function(){delete this[t]}}function wi(t,n){return function(){this[t]=n}}function mi(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function xi(t,n){return arguments.length>1?this.each((n==null?yi:typeof n=="function"?mi:wi)(t,n)):this.node()[t]}function We(t){return t.trim().split(/^|\s+/)}function qn(t){return t.classList||new Fe(t)}function Fe(t){this._node=t,this._names=We(t.getAttribute("class")||"")}Fe.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function qe(t,n){for(var e=qn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Be(t,n){for(var e=qn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ei(t){return function(){qe(this,t)}}function $i(t){return function(){Be(this,t)}}function bi(t,n){return function(){(n.apply(this,arguments)?qe:Be)(this,t)}}function ki(t,n){var e=We(t+"");if(arguments.length<2){for(var r=qn(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?bi:n?Ei:$i)(e,n))}function Ni(){this.textContent=""}function Mi(t){return function(){this.textContent=t}}function Si(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function zi(t){return arguments.length?this.each(t==null?Ni:(typeof t=="function"?Si:Mi)(t)):this.node().textContent}function Ti(){this.innerHTML=""}function Pi(t){return function(){this.innerHTML=t}}function Ai(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function Di(t){return arguments.length?this.each(t==null?Ti:(typeof t=="function"?Ai:Pi)(t)):this.node().innerHTML}function Ci(){this.nextSibling&&this.parentNode.appendChild(this)}function Ri(){return this.each(Ci)}function Ii(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Li(){return this.each(Ii)}function Oi(t){var n=typeof t=="function"?t:Ce(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Wi(){return null}function Fi(t,n){var e=typeof t=="function"?t:Ce(t),r=n==null?Wi:typeof n=="function"?n:en(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function qi(){var t=this.parentNode;t&&t.removeChild(this)}function Bi(){return this.each(qi)}function Vi(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Xi(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Hi(t){return this.select(t?Xi:Vi)}function Ui(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Yi(t){return function(n){t.call(this,n,this.__data__)}}function Gi(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Zi(t){return function(){var n=this.__on;if(!!n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function Ki(t,n,e){return function(){var r=this.__on,i,a=Yi(n);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Qi(t,n,e){var r=Gi(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=n?Ki:Zi,i=0;i<a;++i)this.each(s(r[i],n,e));return this}function Ve(t,n,e){var r=Oe(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ji(t,n){return function(){return Ve(this,t,n)}}function ji(t,n){return function(){return Ve(this,t,n.apply(this,arguments))}}function to(t,n){return this.each((typeof n=="function"?ji:Ji)(t,n))}function*no(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Bn=[null];function Y(t,n){this._groups=t,this._parents=n}function K(){return new Y([[document.documentElement]],Bn)}function eo(){return this}Y.prototype=K.prototype={constructor:Y,select:zr,selectAll:Ar,selectChild:Ir,selectChildren:Fr,filter:qr,data:Yr,enter:Br,exit:Zr,join:Kr,merge:Qr,selection:eo,order:Jr,sort:jr,call:ni,nodes:ei,node:ri,size:ii,empty:oi,each:ai,attr:di,style:_i,property:xi,classed:ki,text:zi,html:Di,raise:Ri,lower:Li,append:Oi,insert:Fi,remove:Bi,clone:Hi,datum:Ui,on:Qi,dispatch:to,[Symbol.iterator]:no};function C(t){return typeof t=="string"?new Y([[document.querySelector(t)]],[document.documentElement]):new Y([[t]],Bn)}function ro(t){let n;for(;n=t.sourceEvent;)t=n;return t}function pt(t,n){if(t=ro(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Vn(t){return typeof t=="string"?new Y([document.querySelectorAll(t)],[document.documentElement]):new Y([Re(t)],Bn)}const mn={capture:!0,passive:!1};function xn(t){t.preventDefault(),t.stopImmediatePropagation()}function io(t){var n=t.document.documentElement,e=C(t).on("dragstart.drag",xn,mn);"onselectstart"in n?e.on("selectstart.drag",xn,mn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function oo(t,n){var e=t.document.documentElement,r=C(t).on("dragstart.drag",null);n&&(r.on("click.drag",xn,mn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Xn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Xe(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Dt(){}var zt=.7,Zt=1/zt,mt="\\s*([+-]?\\d+)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ao=/^#([0-9a-f]{3,8})$/,so=new RegExp(`^rgb\\(${mt},${mt},${mt}\\)$`),uo=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),lo=new RegExp(`^rgba\\(${mt},${mt},${mt},${Tt}\\)$`),co=new RegExp(`^rgba\\(${rt},${rt},${rt},${Tt}\\)$`),ho=new RegExp(`^hsl\\(${Tt},${rt},${rt}\\)$`),fo=new RegExp(`^hsla\\(${Tt},${rt},${rt},${Tt}\\)$`),ae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xn(Dt,ct,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:se,formatHex:se,formatHex8:po,formatHsl:go,formatRgb:ue,toString:ue});function se(){return this.rgb().formatHex()}function po(){return this.rgb().formatHex8()}function go(){return He(this).formatHsl()}function ue(){return this.rgb().formatRgb()}function ct(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=ao.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?le(n):e===3?new G(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?It(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?It(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=so.exec(t))?new G(n[1],n[2],n[3],1):(n=uo.exec(t))?new G(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=lo.exec(t))?It(n[1],n[2],n[3],n[4]):(n=co.exec(t))?It(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=ho.exec(t))?fe(n[1],n[2]/100,n[3]/100,1):(n=fo.exec(t))?fe(n[1],n[2]/100,n[3]/100,n[4]):ae.hasOwnProperty(t)?le(ae[t]):t==="transparent"?new G(NaN,NaN,NaN,0):null}function le(t){return new G(t>>16&255,t>>8&255,t&255,1)}function It(t,n,e,r){return r<=0&&(t=n=e=NaN),new G(t,n,e,r)}function vo(t){return t instanceof Dt||(t=ct(t)),t?(t=t.rgb(),new G(t.r,t.g,t.b,t.opacity)):new G}function En(t,n,e,r){return arguments.length===1?vo(t):new G(t,n,e,r==null?1:r)}function G(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Xn(G,En,Xe(Dt,{brighter(t){return t=t==null?Zt:Math.pow(Zt,t),new G(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zt:Math.pow(zt,t),new G(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new G(_t(this.r),_t(this.g),_t(this.b),Kt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ce,formatHex:ce,formatHex8:_o,formatRgb:he,toString:he}));function ce(){return`#${vt(this.r)}${vt(this.g)}${vt(this.b)}`}function _o(){return`#${vt(this.r)}${vt(this.g)}${vt(this.b)}${vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function he(){const t=Kt(this.opacity);return`${t===1?"rgb(":"rgba("}${_t(this.r)}, ${_t(this.g)}, ${_t(this.b)}${t===1?")":`, ${t})`}`}function Kt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vt(t){return t=_t(t),(t<16?"0":"")+t.toString(16)}function fe(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new j(t,n,e,r)}function He(t){if(t instanceof j)return new j(t.h,t.s,t.l,t.opacity);if(t instanceof Dt||(t=ct(t)),!t)return new j;if(t instanceof j)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,s=a-i,u=(a+i)/2;return s?(n===a?o=(e-r)/s+(e<r)*6:e===a?o=(r-n)/s+2:o=(n-e)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new j(o,s,u,t.opacity)}function yo(t,n,e,r){return arguments.length===1?He(t):new j(t,n,e,r==null?1:r)}function j(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Xn(j,yo,Xe(Dt,{brighter(t){return t=t==null?Zt:Math.pow(Zt,t),new j(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zt:Math.pow(zt,t),new j(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new G(vn(t>=240?t-240:t+120,i,r),vn(t,i,r),vn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new j(de(this.h),Lt(this.s),Lt(this.l),Kt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kt(this.opacity);return`${t===1?"hsl(":"hsla("}${de(this.h)}, ${Lt(this.s)*100}%, ${Lt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function de(t){return t=(t||0)%360,t<0?t+360:t}function Lt(t){return Math.max(0,Math.min(1,t||0))}function vn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Hn=t=>()=>t;function wo(t,n){return function(e){return t+e*n}}function mo(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function xo(t){return(t=+t)==1?Ue:function(n,e){return e-n?mo(n,e,t):Hn(isNaN(n)?e:n)}}function Ue(t,n){var e=n-t;return e?wo(t,e):Hn(isNaN(t)?n:t)}const xt=function t(n){var e=xo(n);function r(i,a){var o=e((i=En(i)).r,(a=En(a)).r),s=e(i.g,a.g),u=e(i.b,a.b),l=Ue(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Eo(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function $o(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bo(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=rn(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function ko(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function J(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function No(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=rn(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var $n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_n=new RegExp($n.source,"g");function Mo(t){return function(){return t}}function So(t){return function(n){return t(n)+""}}function Un(t,n){var e=$n.lastIndex=_n.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(t=t+"",n=n+"";(r=$n.exec(t))&&(i=_n.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:J(r,i)})),e=_n.lastIndex;return e<n.length&&(a=n.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?So(u[0].x):Mo(n):(n=u.length,function(l){for(var c=0,h;c<n;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function rn(t,n){var e=typeof n,r;return n==null||e==="boolean"?Hn(n):(e==="number"?J:e==="string"?(r=ct(n))?(n=r,xt):Un:n instanceof ct?xt:n instanceof Date?ko:$o(n)?Eo:Array.isArray(n)?bo:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?No:J)(t,n)}var pe=180/Math.PI,bn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ye(t,n,e,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,u/=s),t*r<n*e&&(t=-t,n=-n,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*pe,skewX:Math.atan(u)*pe,scaleX:o,scaleY:s}}var Ot;function zo(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?bn:Ye(n.a,n.b,n.c,n.d,n.e,n.f)}function To(t){return t==null||(Ot||(Ot=document.createElementNS("http://www.w3.org/2000/svg","g")),Ot.setAttribute("transform",t),!(t=Ot.transform.baseVal.consolidate()))?bn:(t=t.matrix,Ye(t.a,t.b,t.c,t.d,t.e,t.f))}function Ge(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function a(l,c,h,d,p,m){if(l!==h||c!==d){var v=p.push("translate(",null,n,null,e);m.push({i:v-4,x:J(l,h)},{i:v-2,x:J(c,d)})}else(h||d)&&p.push("translate("+h+n+d+e)}function o(l,c,h,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:J(l,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(l,c,h,d){l!==c?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:J(l,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(l,c,h,d,p,m){if(l!==h||c!==d){var v=p.push(i(p)+"scale(",null,",",null,")");m.push({i:v-4,x:J(l,h)},{i:v-2,x:J(c,d)})}else(h!==1||d!==1)&&p.push(i(p)+"scale("+h+","+d+")")}return function(l,c){var h=[],d=[];return l=t(l),c=t(c),a(l.translateX,l.translateY,c.translateX,c.translateY,h,d),o(l.rotate,c.rotate,h,d),s(l.skewX,c.skewX,h,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,d),l=c=null,function(p){for(var m=-1,v=d.length,w;++m<v;)h[(w=d[m]).i]=w.x(p);return h.join("")}}}var Ze=Ge(zo,"px, ","px)","deg)"),Yn=Ge(To,", ",")",")"),Po=1e-12;function ge(t){return((t=Math.exp(t))+1/t)/2}function Ao(t){return((t=Math.exp(t))-1/t)/2}function Do(t){return((t=Math.exp(2*t))-1)/(t+1)}const Co=function t(n,e,r){function i(a,o){var s=a[0],u=a[1],l=a[2],c=o[0],h=o[1],d=o[2],p=c-s,m=h-u,v=p*p+m*m,w,y;if(v<Po)y=Math.log(d/l)/n,w=function(W){return[s+W*p,u+W*m,l*Math.exp(n*W*y)]};else{var S=Math.sqrt(v),k=(d*d-l*l+r*v)/(2*l*e*S),N=(d*d-l*l-r*v)/(2*d*e*S),$=Math.log(Math.sqrt(k*k+1)-k),R=Math.log(Math.sqrt(N*N+1)-N);y=(R-$)/n,w=function(W){var X=W*y,q=ge($),U=l/(e*S)*(q*Do(n*X+$)-Ao($));return[s+U*p,u+U*m,l*q/ge(n*X+$)]}}return w.duration=y*1e3*n/Math.SQRT2,w}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,u=s*s;return t(o,s,u)},i}(Math.SQRT2,2,4);var Et=0,Mt=0,kt=0,Ke=1e3,Qt,St,Jt=0,yt=0,on=0,Pt=typeof performance=="object"&&performance.now?performance:Date,Qe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function an(){return yt||(Qe(Ro),yt=Pt.now()+on)}function Ro(){yt=0}function jt(){this._call=this._time=this._next=null}jt.prototype=Gn.prototype={constructor:jt,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?an():+e)+(n==null?0:+n),!this._next&&St!==this&&(St?St._next=this:Qt=this,St=this),this._call=t,this._time=e,kn()},stop:function(){this._call&&(this._call=null,this._time=1/0,kn())}};function Gn(t,n,e){var r=new jt;return r.restart(t,n,e),r}function Io(){an(),++Et;for(var t=Qt,n;t;)(n=yt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Et}function ve(){yt=(Jt=Pt.now())+on,Et=Mt=0;try{Io()}finally{Et=0,Oo(),yt=0}}function Lo(){var t=Pt.now(),n=t-Jt;n>Ke&&(on-=n,Jt=t)}function Oo(){for(var t,n=Qt,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Qt=e);St=t,kn(r)}function kn(t){if(!Et){Mt&&(Mt=clearTimeout(Mt));var n=t-yt;n>24?(t<1/0&&(Mt=setTimeout(ve,t-Pt.now()-on)),kt&&(kt=clearInterval(kt))):(kt||(Jt=Pt.now(),kt=setInterval(Lo,Ke)),Et=1,Qe(ve))}}function $t(t,n,e){var r=new jt;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Wo=At("start","end","cancel","interrupt"),Fo=[],Je=0,_e=1,Nn=2,Vt=3,ye=4,Mn=5,Xt=6;function sn(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;qo(t,e,{name:n,index:r,group:i,on:Wo,tween:Fo,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Je})}function Zn(t,n){var e=nt(t,n);if(e.state>Je)throw new Error("too late; already scheduled");return e}function ot(t,n){var e=nt(t,n);if(e.state>Vt)throw new Error("too late; already running");return e}function nt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function qo(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Gn(a,0,e.time);function a(l){e.state=_e,e.timer.restart(o,e.delay,e.time),e.delay<=l&&o(l-e.delay)}function o(l){var c,h,d,p;if(e.state!==_e)return u();for(c in r)if(p=r[c],p.name===e.name){if(p.state===Vt)return $t(o);p.state===ye?(p.state=Xt,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<n&&(p.state=Xt,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if($t(function(){e.state===Vt&&(e.state=ye,e.timer.restart(s,e.delay,e.time),s(l))}),e.state=Nn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Nn){for(e.state=Vt,i=new Array(d=e.tween.length),c=0,h=-1;c<d;++c)(p=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=p);i.length=h+1}}function s(l){for(var c=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(u),e.state=Mn,1),h=-1,d=i.length;++h<d;)i[h].call(t,c);e.state===Mn&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=Xt,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function Ht(t,n){var e=t.__transition,r,i,a=!0,o;if(!!e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>Nn&&r.state<Mn,r.state=Xt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function Bo(t){return this.each(function(){Ht(this,t)})}function Vo(t,n){var e,r;return function(){var i=ot(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Xo(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=ot(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function Ho(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=nt(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?Vo:Xo)(e,t,n))}function Kn(t,n,e){var r=t._id;return t.each(function(){var i=ot(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return nt(i,r).value[n]}}function je(t,n){var e;return(typeof n=="number"?J:n instanceof ct?xt:(e=ct(n))?(n=e,xt):Un)(t,n)}function Uo(t){return function(){this.removeAttribute(t)}}function Yo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Go(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function Zo(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function Ko(t,n,e){var r,i,a;return function(){var o,s=e(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,s)))}}function Qo(t,n,e){var r,i,a;return function(){var o,s=e(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,s)))}}function Jo(t,n){var e=bt(t),r=e==="transform"?Yn:je;return this.attrTween(t,typeof n=="function"?(e.local?Qo:Ko)(e,r,Kn(this,"attr."+t,n)):n==null?(e.local?Yo:Uo)(e):(e.local?Zo:Go)(e,r,n))}function jo(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function ta(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function na(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&ta(t,a)),e}return i._value=n,i}function ea(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&jo(t,a)),e}return i._value=n,i}function ra(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=bt(t);return this.tween(e,(r.local?na:ea)(r,n))}function ia(t,n){return function(){Zn(this,t).delay=+n.apply(this,arguments)}}function oa(t,n){return n=+n,function(){Zn(this,t).delay=n}}function aa(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ia:oa)(n,t)):nt(this.node(),n).delay}function sa(t,n){return function(){ot(this,t).duration=+n.apply(this,arguments)}}function ua(t,n){return n=+n,function(){ot(this,t).duration=n}}function la(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?sa:ua)(n,t)):nt(this.node(),n).duration}function ca(t,n){if(typeof n!="function")throw new Error;return function(){ot(this,t).ease=n}}function ha(t){var n=this._id;return arguments.length?this.each(ca(n,t)):nt(this.node(),n).ease}function fa(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;ot(this,t).ease=e}}function da(t){if(typeof t!="function")throw new Error;return this.each(fa(this._id,t))}function pa(t){typeof t!="function"&&(t=Fn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new ht(r,this._parents,this._name,this._id)}function ga(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=n[s],l=e[s],c=u.length,h=o[s]=new Array(c),d,p=0;p<c;++p)(d=u[p]||l[p])&&(h[p]=d);for(;s<r;++s)o[s]=n[s];return new ht(o,this._parents,this._name,this._id)}function va(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function _a(t,n,e){var r,i,a=va(n)?Zn:ot;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(n,e),o.on=i}}function ya(t,n){var e=this._id;return arguments.length<2?nt(this.node(),e).on.on(t):this.each(_a(e,t,n))}function wa(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function ma(){return this.on("end.remove",wa(this._id))}function xa(t){var n=this._name,e=this._id;typeof t!="function"&&(t=en(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,h,d=0;d<u;++d)(c=s[d])&&(h=t.call(c,c.__data__,d,s))&&("__data__"in c&&(h.__data__=c.__data__),l[d]=h,sn(l[d],n,e,d,l,nt(c,e)));return new ht(a,this._parents,n,e)}function Ea(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Wn(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var d=t.call(c,c.__data__,h,u),p,m=nt(c,e),v=0,w=d.length;v<w;++v)(p=d[v])&&sn(p,n,e,v,d,m);a.push(d),o.push(c)}return new ht(a,o,n,e)}var $a=K.prototype.constructor;function ba(){return new $a(this._groups,this._parents)}function ka(t,n){var e,r,i;return function(){var a=tt(this,t),o=(this.style.removeProperty(t),tt(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function tr(t){return function(){this.style.removeProperty(t)}}function Na(t,n,e){var r,i=e+"",a;return function(){var o=tt(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function Ma(t,n,e){var r,i,a;return function(){var o=tt(this,t),s=e(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),tt(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,s))}}function Sa(t,n){var e,r,i,a="style."+n,o="end."+a,s;return function(){var u=ot(this,t),l=u.on,c=u.value[a]==null?s||(s=tr(n)):void 0;(l!==e||i!==c)&&(r=(e=l).copy()).on(o,i=c),u.on=r}}function za(t,n,e){var r=(t+="")=="transform"?Ze:je;return n==null?this.styleTween(t,ka(t,r)).on("end.style."+t,tr(t)):typeof n=="function"?this.styleTween(t,Ma(t,r,Kn(this,"style."+t,n))).each(Sa(this._id,t)):this.styleTween(t,Na(t,r,n),e).on("end.style."+t,null)}function Ta(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Pa(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Ta(t,o,e)),r}return a._value=n,a}function Aa(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Pa(t,n,e==null?"":e))}function Da(t){return function(){this.textContent=t}}function Ca(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function Ra(t){return this.tween("text",typeof t=="function"?Ca(Kn(this,"text",t)):Da(t==null?"":t+""))}function Ia(t){return function(n){this.textContent=t.call(this,n)}}function La(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Ia(i)),n}return r._value=t,r}function Oa(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,La(t))}function Wa(){for(var t=this._name,n=this._id,e=nr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=nt(u,n);sn(u,t,e,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ht(r,this._parents,t,e)}function Fa(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};e.each(function(){var l=ot(this,r),c=l.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),l.on=n}),i===0&&a()})}var qa=0;function ht(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function nr(){return++qa}var st=K.prototype;ht.prototype={constructor:ht,select:xa,selectAll:Ea,selectChild:st.selectChild,selectChildren:st.selectChildren,filter:pa,merge:ga,selection:ba,transition:Wa,call:st.call,nodes:st.nodes,node:st.node,size:st.size,empty:st.empty,each:st.each,on:ya,attr:Jo,attrTween:ra,style:za,styleTween:Aa,text:Ra,textTween:Oa,remove:ma,tween:Ho,delay:aa,duration:la,ease:ha,easeVarying:da,end:Fa,[Symbol.iterator]:st[Symbol.iterator]};function er(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ba={time:null,delay:0,duration:250,ease:er};function Va(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Xa(t){var n,e;t instanceof ht?(n=t._id,t=t._name):(n=nr(),(e=Ba).time=an(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&sn(u,t,n,l,o,e||Va(u,n));return new ht(r,this._parents,t,n)}K.prototype.interrupt=Bo;K.prototype.transition=Xa;const Sn=Math.PI,zn=2*Sn,gt=1e-6,Ha=zn-gt;function rr(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Ua(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return rr;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class ir{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?rr:Ua(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,u=r-n,l=i-e,c=o-n,h=s-e,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(d>gt)if(!(Math.abs(h*u-l*c)>gt)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let p=r-o,m=i-s,v=u*u+l*l,w=p*p+m*m,y=Math.sqrt(v),S=Math.sqrt(d),k=a*Math.tan((Sn-Math.acos((v+d-w)/(2*y*S)))/2),N=k/S,$=k/y;Math.abs(N-1)>gt&&this._append`L${n+N*c},${e+N*h}`,this._append`A${a},${a},0,0,${+(h*p>c*m)},${this._x1=n+$*u},${this._y1=e+$*l}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),l=n+s,c=e+u,h=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>gt||Math.abs(this._y1-c)>gt)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%zn+zn),d>Ha?this._append`A${r},${r},0,1,${h},${n-s},${e-u}A${r},${r},0,1,${h},${this._x1=l},${this._y1=c}`:d>gt&&this._append`A${r},${r},0,${+(d>=Sn)},${h},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function or(){return new ir}or.prototype=ir.prototype;function Ya(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Ga(t){return t=tn(Math.abs(t)),t?t[1]:NaN}function Za(t,n){return function(e,r){for(var i=e.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}}function Ka(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Qa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tn(t){if(!(n=Qa.exec(t)))throw new Error("invalid format: "+t);var n;return new Qn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Tn.prototype=Qn.prototype;function Qn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Qn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ja(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ar;function ja(t,n){var e=tn(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(ar=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+tn(t,Math.max(0,n+a-1))[0]}function we(t,n){var e=tn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const me={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ya,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>we(t*100,n),r:we,s:ja,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xe(t){return t}var Ee=Array.prototype.map,$e=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ts(t){var n=t.grouping===void 0||t.thousands===void 0?xe:Za(Ee.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?xe:Ka(Ee.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Tn(h);var d=h.fill,p=h.align,m=h.sign,v=h.symbol,w=h.zero,y=h.width,S=h.comma,k=h.precision,N=h.trim,$=h.type;$==="n"?(S=!0,$="g"):me[$]||(k===void 0&&(k=12),N=!0,$="g"),(w||d==="0"&&p==="=")&&(w=!0,d="0",p="=");var R=v==="$"?e:v==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",W=v==="$"?r:/[%p]/.test($)?o:"",X=me[$],q=/[defgprs%]/.test($);k=k===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function U(g){var z=R,P=W,f,x,_;if($==="c")P=X(g)+P,g="";else{g=+g;var E=g<0||1/g<0;if(g=isNaN(g)?u:X(Math.abs(g),k),N&&(g=Ja(g)),E&&+g==0&&m!=="+"&&(E=!1),z=(E?m==="("?m:s:m==="-"||m==="("?"":m)+z,P=($==="s"?$e[8+ar/3]:"")+P+(E&&m==="("?")":""),q){for(f=-1,x=g.length;++f<x;)if(_=g.charCodeAt(f),48>_||_>57){P=(_===46?i+g.slice(f+1):g.slice(f))+P,g=g.slice(0,f);break}}}S&&!w&&(g=n(g,1/0));var b=z.length+g.length+P.length,M=b<y?new Array(y-b+1).join(d):"";switch(S&&w&&(g=n(M+g,M.length?y-P.length:1/0),M=""),p){case"<":g=z+g+P+M;break;case"=":g=z+M+g+P;break;case"^":g=M.slice(0,b=M.length>>1)+z+g+P+M.slice(b);break;default:g=M+z+g+P;break}return a(g)}return U.toString=function(){return h+""},U}function c(h,d){var p=l((h=Tn(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Ga(d)/3)))*3,v=Math.pow(10,-m),w=$e[8+m/3];return function(y){return p(v*y)+w}}return{format:l,formatPrefix:c}}var Wt,Z;ns({thousands:",",grouping:[3],currency:["$",""]});function ns(t){return Wt=ts(t),Z=Wt.format,Wt.formatPrefix,Wt}const Ft=t=>()=>t;function es(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function lt(t,n,e){this.k=t,this.x=n,this.y=e}lt.prototype={constructor:lt,scale:function(t){return t===1?this:new lt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new lt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var un=new lt(1,0,0);ln.prototype=lt.prototype;function ln(t){for(;!t.__zoom;)if(!(t=t.parentNode))return un;return t.__zoom}function yn(t){t.stopImmediatePropagation()}function Nt(t){t.preventDefault(),t.stopImmediatePropagation()}function rs(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function is(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function be(){return this.__zoom||un}function os(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function as(){return navigator.maxTouchPoints||"ontouchstart"in this}function ss(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],a=t.invertY(n[0][1])-e[0][1],o=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function us(){var t=rs,n=is,e=ss,r=os,i=as,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Co,l=At("start","zoom","end"),c,h,d,p=500,m=150,v=0,w=10;function y(f){f.property("__zoom",be).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",U).filter(i).on("touchstart.zoom",g).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(f,x,_,E){var b=f.selection?f.selection():f;b.property("__zoom",be),f!==b?$(f,x,_,E):b.interrupt().each(function(){R(this,arguments).event(E).start().zoom(null,typeof x=="function"?x.apply(this,arguments):x).end()})},y.scaleBy=function(f,x,_,E){y.scaleTo(f,function(){var b=this.__zoom.k,M=typeof x=="function"?x.apply(this,arguments):x;return b*M},_,E)},y.scaleTo=function(f,x,_,E){y.transform(f,function(){var b=n.apply(this,arguments),M=this.__zoom,T=_==null?N(b):typeof _=="function"?_.apply(this,arguments):_,I=M.invert(T),A=typeof x=="function"?x.apply(this,arguments):x;return e(k(S(M,A),T,I),b,o)},_,E)},y.translateBy=function(f,x,_,E){y.transform(f,function(){return e(this.__zoom.translate(typeof x=="function"?x.apply(this,arguments):x,typeof _=="function"?_.apply(this,arguments):_),n.apply(this,arguments),o)},null,E)},y.translateTo=function(f,x,_,E,b){y.transform(f,function(){var M=n.apply(this,arguments),T=this.__zoom,I=E==null?N(M):typeof E=="function"?E.apply(this,arguments):E;return e(un.translate(I[0],I[1]).scale(T.k).translate(typeof x=="function"?-x.apply(this,arguments):-x,typeof _=="function"?-_.apply(this,arguments):-_),M,o)},E,b)};function S(f,x){return x=Math.max(a[0],Math.min(a[1],x)),x===f.k?f:new lt(x,f.x,f.y)}function k(f,x,_){var E=x[0]-_[0]*f.k,b=x[1]-_[1]*f.k;return E===f.x&&b===f.y?f:new lt(f.k,E,b)}function N(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function $(f,x,_,E){f.on("start.zoom",function(){R(this,arguments).event(E).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(E).end()}).tween("zoom",function(){var b=this,M=arguments,T=R(b,M).event(E),I=n.apply(b,M),A=_==null?N(I):typeof _=="function"?_.apply(b,M):_,D=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),L=b.__zoom,H=typeof x=="function"?x.apply(b,M):x,F=u(L.invert(A).concat(D/L.k),H.invert(A).concat(D/H.k));return function(B){if(B===1)B=H;else{var O=F(B),Q=D/O[2];B=new lt(Q,A[0]-O[0]*Q,A[1]-O[1]*Q)}T.zoom(null,B)}})}function R(f,x,_){return!_&&f.__zooming||new W(f,x)}function W(f,x){this.that=f,this.args=x,this.active=0,this.sourceEvent=null,this.extent=n.apply(f,x),this.taps=0}W.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,x){return this.mouse&&f!=="mouse"&&(this.mouse[1]=x.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=x.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=x.invert(this.touch1[0])),this.that.__zoom=x,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var x=C(this.that).datum();l.call(f,this.that,new es(f,{sourceEvent:this.sourceEvent,target:y,type:f,transform:this.that.__zoom,dispatch:l}),x)}};function X(f,...x){if(!t.apply(this,arguments))return;var _=R(this,x).event(f),E=this.__zoom,b=Math.max(a[0],Math.min(a[1],E.k*Math.pow(2,r.apply(this,arguments)))),M=pt(f);if(_.wheel)(_.mouse[0][0]!==M[0]||_.mouse[0][1]!==M[1])&&(_.mouse[1]=E.invert(_.mouse[0]=M)),clearTimeout(_.wheel);else{if(E.k===b)return;_.mouse=[M,E.invert(M)],Ht(this),_.start()}Nt(f),_.wheel=setTimeout(T,m),_.zoom("mouse",e(k(S(E,b),_.mouse[0],_.mouse[1]),_.extent,o));function T(){_.wheel=null,_.end()}}function q(f,...x){if(d||!t.apply(this,arguments))return;var _=f.currentTarget,E=R(this,x,!0).event(f),b=C(f.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",D,!0),M=pt(f,_),T=f.clientX,I=f.clientY;io(f.view),yn(f),E.mouse=[M,this.__zoom.invert(M)],Ht(this),E.start();function A(L){if(Nt(L),!E.moved){var H=L.clientX-T,F=L.clientY-I;E.moved=H*H+F*F>v}E.event(L).zoom("mouse",e(k(E.that.__zoom,E.mouse[0]=pt(L,_),E.mouse[1]),E.extent,o))}function D(L){b.on("mousemove.zoom mouseup.zoom",null),oo(L.view,E.moved),Nt(L),E.event(L).end()}}function U(f,...x){if(!!t.apply(this,arguments)){var _=this.__zoom,E=pt(f.changedTouches?f.changedTouches[0]:f,this),b=_.invert(E),M=_.k*(f.shiftKey?.5:2),T=e(k(S(_,M),E,b),n.apply(this,x),o);Nt(f),s>0?C(this).transition().duration(s).call($,T,E,f):C(this).call(y.transform,T,E,f)}}function g(f,...x){if(!!t.apply(this,arguments)){var _=f.touches,E=_.length,b=R(this,x,f.changedTouches.length===E).event(f),M,T,I,A;for(yn(f),T=0;T<E;++T)I=_[T],A=pt(I,this),A=[A,this.__zoom.invert(A),I.identifier],b.touch0?!b.touch1&&b.touch0[2]!==A[2]&&(b.touch1=A,b.taps=0):(b.touch0=A,M=!0,b.taps=1+!!c);c&&(c=clearTimeout(c)),M&&(b.taps<2&&(h=A[0],c=setTimeout(function(){c=null},p)),Ht(this),b.start())}}function z(f,...x){if(!!this.__zooming){var _=R(this,x).event(f),E=f.changedTouches,b=E.length,M,T,I,A;for(Nt(f),M=0;M<b;++M)T=E[M],I=pt(T,this),_.touch0&&_.touch0[2]===T.identifier?_.touch0[0]=I:_.touch1&&_.touch1[2]===T.identifier&&(_.touch1[0]=I);if(T=_.that.__zoom,_.touch1){var D=_.touch0[0],L=_.touch0[1],H=_.touch1[0],F=_.touch1[1],B=(B=H[0]-D[0])*B+(B=H[1]-D[1])*B,O=(O=F[0]-L[0])*O+(O=F[1]-L[1])*O;T=S(T,Math.sqrt(B/O)),I=[(D[0]+H[0])/2,(D[1]+H[1])/2],A=[(L[0]+F[0])/2,(L[1]+F[1])/2]}else if(_.touch0)I=_.touch0[0],A=_.touch0[1];else return;_.zoom("touch",e(k(T,I,A),_.extent,o))}}function P(f,...x){if(!!this.__zooming){var _=R(this,x).event(f),E=f.changedTouches,b=E.length,M,T;for(yn(f),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),M=0;M<b;++M)T=E[M],_.touch0&&_.touch0[2]===T.identifier?delete _.touch0:_.touch1&&_.touch1[2]===T.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(T=pt(T,this),Math.hypot(h[0]-T[0],h[1]-T[1])<w)){var I=C(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return y.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:Ft(+f),y):r},y.filter=function(f){return arguments.length?(t=typeof f=="function"?f:Ft(!!f),y):t},y.touchable=function(f){return arguments.length?(i=typeof f=="function"?f:Ft(!!f),y):i},y.extent=function(f){return arguments.length?(n=typeof f=="function"?f:Ft([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),y):n},y.scaleExtent=function(f){return arguments.length?(a[0]=+f[0],a[1]=+f[1],y):[a[0],a[1]]},y.translateExtent=function(f){return arguments.length?(o[0][0]=+f[0][0],o[1][0]=+f[1][0],o[0][1]=+f[0][1],o[1][1]=+f[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(f){return arguments.length?(e=f,y):e},y.duration=function(f){return arguments.length?(s=+f,y):s},y.interpolate=function(f){return arguments.length?(u=f,y):u},y.on=function(){var f=l.on.apply(l,arguments);return f===l?y:f},y.clickDistance=function(f){return arguments.length?(v=(f=+f)*f,y):Math.sqrt(v)},y.tapDistance=function(f){return arguments.length?(w=+f,y):w},y}var ls=At("start","end","cancel","interrupt"),cs=[],sr=0,Pn=1,An=2,Ut=3,ke=4,Dn=5,Yt=6;function cn(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;hs(t,e,{name:n,index:r,group:i,on:ls,tween:cs,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:sr})}function Jn(t,n){var e=et(t,n);if(e.state>sr)throw new Error("too late; already scheduled");return e}function at(t,n){var e=et(t,n);if(e.state>Ut)throw new Error("too late; already running");return e}function et(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function hs(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Gn(a,0,e.time);function a(l){e.state=Pn,e.timer.restart(o,e.delay,e.time),e.delay<=l&&o(l-e.delay)}function o(l){var c,h,d,p;if(e.state!==Pn)return u();for(c in r)if(p=r[c],p.name===e.name){if(p.state===Ut)return $t(o);p.state===ke?(p.state=Yt,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<n&&(p.state=Yt,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if($t(function(){e.state===Ut&&(e.state=ke,e.timer.restart(s,e.delay,e.time),s(l))}),e.state=An,e.on.call("start",t,t.__data__,e.index,e.group),e.state===An){for(e.state=Ut,i=new Array(d=e.tween.length),c=0,h=-1;c<d;++c)(p=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=p);i.length=h+1}}function s(l){for(var c=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(u),e.state=Dn,1),h=-1,d=i.length;++h<d;)i[h].call(t,c);e.state===Dn&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=Yt,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function fs(t,n){var e=t.__transition,r,i,a=!0,o;if(!!e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>An&&r.state<Dn,r.state=Yt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function ds(t){return this.each(function(){fs(this,t)})}function ps(t,n){var e,r;return function(){var i=at(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function gs(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=at(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function vs(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=et(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?ps:gs)(e,t,n))}function jn(t,n,e){var r=t._id;return t.each(function(){var i=at(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return et(i,r).value[n]}}function ur(t,n){var e;return(typeof n=="number"?J:n instanceof ct?xt:(e=ct(n))?(n=e,xt):Un)(t,n)}function _s(t){return function(){this.removeAttribute(t)}}function ys(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ws(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function ms(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function xs(t,n,e){var r,i,a;return function(){var o,s=e(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,s)))}}function Es(t,n,e){var r,i,a;return function(){var o,s=e(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,s)))}}function $s(t,n){var e=bt(t),r=e==="transform"?Yn:ur;return this.attrTween(t,typeof n=="function"?(e.local?Es:xs)(e,r,jn(this,"attr."+t,n)):n==null?(e.local?ys:_s)(e):(e.local?ms:ws)(e,r,n))}function bs(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function ks(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Ns(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&ks(t,a)),e}return i._value=n,i}function Ms(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&bs(t,a)),e}return i._value=n,i}function Ss(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=bt(t);return this.tween(e,(r.local?Ns:Ms)(r,n))}function zs(t,n){return function(){Jn(this,t).delay=+n.apply(this,arguments)}}function Ts(t,n){return n=+n,function(){Jn(this,t).delay=n}}function Ps(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?zs:Ts)(n,t)):et(this.node(),n).delay}function As(t,n){return function(){at(this,t).duration=+n.apply(this,arguments)}}function Ds(t,n){return n=+n,function(){at(this,t).duration=n}}function Cs(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?As:Ds)(n,t)):et(this.node(),n).duration}function Rs(t,n){if(typeof n!="function")throw new Error;return function(){at(this,t).ease=n}}function Is(t){var n=this._id;return arguments.length?this.each(Rs(n,t)):et(this.node(),n).ease}function Ls(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;at(this,t).ease=e}}function Os(t){if(typeof t!="function")throw new Error;return this.each(Ls(this._id,t))}function Ws(t){typeof t!="function"&&(t=Fn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new it(r,this._parents,this._name,this._id)}function Fs(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=n[s],l=e[s],c=u.length,h=o[s]=new Array(c),d,p=0;p<c;++p)(d=u[p]||l[p])&&(h[p]=d);for(;s<r;++s)o[s]=n[s];return new it(o,this._parents,this._name,this._id)}function qs(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Bs(t,n,e){var r,i,a=qs(n)?Jn:at;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(n,e),o.on=i}}function Vs(t,n){var e=this._id;return arguments.length<2?et(this.node(),e).on.on(t):this.each(Bs(e,t,n))}function Xs(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Hs(){return this.on("end.remove",Xs(this._id))}function Us(t){var n=this._name,e=this._id;typeof t!="function"&&(t=en(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,h,d=0;d<u;++d)(c=s[d])&&(h=t.call(c,c.__data__,d,s))&&("__data__"in c&&(h.__data__=c.__data__),l[d]=h,cn(l[d],n,e,d,l,et(c,e)));return new it(a,this._parents,n,e)}function Ys(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Wn(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var d=t.call(c,c.__data__,h,u),p,m=et(c,e),v=0,w=d.length;v<w;++v)(p=d[v])&&cn(p,n,e,v,d,m);a.push(d),o.push(c)}return new it(a,o,n,e)}var Gs=K.prototype.constructor;function Zs(){return new Gs(this._groups,this._parents)}function Ks(t,n){var e,r,i;return function(){var a=tt(this,t),o=(this.style.removeProperty(t),tt(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function lr(t){return function(){this.style.removeProperty(t)}}function Qs(t,n,e){var r,i=e+"",a;return function(){var o=tt(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function Js(t,n,e){var r,i,a;return function(){var o=tt(this,t),s=e(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),tt(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,s))}}function js(t,n){var e,r,i,a="style."+n,o="end."+a,s;return function(){var u=at(this,t),l=u.on,c=u.value[a]==null?s||(s=lr(n)):void 0;(l!==e||i!==c)&&(r=(e=l).copy()).on(o,i=c),u.on=r}}function tu(t,n,e){var r=(t+="")=="transform"?Ze:ur;return n==null?this.styleTween(t,Ks(t,r)).on("end.style."+t,lr(t)):typeof n=="function"?this.styleTween(t,Js(t,r,jn(this,"style."+t,n))).each(js(this._id,t)):this.styleTween(t,Qs(t,r,n),e).on("end.style."+t,null)}function nu(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function eu(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&nu(t,o,e)),r}return a._value=n,a}function ru(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,eu(t,n,e==null?"":e))}function iu(t){return function(){this.textContent=t}}function ou(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function au(t){return this.tween("text",typeof t=="function"?ou(jn(this,"text",t)):iu(t==null?"":t+""))}function su(t){return function(n){this.textContent=t.call(this,n)}}function uu(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&su(i)),n}return r._value=t,r}function lu(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,uu(t))}function cu(){for(var t=this._name,n=this._id,e=cr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=et(u,n);cn(u,t,e,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new it(r,this._parents,t,e)}function hu(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};e.each(function(){var l=at(this,r),c=l.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),l.on=n}),i===0&&a()})}var fu=0;function it(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function te(t){return K().transition(t)}function cr(){return++fu}var ut=K.prototype;it.prototype=te.prototype={constructor:it,select:Us,selectAll:Ys,selectChild:ut.selectChild,selectChildren:ut.selectChildren,filter:Ws,merge:Fs,selection:Zs,transition:cu,call:ut.call,nodes:ut.nodes,node:ut.node,size:ut.size,empty:ut.empty,each:ut.each,on:Vs,attr:$s,attrTween:Ss,style:tu,styleTween:ru,text:au,textTween:lu,remove:Hs,tween:vs,delay:Ps,duration:Cs,ease:Is,easeVarying:Os,end:hu,[Symbol.iterator]:ut[Symbol.iterator]};var du={time:null,delay:0,duration:250,ease:er};function pu(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function gu(t){var n,e;t instanceof it?(n=t._id,t=t._name):(n=cr(),(e=du).time=an(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&cn(u,t,n,l,o,e||pu(u,n));return new it(r,this._parents,t,n)}K.prototype.interrupt=ds;K.prototype.transition=gu;var vu=[null];function _u(t,n){var e=t.__transition,r,i;if(e){n=n==null?null:n+"";for(i in e)if((r=e[i]).state>Pn&&r.name===n)return new it([[t]],vu,n,+i)}return null}function hr(t){var n={},e=t.node().nodeName;n.tag=e,e=="#text"?n.text=t.text():e=="#comment"&&(n.comment=t.text()),n.attributes={};var r=t.node().attributes;if(r)for(var i=0;i<r.length;i++){var a=r[i],o=a.name,s=a.value;n.attributes[o]=s}var u=t.node().transform;if(u&&u.baseVal.numberOfItems!=0){var l=u.baseVal.consolidate().matrix;n.translation={x:l.e,y:l.f},n.scale=l.a}if(e=="ellipse"&&(n.center={x:n.attributes.cx,y:n.attributes.cy}),e=="polygon"){var c=t.attr("points").split(" "),h=c.map(function(k){return k.split(",")[0]}),d=c.map(function(k){return k.split(",")[1]}),p=Math.min.apply(null,h),m=Math.max.apply(null,h),v=Math.min.apply(null,d),w=Math.max.apply(null,d),y={x:p,y:v,width:m-p,height:w-v};n.bbox=y,n.center={x:(p+m)/2,y:(v+w)/2}}if(e=="path"){var S=t.attr("d"),c=S.split(/[A-Z ]/);c.shift();var h=c.map(function(g){return+g.split(",")[0]}),d=c.map(function(g){return+g.split(",")[1]}),p=Math.min.apply(null,h),m=Math.max.apply(null,h),v=Math.min.apply(null,d),w=Math.max.apply(null,d),y={x:p,y:v,width:m-p,height:w-v};n.bbox=y,n.center={x:(p+m)/2,y:(v+w)/2},n.totalLength=t.node().getTotalLength()}return e=="text"&&(n.center={x:t.attr("x"),y:t.attr("y")}),e=="#text"?n.text=t.text():e=="#comment"&&(n.comment=t.text()),n}function wt(t){var n=hr(t);n.children=[];var e=Vn(t.node().childNodes);return e.each(function(){var r=wt(C(this));r.parent=n,n.children.push(r)}),n}function ne(t){return t.tag=="#text"?document.createTextNode(""):t.tag=="#comment"?document.createComment(t.comment):document.createElementNS("http://www.w3.org/2000/svg",t.tag)}function Cn(t){var n=ne(t),e=C(n),r=t.attributes;for(var i of Object.keys(r)){var a=r[i];e.attr(i,a)}return n}function Ne(t,n){var e=C(t.node().parentNode),r=Cn(n),i=e.insert(function(){return r},function(){return t.node()});return t.remove(),i}function yu(t,n){t.datum(n),t.data([n],function(e){return e.key})}function ee(t,n){yu(t,n);var e=Vn(t.node().childNodes);e.each(function(r,i){ee(C(this),n.children[i])})}function wu(t,n){var e=t.selectAll(function(){return t.node().childNodes});e=e.data(function(o){return o.children},function(o){return o.tag+"-"+n});var r=e.enter().append(function(o){return ne(o)}),i=e.exit();i=i.remove(),e=r.merge(e);var a={};e.each(function(o){var s=o.tag;a[s]==null&&(a[s]=0);var u=a[s]++;Ct.call(this,o,u)})}function Ct(t,n=0){var e=C(this);t.tag;var r=t.attributes,i=e.node().attributes;if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o.name;if(s.split(":")[0]!="xmlns"&&o.namespaceURI){var u=o.namespaceURI.split("/"),l=u[u.length-1];s=l+":"+s}s in r||(r[s]=null)}for(var c of Object.keys(r))e.attr(c,r[c]);t.text&&e.text(t.text),wu(e,n)}function mu(t){return this._options.zoom=t,this._options.zoom&&!this._zoomBehavior?fr.call(this):!this._options.zoom&&this._zoomBehavior&&(this._zoomSelection.on(".zoom",null),this._zoomBehavior=null),this}function fr(){var t=this;function n(o){var s=C(r.node().querySelector("g"));s.attr("transform",o.transform),t._dispatch.call("zoom",t)}var e=this._selection,r=C(e.node().querySelector("svg"));if(r.size()==0)return this;this._zoomSelection=r;var i=us().scaleExtent(this._options.zoomScaleExtent).translateExtent(this._options.zoomTranslateExtent).interpolate(rn).on("zoom",n);this._zoomBehavior=i;var a=C(r.node().querySelector("g"));return r.call(i),this._active||In.call(this,a),this._originalTransform=ln(r.node()),this}function Rn(t){var n=this._translation,e=this._scale,r=t.datum().translation,i=t.datum().scale,a=ln(this._zoomSelection.node());return n&&(a=a.scale(1/e),a=a.translate(-n.x,-n.y)),a=a.translate(r.x,r.y),a=a.scale(i),a}function In(t){this._zoomBehavior.transform(this._zoomSelection,Rn.call(this,t)),this._translation=t.datum().translation,this._scale=t.datum().scale,this._originalTransform=un.translate(t.datum().translation.x,t.datum().translation.y).scale(t.datum().scale)}function xu(t){var n=this._zoomSelection;return t&&(n=n.transition(t)),n.call(this._zoomBehavior.transform,this._originalTransform),this}function Eu(t){return this._options.zoomScaleExtent=t,this}function $u(t){return this._options.zoomTranslateExtent=t,this}function bu(){return this._zoomBehavior||null}function ku(){return this._zoomSelection||null}function Nu(t,n){return function(){const e=t.map(function(r){return rn([r[0][0],r[0][1]],[r[1][0],r[1][1]])});return function(r){return r<1?"M"+e.map(function(i){return i(r)}).join("L"):n}}}function Mu(t,n,e,r){const i=t,a=i.cloneNode(),o=i.getTotalLength(),s=(a.setAttribute("d",n),a).getTotalLength(),u=[0];let l=0;const c=r?e:e/Math.max(o,s);for(;(l+=c)<1;)u.push(l);return u.push(1),u.map(function(d){const p=i.getPointAtLength(d*o),m=a.getPointAtLength(d*s);return[[p.x,p.y],[m.x,m.y]]})}function Su(){return this._data||null}function dr(t){return t.attributes.class=="edge"||t.tag=="a"&&t.parent.tag=="g"&&t.parent.parent.attributes.class=="edge"}function pr(t){return t.parent&&dr(t.parent)}function zu(t){return t.parent.attributes.class=="edge"?t.parent:t.parent.parent.parent}function Tu(t){return zu(t).children.find(function(n){return n.tag=="title"})}function Pu(t){return this._busy?(this._queue.push(this.render.bind(this,t)),this):(this._dispatch.call("renderStart",this),this._transitionFactory?$t(function(){this._transition=te(this._transitionFactory()),Me.call(this,t)}.bind(this),0):Me.call(this,t),this)}function Me(t){var n=this._transition,e=this._options.fade&&n!=null,r=this._options.tweenPaths,i=this._options.tweenShapes,a=this._options.convertEqualSidedPolygons,o=this._options.growEnteringEdges&&n!=null,s=this._attributer,u=this;function l(v){var w=v.selectAll(function(){return v.node().childNodes});w=w.data(function(N){return N.children},function(N){return N.key});var y=w.enter().append(function(N){var $=ne(N);return N.tag=="#text"&&e&&($.nodeValue=N.text),$});if(e||o&&dr(v.datum())){var S=y.filter(function(N){return N.tag[0]=="#"?null:this}).each(function(N){var $=C(this);for(var R of Object.keys(N.attributes)){var W=N.attributes[R];$.attr(R,W)}});S.filter(function(N){return N.tag=="svg"||N.tag=="g"?null:this}).style("opacity",0)}var k=w.exit();s&&k.each(s),n&&(k=k.transition(n),e&&k.filter(function(N){return N.tag[0]=="#"?null:this}).style("opacity",0)),k=k.remove(),w=y.merge(w),w.each(c)}function c(v){var w=C(this);if(v.tag=="svg"){var y=u._options;if(y.width!=null||y.height!=null){var S=y.width,k=y.height;S==null?S=v.attributes.width.replace("pt","")*4/3:(w.attr("width",S),v.attributes.width=S),k==null?k=v.attributes.height.replace("pt","")*4/3:(w.attr("height",k),v.attributes.height=k),y.fit||(w.attr("viewBox",`0 0 ${S*3/4/y.scale} ${k*3/4/y.scale}`),v.attributes.viewBox=`0 0 ${S*3/4/y.scale} ${k*3/4/y.scale}`)}y.scale!=1&&(y.fit||y.width==null&&y.height==null)&&(S=v.attributes.viewBox.split(" ")[2],k=v.attributes.viewBox.split(" ")[3],w.attr("viewBox",`0 0 ${S/y.scale} ${k/y.scale}`),v.attributes.viewBox=`0 0 ${S/y.scale} ${k/y.scale}`)}s&&w.each(s);var N=v.tag,$=v.attributes,R=w.node().attributes;if(R)for(var W=0;W<R.length;W++){var X=R[W],q=X.name;if(q.split(":")[0]!="xmlns"&&X.namespaceURI){var U=X.namespaceURI.split("/"),g=U[U.length-1];q=g+":"+q}q in $||($[q]=null)}var z=!1,P=!1;if(i&&n){if((this.nodeName=="polygon"||this.nodeName=="ellipse")&&v.alternativeOld&&(P=!0),(N=="polygon"||N=="ellipse")&&v.alternativeNew&&(z=!0),this.nodeName=="polygon"&&N=="polygon"&&v.alternativeOld){var f=hr(w),x=f.attributes.points;if(!a){var _=x.split(" ").length,E=v.attributes.points,b=E.split(" ").length;b==_&&(z=!1,P=!1)}}if(P){var M=v.alternativeOld,T=Ne(w,M);T.data([v],function(){return v.key}),w=T}if(z){var I=v.alternativeNew;N="path",$=I.attributes}}var A=w;n&&(A=A.transition(n),e&&A.filter(function(V){return V.tag[0]=="#"?null:this}).style("opacity",1),A.filter(function(V){return V.tag[0]=="#"?null:this}).on("end",function(V){C(this).attr("style",V&&V.attributes&&V.attributes.style||null)}));var D=o&&N=="path"&&v.offset;if(D){var L=v.totalLength;w.attr("stroke-dasharray",L+" "+L).attr("stroke-dashoffset",L).attr("transform","translate("+v.offset.x+","+v.offset.y+")"),$["stroke-dashoffset"]=0,$.transform="translate(0,0)",A.attr("stroke-dashoffset",$["stroke-dashoffset"]).attr("transform",$.transform).on("start",function(){C(this).style("opacity",null)}).on("end",function(){C(this).attr("stroke-dashoffset",null).attr("stroke-dasharray",null).attr("transform",null)})}var H=o&&N=="polygon"&&pr(v)&&v.offset&&v.parent.children[3].tag=="path";if(H){var F=C(w.node().parentNode.querySelector("path")),B=F.node().getPointAtLength(0),O=F.node().getPointAtLength(v.totalLength),Q=F.node().getPointAtLength(v.totalLength-1),re=Math.atan2(O.y-Q.y,O.x-Q.x)*180/Math.PI,hn=B.x-O.x+v.offset.x,fn=B.y-O.y+v.offset.y;w.attr("transform","translate("+hn+","+fn+")"),A.attrTween("transform",function(){return function(V){var dt=F.node().getPointAtLength(v.totalLength*V),pn=F.node().getPointAtLength(v.totalLength*V+1),gn=Math.atan2(pn.y-dt.y,pn.x-dt.x)*180/Math.PI-re;return hn=dt.x-O.x+v.offset.x*(1-V),fn=dt.y-O.y+v.offset.y*(1-V),"translate("+hn+","+fn+") rotate("+gn+" "+O.x+" "+O.y+")"}}).on("start",function(){C(this).style("opacity",null)}).on("end",function(){C(this).attr("transform",null)})}var xr=r&&n&&N=="path"&&w.attr("d")!=null;for(var Rt of Object.keys($)){var dn=$[Rt];if(xr&&Rt=="d"){var E=(v.alternativeOld||v).points;E&&A.attrTween("d",Nu(E,dn))}else{if(Rt=="transform"&&v.translation)if(n){var Er=A.on("end");A.on("start",function(){u._zoomBehavior&&A.tween("attr.transform",function(){var V=this;return function(dt){V.setAttribute("transform",Yn(ln(u._zoomSelection.node()).toString(),Rn.call(u,w).toString())(dt))}})}).on("end",function(){Er.call(this),u._zoomBehavior&&In.call(u,w)})}else u._zoomBehavior&&(In.call(u,w),dn=Rn.call(u,w).toString());A.attr(Rt,dn)}}z&&A.on("end",function(V,dt,pn){T=C(this);var gn=Ne(T,V);gn.data([V],function(){return V.key})}),v.text&&A.text(v.text),l(w)}var h=this._selection;if(n!=null){var d=this._jobs;if(u._active)return d.push(null),this;h.transition(n).transition().duration(0).on("end",function(){u._active=!1,d.length!=0&&(d.shift(),u.render())}),this._active=!0}n!=null&&h.transition(n).on("start",function(){u._dispatch.call("transitionStart",u)}).on("end",function(){u._dispatch.call("transitionEnd",u)}).transition().duration(0).on("start",function(){u._dispatch.call("restoreEnd",u),u._dispatch.call("end",u),t&&t.call(u)});var p=this._data,m=h.selectAll("svg").data([p],function(v){return v.key});return m=m.enter().append("svg").merge(m),c.call(m.node(),p),this._options.zoom&&!this._zoomBehavior&&fr.call(this),u._dispatch.call("renderEnd",u),n==null&&(this._dispatch.call("end",this),t&&t.call(this)),this}function Au(){return this._graphvizVersion}function qt(t){return Object.assign({},t)}function ft(t){return Math.round(t*100)/100}function Se(t,n){if(t.tag=="polygon"){var e=qt(t);e.tag="path";var r=t.attributes,i=qt(r),a=r.points;if(n.tag=="polygon"){var o=t.bbox;o.cx=o.x+o.width/2,o.cy=o.y+o.height/2;for(var s=r.points,u=s.split(" "),l=u.map(function(f){var x=f.split(",");return[x[0]-o.cx,x[1]-o.cy]}),c=l[l.length-1][0],h=l[l.length-1][1],d=0;d<l.length;d++,c=p,h=m){var p=l[d][0],m=l[d][1],v=p-c,w=m-h;if(w!=0){var y=c-h*v/w;if(0<=y&&y<1/0&&(c<=y&&y<=p||p<=y&&y<=c))break}}var S=[[o.cx+y,o.cy+0].join(",")];S=S.concat(u.slice(d)),S=S.concat(u.slice(0,d)),a=S.join(" ")}i.d="M"+a+"z",delete i.points,e.attributes=i}else{var e=qt(t);e.tag="path";var r=t.attributes,i=qt(r),k=r.cx,N=r.cy,$=r.rx,R=r.ry;if(n.tag=="polygon"){var o=n.bbox;o.cx=o.x+o.width/2,o.cy=o.y+o.height/2;var W=n.attributes.points.split(" ")[0].split(","),X=W[0],q=W[1],v=X-o.cx,w=q-o.cy,U=Math.sqrt(Math.pow(v,2)+Math.pow(w,2)),g=v/U,z=-w/U}else var g=1,z=0;var p=$*g,m=-R*z,y=$*-g,P=-R*-z,v=y-p,w=P-m;i.d="M "+k+" "+N+" m "+p+","+m+" a "+$+","+R+" 0 1,0 "+v+","+w+" a "+$+","+R+" 0 1,0 "+-v+","+-w+"z",delete i.cx,delete i.cy,delete i.rx,delete i.ry,e.attributes=i}return e}function Du(a,n,e){var i=a.split(" "),r=i.map(function(o){return o.split(",")}),r=i.map(function(o){return[ft(+n+ +o.split(",")[0]),ft(+e+ +o.split(",")[1])]}),i=r.map(function(o){return o.join(",")}),a=i.join(" ");return a}function Cu(t,n,e){var a=t.split(/[A-Z ]/);a.shift();var r=t.split(/[^[A-Z ]+/),i=a.map(function(o){return o.split(",")}),i=a.map(function(o){return[ft(+n+ +o.split(",")[0]),ft(+e+ +o.split(",")[1])]}),a=i.map(function(o){return o.join(",")});return t=r.reduce(function(o,s,u){return o.concat(s,a[u])},[]).join(""),t}function Ru(){try{De.load().then(e=>{e.layout("","svg","dot"),this.layoutSync=e.layout.bind(e),this._worker==null&&this._dispatch.call("initEnd",this),this._afterInit&&this._afterInit()})}catch{}if(this._worker!=null){var t=this._vizURL,n=this;this._workerPort.onmessage=function(e){var r=n._workerCallbacks.shift();r.call(n,e)},t.match(/^https?:\/\/|^\/\//i)||(t=new window.URL(t,document.location.href).href),Ln.call(this,{type:"layout",dot:"",engine:"dot",vizURL:t},function(e){switch(e.data.type){}}),Ln.call(this,{type:"version"},function(e){switch(e.data.type){case"version":n._graphvizVersion=e.data.version,n._dispatch.call("initEnd",this);break}})}}function Ln(t,n){this._workerCallbacks.push(n),this._workerPort.postMessage(t)}function Iu(t,n,e,r){if(this._worker)Ln.call(this,{type:"layout",dot:t,engine:n,options:e},function(a){r.call(this,a.data)});else try{var i=this.layoutSync(t,"svg",n,e);r.call(this,{type:"done",svg:i})}catch(a){r.call(this,{type:"error",error:a.message})}}function Lu(t,n){var e=this;this._worker;var r=this._options.engine,i=this._images;this._dispatch.call("start",this),this._busy=!0,this._dispatch.call("layoutStart",this);var a={images:i};return!this._worker&&this.layoutSync==null?(this._afterInit=this.dot.bind(this,t,n),this):(this.layout(t,r,a,function(o){switch(o.type){case"error":if(e._onerror)e._onerror(o.error);else throw o.error.message;break;case"done":var s=o.svg;Ou.call(this,s,n);break}}),this)}function Ou(t,n){var e=this._options.keyMode,r=this._options.tweenPaths,i=this._options.tweenShapes;if(typeof this._options.tweenPrecision=="string"&&this._options.tweenPrecision.includes("%"))var a=+this._options.tweenPrecision.split("%")[0]/100,o=this._options.tweenPrecision.includes("%");else var a=this._options.tweenPrecision,o=!1;var s=this._options.growEnteringEdges,u={},l=this._dictionary||{},c={},h=this._nodeDictionary||{};function d(g,z){var P=g.tag;if(e=="index")g.key=z;else if(P[0]!="#"){if(e=="id")g.key=g.attributes.id;else if(e=="title"){var f=g.children.find(function(x){return x.tag=="title"});f&&(f.children.length>0?g.key=f.children[0].text:g.key="")}}g.key==null&&(i&&(P=="ellipse"||P=="polygon")&&(P="path"),g.key=P+"-"+z)}function p(g,z){var P=(z?z.id+".":"")+g.key;g.id=P}function m(g){u[g.id]=g}function v(g,z){i&&g.id in l&&(z.tag=="polygon"||z.tag=="ellipse"||z.tag=="path")&&(z.tag!=g.tag||g.tag=="polygon")&&(z.tag!="path"&&(g.alternativeOld=Se(z,g)),g.tag!="path"&&(g.alternativeNew=Se(g,z)))}function w(g,z){if(r&&z&&(z.tag=="path"||g.alternativeOld&&g.alternativeOld.tag=="path")){var P=(g.alternativeNew||g).attributes.d;if(g.alternativeOld)var f=Cn(g.alternativeOld);else var f=Cn(z);(g.alternativeOld||(g.alternativeOld={})).points=Mu(f,P,a,o)}}function y(g,z=0,P){d(g,z),p(g,P);var f=g.id,x=l[f];m(g),v(g,x),w(g,x);var _={};g.children.forEach(function(E){var b=E.tag;(b=="ellipse"||b=="polygon")&&(b="path"),_[b]==null&&(_[b]=0);var M=_[b]++;y(E,M,g)})}function S(g){var z=g.tag;if(s&&g.parent&&g.parent.attributes.class=="node"&&z=="title"){if(g.children.length>0)var P=g.children[0],f=P.text;else var f="";c[f]=g.parent}}function k(g){var z=g.id,P=g.tag,f=l[z];if(s&&!f&&g.parent&&pr(g)&&(P=="path"||P=="polygon")){if(P=="polygon"){var x=g.parent.children.find(function(O){return O.tag=="path"});x&&(g.totalLength=x.totalLength)}var _=Tu(g),E=_.children[0],b=E.text.split("->");b.length!=2&&(b=E.text.split("--"));var M=b[0],T=c[M],I=h[M];if(I){var D=T.children.findIndex(function(O,Q){return O.tag=="g"});if(D>=0){var A=T.children[D].children.findIndex(function(O,Q){return O.tag=="a"});T=T.children[D].children[A]}var D=I.children.findIndex(function(O,Q){return O.tag=="g"});if(D>=0){var A=I.children[D].children.findIndex(function(Q,re){return Q.tag=="a"});I=I.children[D].children[A]}for(var L=T.children,D=0;D<L.length;D++)if(L[D].tag=="polygon"||L[D].tag=="ellipse"||L[D].tag=="path"||L[D].tag=="text"){var H=L[D];break}for(var F=I.children,D=0;D<F.length;D++)if(F[D].tag=="polygon"||F[D].tag=="ellipse"||F[D].tag=="path"||F[D].tag=="text"){var B=F[D];break}B&&H?g.offset={x:B.center.x-H.center.x,y:B.center.y-H.center.y}:g.offset={x:0,y:0}}}}function N(g){S(g),k(g),g.children.forEach(function(z){N(z)})}this._dispatch.call("layoutEnd",this);var $=C(document.createDocumentFragment()).append("div"),R=new window.DOMParser,W=R.parseFromString(t,"image/svg+xml");$.append(function(){return W.documentElement});var X=$.select("svg"),q=wt(X);if(this._dispatch.call("dataExtractEnd",this),y(q),this._dispatch.call("dataProcessPass1End",this),N(q),this._dispatch.call("dataProcessPass2End",this),this._data=q,this._dictionary=u,this._nodeDictionary=c,this._extractData=function(g,z,P){var f=wt(g);return y(f,z,P),N(f),f},this._busy=!1,this._dispatch.call("dataProcessEnd",this),n&&n.call(this),this._queue.length>0){var U=this._queue.shift();U.call(this)}}function Wu(t,n){var e=this;this.dot(t,r);function r(){e.render(n)}return this}function Fu(t){return t instanceof Function?this._transitionFactory=t:this._transition=te(t),this}function qu(t){var n=this._selection,e=n.selectWithoutDataPropagation("svg");return e.size()!=0?_u(e.node(),t):null}function Bu(t){if(typeof t>"u")return Object.assign({},this._options);for(var n of Object.keys(t))this._options[n]=t[n];return this}function Vu(t){return this._options.width=t,this}function Xu(t){return this._options.height=t,this}function Hu(t){return this._options.scale=t,this}function Uu(t){return this._options.fit=t,this}function Yu(t){return this._attributer=t,this}function Gu(t){return this._options.engine=t,this}function Zu(t,n,e){return this._images.push({path:t,width:n,height:e}),this}function Ku(t){if(!this._keyModes.has(t))throw Error("Illegal keyMode: "+t);if(t!=this._options.keyMode&&this._data!=null)throw Error("Too late to change keyMode");return this._options.keyMode=t,this}function Qu(t){return this._options.fade=t,this}function Ju(t){return this._options.tweenPaths=t,this}function ju(t){return this._options.tweenShapes=t,t&&(this._options.tweenPaths=!0),this}function tl(t){return this._options.convertEqualSidedPolygons=t,this}function nl(t){return this._options.tweenPrecision=t,this}function el(t){return this._options.growEnteringEdges=t,this}function rl(t,n){return this._dispatch.on(t,n),this}function il(t){return this._onerror=t,this}function ol(t){var n=Date.now(),e={},r=this._eventTypes,i=Math.max(...r.map(u=>u.length));for(let u=0;u<r.length;u++){let l=r[u];e[l]=[];var a=this,o,s;this.on(l+".log",t?function(){var c=Date.now(),h=e[l].length;e[l].push(c);var d="";if(d+="Event ",d+=Z(" >2")(u)+" ",d+=l+" ".repeat(i-l.length),d+=Z(" >5")(c-n)+" ",l!="initEnd"&&(d+=Z(" >5")(c-e.start[h])),l=="dataProcessEnd"&&(d+=" prepare                 "+Z(" >5")(c-e.layoutEnd[h])),l=="renderEnd"&&a._transition&&(d+=" transition start margin "+Z(" >5")(a._transition.delay()-(c-e.renderStart[h])),o=a._transition.delay(),s=a._transition.duration()),l=="transitionStart"){var p=c-e.renderStart[h];d+=" transition delay        "+Z(" >5")(c-e.renderStart[h]),d+=" expected "+Z(" >5")(o),d+=" diff "+Z(" >5")(p-o)}if(l=="transitionEnd"){var m=c-e.transitionStart[h];d+=" transition duration     "+Z(" >5")(m),d+=" expected "+Z(" >5")(s),d+=" diff "+Z(" >5")(m-s)}console.log(d),n=c}:null)}return this}function al(){return delete this._selection.node().__graphviz__,this._worker&&this._workerPortClose(),this}function sl(t,n,e,r){return n=-n,r=-r,[t,n]=[t*e-n*r,t*r+n*e],n=-n,[t,n]}function ul(t,n,e,r,i,a={}){if(i=Object.assign({},i),i.style&&i.style.includes("invis"))var o=C(null);else{var s=this._selection,u=s.selectWithoutDataPropagation("svg"),l=u.selectWithoutDataPropagation("g"),c=_r.call(this,i),h=wt(c),o=l.append("g").data([h]);Ct.call(o.node(),h),gr.call(this,o,t,n,e,r,i,a)}return this._drawnEdge={g:o,x1:t,y1:n,x2:e,y2:r,attributes:i},this}function ll(t,n,e,r,i={},a={}){if(!this._drawnEdge)throw Error("No edge has been drawn");var o=this._drawnEdge.g;if(i=Object.assign(this._drawnEdge.attributes,i),this._drawnEdge.x1=t,this._drawnEdge.y1=n,this._drawnEdge.x2=e,this._drawnEdge.y2=r,o.empty()&&!(i.style&&i.style.includes("invis"))){var s=this._selection,u=s.selectWithoutDataPropagation("svg"),l=u.selectWithoutDataPropagation("g"),o=l.append("g");this._drawnEdge.g=o}return o.empty()||gr.call(this,o,t,n,e,r,i,a),this}function gr(t,n,e,r,i,a,o){var s=_r.call(this,a),u=wt(s);t.data([u]),Ct.call(t.node(),u),vr(t,n,e,r,i,a,o)}function vr(t,n,e,r,i,a,o){var s=o.shortening||0,u=10,l=7,c=.1,h=[[0,-l/2],[u,0],[0,l/2],[0,-l/2]],d=r-n,p=i-e,m=Math.sqrt(d*d+p*p);if(m==0)var v=1,w=0;else var v=d/m,w=p/m;if(r=n+(m-s-u-c)*v,i=e+(m-s-u-c)*w,a.URL||a.tooltip)var y=t.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a"),S=y.selectWithoutDataPropagation("path"),k=y.selectWithoutDataPropagation("polygon");else var S=t.selectWithoutDataPropagation("path"),k=t.selectWithoutDataPropagation("polygon");var N=or();N.moveTo(n,e),N.lineTo(r,i),S.attr("d",N),r=n+(m-s-u)*v,i=e+(m-s-u)*w;for(var $=0;$<h.length;$++){var R=h[$];h[$]=sl(R[0],R[1],v,w)}for(var $=0;$<h.length;$++){var R=h[$];h[$]=[r+R[0],i+R[1]]}for(var W=[],$=0;$<h.length;$++){var R=h[$];W.push(R.join(","))}var X=W.join(" ");return k.attr("points",X),this}function cl(t,n,e={}){if(!this._drawnEdge)throw Error("No edge has been drawn");var r=this._drawnEdge.g,i=this._drawnEdge.x1,a=this._drawnEdge.y1,o=this._drawnEdge.attributes;return this._drawnEdge.x2=t,this._drawnEdge.y2=n,vr(r,i,a,t,n,o,e),this}function ze(){if(!this._drawnEdge)return this;var t=this._drawnEdge.g;return t.remove(),this._drawnEdge=null,this}function hl(t){if(!this._drawnEdge)throw Error("No edge has been drawn");var n=this._drawnEdge.g;if(n.empty())return this;this._drawnEdge.attributes;var e=n.selectWithoutDataPropagation("title");e.text(t);var r=this._selection,i=r.selectWithoutDataPropagation("svg"),a=i.selectWithoutDataPropagation("g"),o=a.datum(),s=this._extractData(n,o.children.length,a.datum());return o.children.push(s),ee(n,s),this._drawnEdge=null,this}function Te(){return this._drawnEdge?this._drawnEdge.g:C(null)}function _r(t){var n="";for(var e of Object.keys(t))t[e]!=null&&(n+=' "'+e+'"="'+t[e]+'"');var r="digraph {a -> b ["+n+"]}",i=this.layoutSync(r,"svg","dot"),a=new window.DOMParser,o=a.parseFromString(i,"image/svg+xml"),s=C(document.createDocumentFragment()).append(function(){return o.documentElement}),u=s.select(".edge");return u}function fl(t,n,e,r={},i={}){if(r=Object.assign({},r),r.style&&r.style.includes("invis"))var a=C(null);else{var o=this._selection,s=o.selectWithoutDataPropagation("svg"),u=s.selectWithoutDataPropagation("g"),l=mr.call(this,e,r),c=wt(l),a=u.append("g").data([c]);Ct.call(a.node(),c),yr.call(this,a,t,n,e,r,i)}return this._drawnNode={g:a,nodeId:e,x:t,y:n,attributes:r},this}function dl(t,n,e,r={},i={}){if(!this._drawnNode)throw Error("No node has been drawn");var a=this._drawnNode.g;if(e==null&&(e=this._drawnNode.nodeId),r=Object.assign(this._drawnNode.attributes,r),this._drawnNode.nodeId=e,this._drawnNode.x=t,this._drawnNode.y=n,a.empty()&&!(r.style&&r.style.includes("invis"))){var o=this._selection,s=o.selectWithoutDataPropagation("svg"),u=s.selectWithoutDataPropagation("g"),a=u.append("g");this._drawnNode.g=a}return a.empty()||yr.call(this,a,t,n,e,r,i),this}function yr(t,n,e,r,i,a){var o=mr.call(this,r,i),s=wt(o);return t.data([s]),Ct.call(t.node(),s),wr(t,n,e,i),this}function wr(t,n,e,r,i){if(r.URL||r.tooltip)var a=t.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a");else var a=t;var o=a.selectAll("ellipse,polygon,path,polyline"),s=t.selectWithoutDataPropagation("text");if(o.size()!=0){var u=o.node().getBBox();u.cx=u.x+u.width/2,u.cy=u.y+u.height/2}else s.size()!=0&&(u={x:+s.attr("x"),y:+s.attr("y"),width:0,height:0,cx:+s.attr("x"),cy:+s.attr("y")});return o.each(function(l,c){var h=C(this);if(h.attr("cx"))h.attr("cx",ft(n)).attr("cy",ft(e));else if(h.attr("points")){var d=h.attr("points").trim();h.attr("points",Du(d,n-u.cx,e-u.cy))}else{var p=h.attr("d");h.attr("d",Cu(p,n-u.cx,e-u.cy))}}),s.size()!=0&&s.attr("x",ft(+s.attr("x")+n-u.cx)).attr("y",ft(+s.attr("y")+e-u.cy)),this}function pl(t,n,e={}){if(!this._drawnNode)throw Error("No node has been drawn");var r=this._drawnNode.g,i=this._drawnNode.attributes;return this._drawnNode.x=t,this._drawnNode.y=n,r.empty()||wr(r,t,n,i),this}function Pe(){if(!this._drawnNode)return this;var t=this._drawnNode.g;return t.empty()||t.remove(),this._drawnNode=null,this}function gl(t){if(!this._drawnNode)throw Error("No node has been drawn");t==null&&(t=this._drawnNode.nodeId);var n=this._drawnNode.g;if(n.empty())return this;var e=this._drawnNode.attributes,r=n.selectWithoutDataPropagation("title");if(r.text(t),e.URL||e.tooltip){var i=n.selectWithoutDataPropagation("g"),a=i.selectWithoutDataPropagation("a");a.selectWithoutDataPropagation("ellipse,polygon,path,polyline");var o=a.selectWithoutDataPropagation("text")}else{n.selectWithoutDataPropagation("ellipse,polygon,path,polyline");var o=n.selectWithoutDataPropagation("text")}o.text(e.label||t);var s=this._selection,u=s.selectWithoutDataPropagation("svg"),l=u.selectWithoutDataPropagation("g"),c=l.datum(),h=this._extractData(n,c.children.length,l.datum());return c.children.push(h),ee(n,h),this._drawnNode=null,this}function Ae(){return this._drawnNode?this._drawnNode.g:C(null)}function mr(t,n){var e="";for(var r of Object.keys(n))n[r]!=null&&(e+=' "'+r+'"="'+n[r]+'"');var i='graph {"'+t+'" ['+e+"]}",a=this.layoutSync(i,"svg","dot"),o=new window.DOMParser,s=o.parseFromString(a,"image/svg+xml"),u=C(document.createDocumentFragment()).append(function(){return s.documentElement}),l=u.select(".node");return l}function nn(t){self.document={},t.addEventListener("message",function(n){let e=self["@hpcc-js/wasm"];if(e==null&&n.data.vizURL&&(importScripts(n.data.vizURL),e=self["@hpcc-js/wasm"]),n.data.type=="version"){e.Graphviz.load().then(r=>{t.postMessage({type:"version",version:r.version()})});return}e.Graphviz.load().then(r=>{const i=r.layout(n.data.dot,"svg",n.data.engine,n.data.options);i?t.postMessage({type:"done",svg:i}):n.data.vizURL?t.postMessage({type:"init"}):t.postMessage({type:"skip"})}).catch(r=>{t.postMessage({type:"error",error:r.message})})})}function vl(){nn(self)}function _l(){self.onconnect=function(t){const n=t.ports[0];nn(n),n.start()}}function On(t,n){if(this._options={useWorker:!0,useSharedWorker:!1,engine:"dot",keyMode:"title",fade:!0,tweenPaths:!0,tweenShapes:!0,convertEqualSidedPolygons:!0,tweenPrecision:1,growEnteringEdges:!0,zoom:!0,zoomScaleExtent:[.1,10],zoomTranslateExtent:[[-1/0,-1/0],[1/0,1/0]],width:null,height:null,scale:1,fit:!1},n instanceof Object)for(var e of Object.keys(n))this._options[e]=n[e];else typeof n=="boolean"&&(this._options.useWorker=n);var r=this._options.useWorker,i=this._options.useSharedWorker;if(typeof Worker>"u"&&(r=!1),typeof SharedWorker>"u"&&(i=!1),r||i){var a=Vn("script"),o=a.filter(function(){return C(this).attr("type")=="javascript/worker"||C(this).attr("src")&&C(this).attr("src").match(/.*\/@hpcc-js\/wasm/)});o.size()==0?(console.warn('No script tag of type "javascript/worker" was found and "useWorker" is true. Not using web worker.'),r=!1,i=!1):(this._vizURL=o.attr("src"),this._vizURL||(console.warn('No "src" attribute of was found on the "javascript/worker" script tag and "useWorker" is true. Not using web worker.'),r=!1,i=!1))}if(i){const l="data:application/javascript;base64,"+btoa(nn.toString()+"("+_l.toString()+")()");this._worker=this._worker=new SharedWorker(l),this._workerPort=this._worker.port,this._workerPortClose=this._worker.port.close.bind(this._workerPort),this._worker.port.start(),this._workerCallbacks=[]}else if(r){var s=new Blob([nn.toString()+"("+vl.toString()+")()"]),u=window.URL.createObjectURL(s);this._worker=new Worker(u),this._workerPort=this._worker,this._workerPortClose=this._worker.terminate.bind(this._worker),this._workerCallbacks=[]}else De.load().then((l=>{this._graphvizVersion=l.version()}).bind(this));this._selection=t,this._active=!1,this._busy=!1,this._jobs=[],this._queue=[],this._keyModes=new Set(["title","id","tag-index","index"]),this._images=[],this._translation=void 0,this._scale=void 0,this._eventTypes=["initEnd","start","layoutStart","layoutEnd","dataExtractEnd","dataProcessPass1End","dataProcessPass2End","dataProcessEnd","renderStart","renderEnd","transitionStart","transitionEnd","restoreEnd","end","zoom"],this._dispatch=At(...this._eventTypes),Ru.call(this),t.node().__graphviz__=this}On.prototype={constructor:On,engine:Gu,addImage:Zu,keyMode:Ku,fade:Qu,tweenPaths:Ju,tweenShapes:ju,convertEqualSidedPolygons:tl,tweenPrecision:nl,growEnteringEdges:el,zoom:mu,resetZoom:xu,zoomBehavior:bu,zoomSelection:ku,zoomScaleExtent:Eu,zoomTranslateExtent:$u,render:Pu,layout:Iu,dot:Lu,data:Su,renderDot:Wu,transition:Fu,active:qu,options:Bu,width:Vu,height:Xu,scale:Hu,fit:Uu,attributer:Yu,on:rl,onerror:il,logEvents:ol,destroy:al,drawEdge:ul,updateDrawnEdge:ll,moveDrawnEdgeEndPoint:cl,insertDrawnEdge:hl,removeDrawnEdge:ze,removeDrawnEdge:ze,drawnEdgeSelection:Te,drawnEdgeSelection:Te,drawNode:fl,updateDrawnNode:dl,moveDrawnNode:pl,insertDrawnNode:gl,removeDrawnNode:Pe,removeDrawnNode:Pe,drawnNodeSelection:Ae,drawnNodeSelection:Ae,graphvizVersion:Au};function yl(t){var n=this.node().__graphviz__;return n?(n.options(t),$t(function(){n._dispatch.call("initEnd",this)}.bind(this),0)):n=new On(this,t),n}function wl(t){return C(this.size()>0?this.node().querySelector(t):null)}K.prototype.graphviz=yl;K.prototype.selectWithoutDataPropagation=wl;export{C as s};
