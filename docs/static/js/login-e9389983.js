import{l as e,t as a,_ as o}from"./index-e9e85ee6.js";import{a7 as s,a8 as i,J as t,o as r,A as n,B as l,F as d,K as c,u as m,w as u,H as p,q as g}from"./vendor-fe3131ae.js";import"./chunk-bin-ui-next-169a0b5b.js";import"./chunk-brace-7f859248.js";const f={name:"Login",data:()=>({formLogin:{username:"admin",password:"admin",captcha:"v9am"},loading:!1,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}),methods:{submit(){this.$refs.loginForm.validate((async o=>{if(o){try{this.loading=!0;const{data:a}=await e(this.formLogin);await this.loginSuccess(a)}catch(s){a("login/requestFailed",s)}this.loading=!1}}))},async loginSuccess(e){if("00"===e.code){const a=e.data.accessToken;await this.$store.dispatch("user/setToken",a);const o=this.$route.query.redirect||"/";await this.$router.push({path:o})}else a("login/requestFailed",e)}}};s("data-v-0989b840");const b={class:"page-login"},h={class:"layer area"},y={class:"circles"},w={class:"layer"},v={class:"content",flex:"dir:top main:justify cross:center box:justify"},_=l("div",{class:"header"},[l("p",{class:"header-motto"},"开箱即用的中后台管理系统")],-1),x={class:"main",flex:"dir:top main:center cross:center"},L=l("div",{class:"page-login--logo"},[l("img",{src:o,alt:"logo"}),l("span",null,"BIN-ADMIN-PRO")],-1),k={class:"form"},V=l("span",{class:"login-code"},[l("img",{src:"/bin-admin-pro/static/png/login-code-8c841f1c.png",alt:"code"})],-1),q=g(" 登录 "),K=l("div",{class:"footer"},[l("p",{class:"footer-copyright"},[g(" bin admin pro 简版后台管理系统vue3 重构版 "),l("a",{href:"https://github.com/wangbin3162/bin-admin-pro",target:"_blank"},"github")])],-1);i(),f.render=function(e,a,o,s,i,g){const f=t("b-icon"),j=t("b-input"),z=t("b-form-item"),F=t("b-button"),$=t("b-form");return r(),n("div",b,[l("div",h,[l("ul",y,[(r(),n(d,null,c(10,(e=>l("li",{key:e}))),64))])]),l("div",w,[l("div",v,[_,l("div",x,[L,l("div",k,[m($,{ref:"loginForm","label-position":"top",rules:i.rules,model:i.formLogin,size:"large"},{default:u((()=>[m(z,{prop:"username"},{default:u((()=>[m(j,{type:"text",modelValue:i.formLogin.username,"onUpdate:modelValue":a[0]||(a[0]=e=>i.formLogin.username=e),placeholder:"用户名[admin,wang]",onKeydown:p(g.submit,["enter"])},{prefix:u((()=>[m(f,{name:"user",size:"16"})])),_:1},8,["modelValue","onKeydown"])])),_:1}),m(z,{prop:"password"},{default:u((()=>[m(j,{type:"password",modelValue:i.formLogin.password,"onUpdate:modelValue":a[1]||(a[1]=e=>i.formLogin.password=e),placeholder:"密码[admin,123456]",onKeydown:p(g.submit,["enter"])},{prefix:u((()=>[m(f,{name:"lock",size:"16"})])),_:1},8,["modelValue","onKeydown"])])),_:1}),m(z,{prop:"captcha"},{default:u((()=>[m(j,{type:"text",modelValue:i.formLogin.captcha,"onUpdate:modelValue":a[2]||(a[2]=e=>i.formLogin.captcha=e),placeholder:"- - - -",style:{width:"68%"},onKeydown:p(g.submit,["enter"])},{prefix:u((()=>[m(f,{name:"bulb",size:"16"})])),_:1},8,["modelValue","onKeydown"]),V])),_:1}),m(F,{onClick:g.submit,loading:i.loading,type:"primary",class:"button-login",size:"large"},{default:u((()=>[q])),_:1},8,["onClick","loading"])])),_:1},8,["rules","model"])])]),K])])])},f.__scopeId="data-v-0989b840";export{f as default};
