(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-641bc2e2"],{"366f":function(e,t,n){"use strict";var i=n("7a23"),c=Object(i["fb"])("data-v-5dd2ee88");Object(i["G"])("data-v-5dd2ee88");var a={class:"page-header-wrap"},r={class:"page-header-wrap-page-header-warp"},o={class:"grid-content"},s={class:"page-header has-breadcrumb"},l={class:"page-header-heading"},u={class:"page-header-heading-title"},b={key:0,class:"page-header-desc"},p={class:"grid-content"};Object(i["E"])();var d=c((function(e,t,n,c,d,j){var O=Object(i["M"])("b-icon");return Object(i["D"])(),Object(i["i"])("div",a,[Object(i["m"])("div",r,[Object(i["m"])("div",o,[Object(i["m"])("div",s,[Object(i["m"])("div",l,[Object(i["m"])("span",u,Object(i["Q"])(c.normalTitle),1),Object(i["L"])(e.$slots,"right",{},void 0,!0)]),e.$slots.desc||n.desc?(Object(i["D"])(),Object(i["i"])("div",b,[Object(i["L"])(e.$slots,"desc",{},(function(){return[Object(i["l"])(Object(i["Q"])(n.desc),1)]}),{},!0)])):Object(i["j"])("",!0),n.showClose?(Object(i["D"])(),Object(i["i"])(O,{key:1,name:"close",onClick:t[1]||(t[1]=function(t){return e.$emit("close")})})):Object(i["j"])("",!0)])])]),Object(i["m"])("div",p,[Object(i["m"])("div",{class:["page-header-wrap-children-content",{"has-bg":n.bg}],style:{padding:n.bg?n.contentPadding:null}},[Object(i["L"])(e.$slots,"default",{},void 0,!0)],6)])])})),j=n("3ddc"),O=n("2788"),m={name:"PageWrapper",props:{title:String,desc:String,showClose:Boolean,bg:Boolean,contentPadding:{type:String,default:"16px"}},emits:["close"],setup:function(e){var t=Object(j["a"])(),n=t.showTagsView,c=Object(O["a"])(),a=c.getCurrentRouteMenu,r=Object(i["g"])((function(){return e.title?e.title:a().title||"no-title"}));return{normalTitle:r,showTagsView:n}}};n("f441");m.render=d,m.__scopeId="data-v-5dd2ee88";t["a"]=m},"55c0":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("a417");function c(){return Object(i["b"])({url:"/user/list",method:"get"})}},"84b8":function(e,t,n){"use strict";n.r(t);var i=n("7a23"),c=Object(i["fb"])("data-v-b931bba8");Object(i["G"])("data-v-b931bba8");var a={class:"list-wrap"},r={class:"list-item-meta"},o={class:"list-item-meta-name"},s={class:"list-item-id"},l=Object(i["l"])("复制"),u={class:"list-item-email mt-8"},b={class:"list-item-action mt-8"},p={key:0,class:"list-item-action mt-8"},d=Object(i["l"])(" 管理员 "),j=Object(i["l"])(" 普通用户 "),O=Object(i["l"])(" 实施人员 "),m={class:"mt-16 t-center"};Object(i["E"])();var f=c((function(e,t,n,f,g,h){var v=Object(i["M"])("b-skeleton"),y=Object(i["M"])("b-divider"),C=Object(i["M"])("b-button"),w=Object(i["M"])("b-tag"),k=Object(i["M"])("action-button"),x=Object(i["M"])("b-page"),z=Object(i["M"])("page-wrapper");return Object(i["D"])(),Object(i["i"])(z,{desc:"包含信息的列表，带有常规操作。本页面也用作示例，实际操作以业务需求自行编写。",bg:""},{default:c((function(){return[Object(i["m"])(v,{loading:f.loading},{template:c((function(){return[Object(i["m"])(v,{animation:""}),Object(i["m"])(y),Object(i["m"])(v,{animation:""}),Object(i["m"])(y),Object(i["m"])(v,{animation:""}),Object(i["m"])(y)]})),default:c((function(){return[Object(i["m"])("ul",a,[(Object(i["D"])(!0),Object(i["i"])(i["b"],null,Object(i["K"])(f.copyList,(function(e,t){return Object(i["D"])(),Object(i["i"])("li",{key:e.id,class:"user-list-item"},[Object(i["m"])("div",r,[Object(i["m"])("img",{src:e.avatar,alt:"",class:"avatar"},null,8,["src"]),Object(i["m"])("div",o,Object(i["Q"])(e.realName),1)]),Object(i["m"])("div",s,[Object(i["m"])("span",null,"ID:"+Object(i["Q"])(e.id),1),Object(i["m"])(C,{size:"mini",icon:"file-copy",onClick:function(t){return f.handleCopy(e.id)}},{default:c((function(){return[l]})),_:2},1032,["onClick"])]),Object(i["m"])("div",u,"邮箱地址："+Object(i["Q"])(e.email),1),Object(i["m"])("div",b,[Object(i["m"])(w,{type:e.verify?"success":"danger"},{default:c((function(){return[Object(i["l"])(Object(i["Q"])(e.verify?"已认证":"未认证"),1)]})),_:2},1032,["type"]),Object(i["m"])(w,{type:f.roleMapStyle[e.roles]},{default:c((function(){return[Object(i["l"])(Object(i["Q"])(f.roleMap[e.roles]),1)]})),_:2},1032,["type"]),Object(i["m"])(C,{icon:e.expand?"minus-square":"plus-square",size:"mini",style:{"margin-left":"16px"},onClick:function(t){return e.expand=!e.expand}},{default:c((function(){return[Object(i["l"])(Object(i["Q"])(e.expand?"收起操作":"展开操作"),1)]})),_:2},1032,["icon","onClick"])]),e.expand?(Object(i["D"])(),Object(i["i"])("div",p,[Object(i["m"])(k,{"button-props":{type:"admin"!==e.roles?"primary":null,size:"mini",disabled:"admin"===e.roles},onClick:function(e){return f.setRole("admin",t)},message:"设置角色为管理员吗？",confirm:""},{default:c((function(){return[d]})),_:2},1032,["button-props","onClick"]),Object(i["m"])(y,{type:"vertical"}),Object(i["m"])(k,{"button-props":{type:"user"!==e.roles?"primary":null,size:"mini",disabled:"user"===e.roles},onClick:function(e){return f.setRole("user",t)},message:"设置角色为普通用户吗？",confirm:""},{default:c((function(){return[j]})),_:2},1032,["button-props","onClick"]),Object(i["m"])(y,{type:"vertical"}),Object(i["m"])(k,{"button-props":{type:"op"!==e.roles?"primary":null,size:"mini",disabled:"op"===e.roles},onClick:function(e){return f.setRole("op",t)},message:"设置角色为实施人员吗？",confirm:""},{default:c((function(){return[O]})),_:2},1032,["button-props","onClick"])])):Object(i["j"])("",!0)])})),128))])]})),_:1},8,["loading"]),Object(i["m"])("div",m,[Object(i["m"])(x,{total:f.total,current:f.query.page,"onUpdate:current":t[1]||(t[1]=function(e){return f.query.page=e}),"page-size":f.query.size,"show-elevator":"","show-sizer":"","show-total":"",onChange:f.pageChange,onSizeChange:f.pageSizeChange},null,8,["total","current","page-size","onChange","onSizeChange"])])]})),_:1})})),g=n("5530"),h=(n("d81d"),n("ef2f")),v=n("55c0"),y=n("6487"),C=n("dda2"),w=n("366f"),k={name:"UserList",components:{PageWrapper:w["a"],ActionButton:C["a"]},setup:function(){var e=Object(i["H"])({page:1,size:10}),t=Object(i["I"])([]),n=Object(h["a"])(v["a"],e),c=n.loading,a=n.list,r=n.total,o=n.getDataSource,s=n.pageChange,l=n.pageSizeChange;function u(e){y["b"].success("复制ID：".concat(e,"成功！"))}function b(e,n){t.value[n].roles=e}return Object(i["Z"])((function(){return a.value}),(function(e){t.value=e.map((function(e){return Object(g["a"])(Object(g["a"])({},e),{},{expand:!1})}))})),o(),{query:e,roleMap:{admin:"管理员",user:"普通用户",op:"实施人员"},roleMapStyle:{admin:"purple",user:"blue",op:"volcano"},loading:c,list:a,copyList:t,total:r,pageChange:s,pageSizeChange:l,handleCopy:u,setRole:b}}};n("f54e");k.render=f,k.__scopeId="data-v-b931bba8";t["default"]=k},"9e59":function(e,t,n){},dda2:function(e,t,n){"use strict";var i=n("7a23"),c={style:{"line-height":"22px","margin-bottom":"8px"}},a={style:{"text-align":"right",margin:"0"}},r=Object(i["l"])("取消"),o=Object(i["l"])("确认");function s(e,t,n,s,l,u){var b=Object(i["M"])("b-button"),p=Object(i["M"])("b-icon"),d=Object(i["M"])("b-popover");return Object(i["D"])(),Object(i["i"])(d,{visible:l.visible,"onUpdate:visible":t[1]||(t[1]=function(e){return l.visible=e}),width:n.popperWidth,disabled:!n.confirm},{content:Object(i["bb"])((function(){return[Object(i["m"])("p",c,[Object(i["m"])(p,{name:"question-circle",size:"16",color:"#fa8c16"}),Object(i["l"])(" "+Object(i["Q"])(n.message),1)]),Object(i["m"])("div",a,[Object(i["m"])(b,{size:"mini",type:"text",onClick:u.handleCancel},{default:Object(i["bb"])((function(){return[r]})),_:1},8,["onClick"]),Object(i["m"])(b,{type:"primary",size:"mini",onClick:u.handleOk},{default:Object(i["bb"])((function(){return[o]})),_:1},8,["onClick"])])]})),default:Object(i["bb"])((function(){return[Object(i["m"])(b,Object(i["t"])(u.btnProps,{onClick:u.handleClick,title:n.tooltip}),{default:Object(i["bb"])((function(){return[Object(i["L"])(e.$slots,"default")]})),_:3},16,["onClick","title"])]})),_:1},8,["visible","width","disabled"])}n("a9e3");var l={name:"ActionButton",props:{buttonProps:{type:Object},popperWidth:{type:Number,default:220},message:{type:String,default:"确定删除本条数据吗？"},confirm:Boolean,tooltip:String,icon:String,type:String,color:String,isIcon:Boolean},data:function(){return{visible:!1}},emits:["cancel","click"],computed:{btnProps:function(){return this.buttonProps?this.buttonProps:{icon:this.icon,type:this.isIcon?"text":this.type,textColor:this.color,iconStyle:this.isIcon?{fontSize:"16px"}:{}}}},methods:{handleCancel:function(){this.visible=!1,this.$emit("cancel")},handleOk:function(){this.visible=!1,this.$emit("click")},handleClick:function(){this.confirm||this.$emit("click")}}};l.render=s;t["a"]=l},e16f:function(e,t,n){},ef2f:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("1da1"),c=(n("96cf"),n("7a23")),a=n("6487"),r=n("ca00");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rows",s=Object(c["I"])(null),l=Object(c["I"])(!1),u=Object(c["I"])(0),b=Object(c["I"])([]),p={width:0,height:0};function d(){return j.apply(this,arguments)}function j(){return j=Object(i["a"])(regeneratorRuntime.mark((function i(){var c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return");case 2:return i.prev=2,f(!0),i.next=6,e(t);case 6:c=i.sent,b.value=o?c[o]:c,u.value=n?c.total||0:c.list.length,i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](2),console.log(i.t0),a["d"].error(i.t0);case 15:f(!1);case 16:case"end":return i.stop()}}),i,null,[[2,11]])}))),j.apply(this,arguments)}function O(){return m.apply(this,arguments)}function m(){return m=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n&&t.page&&(t.page=1),e.next=3,d();case 3:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function f(e){l.value=e}function g(e){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page=n,e.next=3,d();case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return y=Object(i["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page=1,t.size=n,e.next=4,d();case 4:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function C(){var e,t=null===(e=s.value.value)||void 0===e?void 0:e.getBoundingClientRect();p.width=t.width,p.height=t.height}return Object(c["A"])((function(){Object(r["a"])(s.value,C)})),Object(c["x"])((function(){Object(r["d"])(s.value,C)})),{tableWrapRef:s,loading:l,total:u,list:b,getDataSource:d,reload:O,setLoading:f,pageChange:g,pageSizeChange:v}}},f441:function(e,t,n){"use strict";n("9e59")},f54e:function(e,t,n){"use strict";n("e16f")}}]);