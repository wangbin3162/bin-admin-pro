import"./chunk-bin-ui-design-55yTQV6H.js";import{r as i,m as G,o as f,j as K,w as a,K as t,b,a as L,Q as M,F as O,f as p,t as v,G as Q,R as l}from"./vendor-COsJffew.js";import"./chunk-brace-DF1jSkZr.js";const S={style:{padding:"10px 24px"}},$={class:"mt-8"},z={style:{padding:"10px 24px"}},W=Object.assign({name:"EditTable"},{__name:"edit-table",setup(H){const V=i(null),c=i(null),m={1:"吃饭",2:"睡觉",3:"打豆豆"},w=[{title:" ",slot:"handle",width:24,align:"center"},{title:"姓名",slot:"name"},{title:"年龄",slot:"age"},{title:"出生日期",slot:"birthday"},{title:"爱好",slot:"hobby"},{title:"地址",slot:"address"},{title:" ",slot:"action",width:50,align:"center"}],k=[{title:"姓名",key:"name"},{title:"年龄",key:"age"},{title:"出生日期",key:"birthday"},{title:"爱好",slot:"hobby"},{title:"地址",key:"address"}],r=G({name:[{required:!0,message:"必填项",trigger:"blur"}],age:[{required:!0,message:"必填项",trigger:"change"}],birthday:[{required:!0,message:"必填项",trigger:"change"}],hobby:[{required:!0,message:"必填项",trigger:"change"}],address:[{required:!0,message:"必填项",trigger:"blur"}]}),o=i([{name:"王小明",age:18,birthday:"1990-04-22",hobby:"1",address:"北京市朝阳区芍药居"},{name:"张小刚",age:25,birthday:"1990-11-11",hobby:"1",address:"北京市海淀区西二旗"},{name:"李小红",age:30,birthday:"1985-02-05",hobby:"3",address:"上海市浦东新区世纪大道"},{name:"周小伟",age:26,birthday:"1993-07-11",hobby:"1",address:"深圳市南山区深南大道"},{name:"张小发",age:33,birthday:"1999-12-12",hobby:"2",address:"南京市龙眠大道"}]);function U(){const d={name:"",age:null,birthday:"",hobby:"",address:""};o.value.push(d)}function R(d){o.value.splice(d,1)}function x(d,u){o.value=[...d],Q(()=>c.value&&c.value.clickCurrentRow(u))}return(d,u)=>{const C=l("debug-modal"),D=l("drag-handle"),_=l("b-input"),s=l("b-form-item"),q=l("b-input-number"),B=l("b-date-picker"),T=l("b-option"),N=l("b-select"),j=l("action-button"),h=l("b-table"),E=l("b-button"),g=l("b-collapse-wrap"),F=l("b-form"),A=l("page-wrapper");return f(),K(A,{desc:"编辑表格，可以设置父级元素为edit-table来开启编辑表格的样式"},{default:a(()=>[t(F,{model:o.value,"label-width":"85px",ref_key:"formRef",ref:V,"label-position":"top"},{default:a(()=>[t(g,{title:"编辑表格",shadow:"none"},{right:a(()=>[t(C,{data:o.value},null,8,["data"])]),default:a(()=>[b("div",S,[t(h,{columns:w,data:o.value,noDataText:"暂无参数",draggable:"","edit-table":"","drag-handle":".drag","max-height":"420",onDragDrop:x},{handle:a(()=>[t(D)]),name:a(({index:e})=>[t(s,{rules:r.name,prop:e+".name"},{default:a(()=>[t(_,{type:"text",modelValue:o.value[e].name,"onUpdate:modelValue":n=>o.value[e].name=n,clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["rules","prop"])]),age:a(({index:e})=>[t(s,{rules:r.age,prop:e+".age"},{default:a(()=>[t(q,{type:"text",modelValue:o.value[e].age,"onUpdate:modelValue":n=>o.value[e].age=n,"arrow-up-icon":"plus","arrow-down-icon":"minus"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["rules","prop"])]),birthday:a(({index:e})=>[t(s,{rules:r.birthday,prop:e+".birthday"},{default:a(()=>[t(B,{modelValue:o.value[e].birthday,"onUpdate:modelValue":n=>o.value[e].birthday=n,type:"date",placeholder:"选择日期"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["rules","prop"])]),hobby:a(({index:e})=>[t(s,{rules:r.hobby,prop:e+".hobby"},{default:a(()=>[t(N,{modelValue:o.value[e].hobby,"onUpdate:modelValue":n=>o.value[e].hobby=n,clearable:""},{default:a(()=>[(f(),L(O,null,M(m,(n,y)=>t(T,{key:y,value:y,label:n},{default:a(()=>[p(v(n),1)]),_:2},1032,["value","label"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["rules","prop"])]),address:a(({index:e})=>[t(s,{rules:r.address,prop:e+".address"},{default:a(()=>[t(_,{type:"text",modelValue:o.value[e].address,"onUpdate:modelValue":n=>o.value[e].address=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["rules","prop"])]),action:a(({index:e})=>[t(j,{type:"text",icon:"minus-circle",color:"danger","is-icon":"",tooltip:"移除",message:"确定移除此项吗？",confirm:"",onClick:n=>R(e)},null,8,["onClick"])]),_:1},8,["data"]),b("div",$,[t(E,{icon:"plus",dashed:"",style:{width:"100%"},onClick:U},{default:a(()=>u[0]||(u[0]=[p("新增")])),_:1})])])]),_:1}),t(g,{title:"只读",shadow:"none"},{default:a(()=>[b("div",z,[t(h,{"edit-table":"","edit-table-detail":"",columns:k,data:o.value},{hobby:a(({row:e})=>[p(v(m[e.hobby]),1)]),_:1},8,["data"])])]),_:1})]),_:1},8,["model"])]),_:1})}}});export{W as default};
