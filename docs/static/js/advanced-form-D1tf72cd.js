import{n as D}from"./chunk-bin-ui-design-XqwoFEXm.js";import{a8 as Y,r as z,m as j,M as E,o as s,j as k,w as a,aj as K,Q as i,K as e,f as m,b as U,a as _,t as V,R as L,F as q}from"./vendor-BdSUmcRD.js";import"./chunk-brace-DkiLfVT0.js";const Q={name:"AdvancedForm",setup(){const o=z(null),d=z({name:"",sex:"male",mail:"",birthday:"",taskName:"",taskDesc:"",taskDate:"",duty:"",execute:"",level:""}),f=z([{name:"王小明",age:18,birthday:"1990-04-22",hobby:"1",address:"北京市朝阳区芍药居"},{name:"张小刚",age:25,birthday:"1990-11-11",hobby:"1",address:"北京市海淀区西二旗"},{name:"李小红",age:30,birthday:"1985-02-05",hobby:"3",address:"上海市浦东新区世纪大道"},{name:"周小伟",age:26,birthday:"1993-07-11",hobby:"1",address:"深圳市南山区深南大道"},{name:"张小发",age:33,birthday:"1999-12-12",hobby:"2",address:"南京市龙眠大道"}]),t=j({editName:"",editAge:"",editBirthday:"",editHobby:"",editAddress:"",editIndex:-1,editIsCreate:!1});function N(r,c){t.editName=r.name,t.editAge=r.age,t.editHobby=r.hobby,t.editAddress=r.address,t.editBirthday=r.birthday,t.editIndex=c}function w(r){const{editName:c,editAge:v,editBirthday:C,editHobby:I,editAddress:A}=t;if(c===""||!v||C===""||I===""||A===""){D.error("请填写完整的信息！");return}f.value[r].name=t.editName,f.value[r].age=t.editAge,f.value[r].birthday=K(t.editBirthday).format("YYYY-MM-DD"),f.value[r].hobby=t.editHobby,f.value[r].address=t.editAddress,t.editIndex=-1,t.editIsCreate=!1}function y(){const r={name:"",age:null,birthday:"",hobby:"",address:""};f.value.push(r),N(r,f.value.length-1),t.editIsCreate=!0}function u(r){f.value.splice(r,1),t.editIsCreate=!1}function b(){o.value.validate(r=>{if(r)D.success("success submit!!");else return D.error("error submit!!"),!1})}function h(){o.value.resetFields()}return{formRef:o,form:d,ruleValidate:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],mail:[{required:!0,type:"email",message:"请输入邮箱",trigger:"blur"}],birthday:[{required:!0,type:"date",message:"请选择出生日期",trigger:"change"}],taskName:[{required:!0,message:"请输入任务名称",trigger:"blur"}],taskDesc:[{required:!0,message:"请输入任务描述",trigger:"blur"}],taskDate:[{required:!0,type:"date",message:"请选择任务日期",trigger:"change"}],duty:[{required:!0,message:"请输入责任人",trigger:"blur"}],execute:[{required:!0,message:"请输入执行人",trigger:"blur"}],level:[{required:!0,message:"勾选任务紧急程度",trigger:"change"}]},columns:[{title:"姓名",slot:"name"},{title:"年龄",slot:"age"},{title:"出生日期",slot:"birthday"},{title:"爱好",slot:"hobby"},{title:"地址",slot:"address"},{title:"操作",slot:"action"}],hobbyMap:{1:"吃饭",2:"睡觉",3:"打豆豆"},list:f,...E(t),submitForm:b,resetForm:h,handleSave:w,handleEdit:N,handleAdd:y,handleRemove:u}}},T={style:{padding:"10px 24px"}},x={style:{padding:"10px 24px"}},G={style:{padding:"16px"}},J={key:1},O={key:1},P={key:1},W={key:1},X={key:1},Z={key:0},$={key:1},ee={class:"mt-8"};function ae(o,d,f,t,N,w){const y=i("b-input"),u=i("b-form-item"),b=i("b-col"),h=i("b-option"),r=i("b-select"),c=i("b-date-picker"),v=i("b-row"),C=i("b-collapse-wrap"),I=i("b-tag"),A=i("b-radio"),F=i("b-radio-group"),R=i("b-input-number"),g=i("b-button"),H=i("b-table"),M=i("b-form"),S=i("page-wrapper");return s(),k(S,{desc:"当一次性提交大量数据时，可使用高级表单。"},{rightFooter:a(()=>[e(g,{onClick:t.resetForm},{default:a(()=>[m("重 置")]),_:1},8,["onClick"]),e(g,{type:"primary",onClick:t.submitForm},{default:a(()=>[m("提 交")]),_:1},8,["onClick"])]),default:a(()=>[e(M,{model:t.form,rules:t.ruleValidate,"status-icon":"","label-width":"85px",ref:"formRef","label-position":"top"},{default:a(()=>[e(C,{title:"基本信息",shadow:"none"},{default:a(()=>[U("div",T,[e(v,{gutter:24},{default:a(()=>[e(b,{span:"6"},{default:a(()=>[e(u,{prop:"name",label:"姓名"},{default:a(()=>[e(y,{modelValue:t.form.name,"onUpdate:modelValue":d[0]||(d[0]=l=>t.form.name=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{label:"性别",prop:"sex"},{default:a(()=>[e(r,{modelValue:t.form.sex,"onUpdate:modelValue":d[1]||(d[1]=l=>t.form.sex=l),placeholder:"请选择户籍地"},{default:a(()=>[e(h,{label:"男",value:"male"}),e(h,{label:"女",value:"female"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{prop:"mail",label:"邮箱"},{default:a(()=>[e(y,{modelValue:t.form.mail,"onUpdate:modelValue":d[2]||(d[2]=l=>t.form.mail=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{label:"出生日期",prop:"birthday"},{default:a(()=>[e(c,{modelValue:t.form.birthday,"onUpdate:modelValue":d[3]||(d[3]=l=>t.form.birthday=l),type:"date",placeholder:"出生日期"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{title:"任务信息",shadow:"none"},{default:a(()=>[U("div",x,[e(v,{gutter:32},{default:a(()=>[e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskName",label:"任务名称"},{default:a(()=>[e(y,{modelValue:t.form.taskName,"onUpdate:modelValue":d[4]||(d[4]=l=>t.form.taskName=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskDesc",label:"任务描述"},{default:a(()=>[e(y,{modelValue:t.form.taskDesc,"onUpdate:modelValue":d[5]||(d[5]=l=>t.form.taskDesc=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskDate",label:"创建日期"},{default:a(()=>[e(c,{modelValue:t.form.taskDate,"onUpdate:modelValue":d[6]||(d[6]=l=>t.form.taskDate=l),type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{gutter:30},{default:a(()=>[e(b,{span:"8"},{default:a(()=>[e(u,{prop:"duty",label:"责任人"},{default:a(()=>[e(y,{modelValue:t.form.duty,"onUpdate:modelValue":d[7]||(d[7]=l=>t.form.duty=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"execute",label:"执行人"},{default:a(()=>[e(y,{modelValue:t.form.execute,"onUpdate:modelValue":d[8]||(d[8]=l=>t.form.execute=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"level",label:"紧急程度"},{default:a(()=>[e(F,{modelValue:t.form.level,"onUpdate:modelValue":d[9]||(d[9]=l=>t.form.level=l)},{default:a(()=>[e(A,{label:"0"},{default:a(()=>[e(I,{type:"danger"},{default:a(()=>[m("紧急")]),_:1})]),_:1}),e(A,{label:"1"},{default:a(()=>[e(I,{type:"blue"},{default:a(()=>[m("急")]),_:1})]),_:1}),e(A,{label:"2"},{default:a(()=>[e(I,{type:"success"},{default:a(()=>[m("一般")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{title:"人员信息",shadow:"none"},{default:a(()=>[U("div",G,[e(H,{columns:t.columns,data:t.list},{name:a(({index:l,row:p})=>[o.editIndex===l?(s(),k(y,{key:0,type:"text",modelValue:o.editName,"onUpdate:modelValue":d[10]||(d[10]=n=>o.editName=n),size:"small",clearable:""},null,8,["modelValue"])):(s(),_("span",J,V(p.name),1))]),age:a(({index:l,row:p})=>[o.editIndex===l?(s(),k(R,{key:0,type:"text",modelValue:o.editAge,"onUpdate:modelValue":d[11]||(d[11]=n=>o.editAge=n),size:"small"},null,8,["modelValue"])):(s(),_("span",O,V(p.age),1))]),birthday:a(({index:l,row:p})=>[o.editIndex===l?(s(),k(c,{key:0,size:"small",modelValue:o.editBirthday,"onUpdate:modelValue":d[12]||(d[12]=n=>o.editBirthday=n),type:"date",placeholder:"选择日期"},null,8,["modelValue"])):(s(),_("span",P,V(p.birthday),1))]),hobby:a(({index:l,row:p})=>[o.editIndex===l?(s(),k(r,{key:0,modelValue:o.editHobby,"onUpdate:modelValue":d[13]||(d[13]=n=>o.editHobby=n),clearable:"",size:"small"},{default:a(()=>[(s(!0),_(q,null,L(t.hobbyMap,(n,B)=>(s(),k(h,{key:B,value:B,label:n},{default:a(()=>[m(V(n),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])):(s(),_("span",W,V(t.hobbyMap[p.hobby]),1))]),address:a(({index:l,row:p})=>[o.editIndex===l?(s(),k(y,{key:0,type:"text",modelValue:o.editAddress,"onUpdate:modelValue":d[14]||(d[14]=n=>o.editAddress=n),size:"small"},null,8,["modelValue"])):(s(),_("span",X,V(p.address),1))]),action:a(({index:l,row:p})=>[o.editIndex===l?(s(),_("div",Z,[o.editIsCreate?(s(),_(q,{key:0},[e(g,{onClick:n=>t.handleSave(l),size:"mini",type:"success",transparent:""},{default:a(()=>[m(" 新增 ")]),_:2},1032,["onClick"]),e(g,{type:"danger",size:"mini",transparent:"",onClick:n=>t.handleRemove(l)},{default:a(()=>[m(" 删除 ")]),_:2},1032,["onClick"])],64)):(s(),_(q,{key:1},[e(g,{size:"mini",type:"success",transparent:"",onClick:n=>t.handleSave(l)},{default:a(()=>[m(" 保存 ")]),_:2},1032,["onClick"]),e(g,{size:"mini",type:"primary",transparent:"",onClick:d[15]||(d[15]=n=>o.editIndex=-1)},{default:a(()=>[m(" 取消 ")]),_:1})],64))])):(s(),_("div",$,[e(g,{type:o.editIsCreate?"default":"primary",size:"mini",transparent:!o.editIsCreate,onClick:n=>t.handleEdit(p,l),disabled:o.editIsCreate},{default:a(()=>[m(" 操作 ")]),_:2},1032,["type","transparent","onClick","disabled"]),e(g,{type:o.editIsCreate?"default":"danger",size:"mini",transparent:!o.editIsCreate,onClick:n=>t.handleRemove(l),disabled:o.editIsCreate},{default:a(()=>[m(" 删除 ")]),_:2},1032,["type","transparent","onClick","disabled"])]))]),_:1},8,["columns","data"]),U("div",ee,[e(g,{icon:"plus",dashed:"",style:{width:"100%"},onClick:t.handleAdd,disabled:o.editIsCreate},{default:a(()=>[m(" 新增 ")]),_:1},8,["onClick","disabled"])])])]),_:1})]),_:1},8,["model","rules"])]),_:1})}const oe=Y(Q,[["render",ae]]);export{oe as default};
