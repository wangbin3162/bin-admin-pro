import{a8 as B,r as g,p as I,Q as r,o as u,a as b,b as c,K as i,w as d,f as w,F as T,R as F,j as k,t as G,G as y,a9 as L,aa as N}from"./vendor-BdSUmcRD.js";import"./chunk-brace-DkiLfVT0.js";const D=p=>(L("data-v-3ceee36b"),p=p(),N(),p),J={class:"p24"},W={flex:""},j={style:{width:"calc(100% - 600px)"},class:"p10"},q={flex:"cross:center"},z=D(()=>c("span",{class:"mr-5"},"dev模式",-1)),A={__name:"line-path",setup(p){const h=g(null),f=[[100,100],[200,100],[230,200],[250,50],[270,180],[300,60],[330,160],[350,60],[380,100],[480,100]],_=g(!1),s=g([...f]);function C(t){t?s.value=[]:s.value=[...f],y(()=>m())}function P(t){s.value.push(t),y(()=>m())}function S(t){let e=t.width,a=t.height,n=window.devicePixelRatio||1;n!==1&&(t.style.width=e+"px",t.style.height=a+"px",t.height=a*n,t.width=e*n,t.getContext("2d").scale(n,n))}function V(t,e,a,n,o){const l=t.createLinearGradient(e,a,n,o);return l.addColorStop(0,"#9a12b3"),l.addColorStop(1,"#19b5fe"),l}function x(t,e){for(let a=0;a<e.length;a++){const[n,o]=e[a];a===0?t.moveTo(n,o):t.lineTo(n,o)}}function m(){const t=h.value,e=t.getContext("2d"),a=t.width,n=t.height;let o=100;S(t);function l(){e.fillStyle="black",e.fillRect(0,0,a,n),e.lineWidth=3,e.save(),e.beginPath(),x(e,s.value),e.strokeStyle="gray",e.lineJoin="round",e.stroke(),e.beginPath(),e.rect(o,0,150,500),e.clip(),e.beginPath(),x(e,s.value),e.lineWidth=4,e.strokeStyle=V(e,o,0,o+150,0),e.lineCap="round",e.lineJoin="round",e.stroke(),e.restore(),o+=2,o>600&&(o=0),requestAnimationFrame(l)}l()}return I(()=>{m()}),(t,e)=>{const a=r("dev-pos"),n=r("b-switch"),o=r("b-tag"),l=r("b-divider");return u(),b("div",J,[c("div",W,[i(a,{dev:_.value,onDevPos:P},{default:d(()=>[c("canvas",{class:"canvas",ref_key:"domRef",ref:h,width:"600",height:"250"},null,512)]),_:1},8,["dev"]),c("div",j,[c("div",q,[z,i(n,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=v=>_.value=v),size:"small",onChange:C},null,8,["modelValue"]),i(o,{type:"warning",style:{margin:"0 0 0 5px"}},{default:d(()=>[w(" dev模式会清空数据点,点击区域内部进行新增 ")]),_:1})]),i(l),i(o,null,{default:d(()=>[w("点位")]),_:1}),c("div",null,[(u(!0),b(T,null,F(s.value,(v,R)=>(u(),k(o,{type:"primary",key:R,style:{margin:"0 4px 4px 0"}},{default:d(()=>[w(G(v),1)]),_:2},1024))),128))])])])])}}},E=B(A,[["__scopeId","data-v-3ceee36b"]]),Q={__name:"index",setup(p){return(h,f)=>{const _=r("b-collapse-wrap"),s=r("page-wrapper");return u(),k(s,null,{default:d(()=>[i(_,{title:"canvas绘制折线路径动画",shadow:"none",class:"mb-16"},{default:d(()=>[i(E)]),_:1})]),_:1})}}};export{Q as default};
