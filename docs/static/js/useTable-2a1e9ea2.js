var t=(t,e,n)=>new Promise(((a,l)=>{var i=t=>{try{r(n.next(t))}catch(e){l(e)}},u=t=>{try{r(n.throw(t))}catch(e){l(e)}},r=t=>t.done?a(t.value):Promise.resolve(t.value).then(i,u);r((n=n.apply(t,e)).next())}));import{i as e,r as n,t as a}from"./index-f17bcc8b.js";import{f as l,j as i,k as u}from"./vendor-1971077f.js";function r(r,o={},s=!0,c="rows"){const f=l(null),g=l(!1),h=l(0),v=l([]);function p(){return t(this,null,(function*(){if(r){try{d(!0);const t=yield r(o);v.value=c?t[c]:t,h.value=s?t.total||0:t.list.length}catch(t){a("userTable/getListData",t)}d(!1)}}))}function d(t){g.value=t}function y(){var t;null==(t=f.value.value)||t.getBoundingClientRect()}return i((()=>{e(f.value,y)})),u((()=>{n(f.value,y)})),{tableWrapRef:f,loading:g,total:h,list:v,getListData:p,handleSearch:function(){return t(this,null,(function*(){s&&o.page&&(o.page=1),yield p()}))},setLoading:d,pageChange:function(e){return t(this,null,(function*(){o.page=e,yield p()}))},pageSizeChange:function(e){return t(this,null,(function*(){o.page=1,o.size=e,yield p()}))}}}export{r as u};
