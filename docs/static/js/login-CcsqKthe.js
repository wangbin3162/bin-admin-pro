import{a8 as R,r as m,o as f,a as b,b as o,F as E,Q as F,t as v,L as y,K as s,w as a,N as _,f as w,af as T,ag as U,R as i}from"./vendor-COsJffew.js";import{b as j,_ as B,l as C,t as h,S as x}from"./index-DlSIhdb0.js";import"./chunk-brace-DF1jSkZr.js";import"./chunk-bin-ui-design-55yTQV6H.js";const L="/static/png/login-code-14j7X7u4.png",M={class:"page-login"},A={class:"layer area"},D={class:"circles"},I={class:"layer"},O={class:"content",flex:"dir:top main:justify cross:center box:justify"},Q={class:"main",flex:"dir:top main:center cross:center"},W={class:"page-login--logo"},X={class:"pl-8"},Y={class:"form"},$={class:"footer"},G={class:"footer-copyright"},H={__name:"login",setup(J){const t=m({username:"admin",password:"123456",captcha:"v9am"}),d=m(!1),V={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]},k=j(),S=T(),q=U(),g=m(null);function u(){g.value.validate(async r=>{if(r){try{d.value=!0;const e=await C(t.value);await z(e)}catch(e){h("login/requestFailed",e)}d.value=!1}})}async function z(r){if(r.code==="00"){const e=r.data.accessToken;await k.setToken(e),console.log("登录成功",e);const l=q.query.redirect||"/";await S.push({path:l})}else h("login/requestFailed",r)}return(r,e)=>{const l=i("b-icon"),c=i("b-input"),p=i("b-form-item"),K=i("b-button"),N=i("b-form");return f(),b("div",M,[o("div",A,[o("ul",D,[(f(),b(E,null,F(10,n=>o("li",{key:n})),64))])]),o("div",I,[o("div",O,[e[7]||(e[7]=o("div",{class:"header"},[o("p",{class:"header-motto"},"开箱即用的中后台管理系统")],-1)),o("div",Q,[o("div",W,[e[3]||(e[3]=o("img",{src:B,alt:"logo"},null,-1)),o("span",X,v(y(x)),1)]),o("div",Y,[s(N,{ref_key:"loginRef",ref:g,"label-position":"top",rules:V,model:t.value,size:"large"},{default:a(()=>[s(p,{prop:"username"},{default:a(()=>[s(c,{type:"text",modelValue:t.value.username,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.username=n),placeholder:"用户名[admin,wang]",onKeydown:_(u,["enter"])},{prefix:a(()=>[s(l,{name:"user",size:"16"})]),_:1},8,["modelValue"])]),_:1}),s(p,{prop:"password"},{default:a(()=>[s(c,{type:"password",modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.password=n),placeholder:"密码[admin,123456]",onKeydown:_(u,["enter"])},{prefix:a(()=>[s(l,{name:"lock",size:"16"})]),_:1},8,["modelValue"])]),_:1}),s(p,{prop:"captcha"},{default:a(()=>[s(c,{type:"text",modelValue:t.value.captcha,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.captcha=n),placeholder:"- - - -",style:{width:"68%"},onKeydown:_(u,["enter"])},{prefix:a(()=>[s(l,{name:"bulb",size:"16"})]),_:1},8,["modelValue"]),e[4]||(e[4]=o("span",{class:"login-code"},[o("img",{src:L,alt:"code"})],-1))]),_:1}),s(K,{onClick:u,loading:d.value,type:"primary",class:"button-login",size:"large"},{default:a(()=>e[5]||(e[5]=[w(" 登录 ")])),_:1},8,["loading"])]),_:1},8,["model"])])]),o("div",$,[o("p",G,[w(v(y(x))+" 简版后台管理系统 ",1),e[6]||(e[6]=o("a",{href:"https://github.com/wangbin3162/bin-admin-pro",target:"_blank"},"github",-1))])])])])])}}},se=R(H,[["__scopeId","data-v-ea4241c0"]]);export{se as default};
