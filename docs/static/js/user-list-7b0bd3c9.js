import{u as x}from"./useTable-c9c55efa.js";import{g as L}from"./user.api-ccf6af86.js";import{a as w}from"./chunk-bin-ui-next-dcc3f7c4.js";import{a5 as S,A as q,m as M,K as N,E as l,o as b,f as B,w as s,c as t,b as n,a as v,O as D,F as R,t as d,e as r,j as V}from"./vendor-9d1dd954.js";import"./index-5fdfc667.js";import"./chunk-brace-bd816051.js";const I={name:"UserList",setup(){const f=q({page:1,size:10}),c=M([]),{loading:h,list:o,total:C,getListData:k,pageChange:p,pageSizeChange:i}=x(L,f);function u(a){w.success(`\u590D\u5236ID\uFF1A${a}\u6210\u529F\uFF01`)}function m(a,_){c.value[_].roles=a}return N(()=>o.value,a=>{c.value=a.map(_=>({..._,expand:!1}))}),k(),{query:f,roleMap:{admin:"\u7BA1\u7406\u5458",user:"\u666E\u901A\u7528\u6237",op:"\u5B9E\u65BD\u4EBA\u5458"},roleMapStyle:{admin:"purple",user:"blue",op:"volcano"},loading:h,list:o,copyList:c,total:C,pageChange:p,pageSizeChange:i,handleCopy:u,setRole:m}}},U={class:"list-wrap"},E={class:"list-item-meta"},F=["src"],T={class:"list-item-meta-name"},j={class:"list-item-id"},A=r("\u590D\u5236"),K={class:"list-item-email mt-8"},O={class:"list-item-action mt-8",flex:"cross:center"},G={key:0,class:"list-item-action mt-8"},H=r(" \u7BA1\u7406\u5458 "),J=r(" \u666E\u901A\u7528\u6237 "),P=r(" \u5B9E\u65BD\u4EBA\u5458 "),Q={class:"mt-16 t-center"};function W(f,c,h,o,C,k){const p=l("b-skeleton"),i=l("b-divider"),u=l("b-button"),m=l("b-tag"),a=l("action-button"),_=l("b-page"),z=l("page-container");return b(),B(z,{desc:"\u5305\u542B\u4FE1\u606F\u7684\u5217\u8868\uFF0C\u5E26\u6709\u5E38\u89C4\u64CD\u4F5C\u3002\u672C\u9875\u9762\u4E5F\u7528\u4F5C\u793A\u4F8B\uFF0C\u5B9E\u9645\u64CD\u4F5C\u4EE5\u4E1A\u52A1\u9700\u6C42\u81EA\u884C\u7F16\u5199\u3002",bg:""},{default:s(()=>[t(p,{loading:o.loading},{template:s(()=>[t(p,{animation:""}),t(i),t(p,{animation:""}),t(i),t(p,{animation:""}),t(i)]),default:s(()=>[n("ul",U,[(b(!0),v(R,null,D(o.copyList,(e,y)=>(b(),v("li",{key:e.id,class:"user-list-item"},[n("div",E,[n("img",{src:e.avatar,alt:"",class:"avatar"},null,8,F),n("div",T,d(e.realName),1)]),n("div",j,[n("span",null,"ID:"+d(e.id),1),t(u,{size:"mini",icon:"file-copy",onClick:g=>o.handleCopy(e.id)},{default:s(()=>[A]),_:2},1032,["onClick"])]),n("div",K,"\u90AE\u7BB1\u5730\u5740\uFF1A"+d(e.email),1),n("div",O,[t(m,{type:e.verify?"success":"danger"},{default:s(()=>[r(d(e.verify?"\u5DF2\u8BA4\u8BC1":"\u672A\u8BA4\u8BC1"),1)]),_:2},1032,["type"]),t(m,{type:o.roleMapStyle[e.roles]},{default:s(()=>[r(d(o.roleMap[e.roles]),1)]),_:2},1032,["type"]),t(u,{icon:e.expand?"minus-square":"plus-square",size:"small",style:{"margin-left":"16px"},onClick:g=>e.expand=!e.expand},{default:s(()=>[r(d(e.expand?"\u6536\u8D77\u64CD\u4F5C":"\u5C55\u5F00\u64CD\u4F5C"),1)]),_:2},1032,["icon","onClick"])]),e.expand?(b(),v("div",G,[t(a,{"button-props":{type:e.roles!=="admin"?"primary":null,size:"mini",disabled:e.roles==="admin"},onClick:g=>o.setRole("admin",y),message:"\u8BBE\u7F6E\u89D2\u8272\u4E3A\u7BA1\u7406\u5458\u5417\uFF1F",confirm:""},{default:s(()=>[H]),_:2},1032,["button-props","onClick"]),t(i,{type:"vertical"}),t(a,{"button-props":{type:e.roles!=="user"?"primary":null,size:"mini",disabled:e.roles==="user"},onClick:g=>o.setRole("user",y),message:"\u8BBE\u7F6E\u89D2\u8272\u4E3A\u666E\u901A\u7528\u6237\u5417\uFF1F",confirm:""},{default:s(()=>[J]),_:2},1032,["button-props","onClick"]),t(i,{type:"vertical"}),t(a,{"button-props":{type:e.roles!=="op"?"primary":null,size:"mini",disabled:e.roles==="op"},onClick:g=>o.setRole("op",y),message:"\u8BBE\u7F6E\u89D2\u8272\u4E3A\u5B9E\u65BD\u4EBA\u5458\u5417\uFF1F",confirm:""},{default:s(()=>[P]),_:2},1032,["button-props","onClick"])])):V("",!0)]))),128))])]),_:1},8,["loading"]),n("div",Q,[t(_,{total:o.total,current:o.query.page,"onUpdate:current":c[0]||(c[0]=e=>o.query.page=e),"page-size":o.query.size,"show-elevator":"","show-sizer":"","show-total":"",onChange:o.pageChange,onSizeChange:o.pageSizeChange},null,8,["total","current","page-size","onChange","onSizeChange"])])]),_:1})}const te=S(I,[["render",W],["__scopeId","data-v-38ebba41"]]);export{te as default};
