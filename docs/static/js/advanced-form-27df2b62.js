import{a as D}from"./chunk-bin-ui-next-83af0efb.js";import{ac as Y,e as q,G as E,I as j,f as i,g as s,v as k,x as a,c as e,q as m,l as U,j as _,u as V,P as x,F as z,ag as G}from"./vendor-9da45e5c.js";import"./chunk-brace-6f23dcf5.js";const L={name:"AdvancedForm",setup(){const o=q(null),d=q({name:"",sex:"male",mail:"",birthday:"",taskName:"",taskDesc:"",taskDate:"",duty:"",execute:"",level:""}),f=q([{name:"\u738B\u5C0F\u660E",age:18,birthday:"1990-04-22",hobby:"1",address:"\u5317\u4EAC\u5E02\u671D\u9633\u533A\u828D\u836F\u5C45"},{name:"\u5F20\u5C0F\u521A",age:25,birthday:"1990-11-11",hobby:"1",address:"\u5317\u4EAC\u5E02\u6D77\u6DC0\u533A\u897F\u4E8C\u65D7"},{name:"\u674E\u5C0F\u7EA2",age:30,birthday:"1985-02-05",hobby:"3",address:"\u4E0A\u6D77\u5E02\u6D66\u4E1C\u65B0\u533A\u4E16\u7EAA\u5927\u9053"},{name:"\u5468\u5C0F\u4F1F",age:26,birthday:"1993-07-11",hobby:"1",address:"\u6DF1\u5733\u5E02\u5357\u5C71\u533A\u6DF1\u5357\u5927\u9053"},{name:"\u5F20\u5C0F\u53D1",age:33,birthday:"1999-12-12",hobby:"2",address:"\u5357\u4EAC\u5E02\u9F99\u7720\u5927\u9053"}]),t=E({editName:"",editAge:"",editBirthday:"",editHobby:"",editAddress:"",editIndex:-1,editIsCreate:!1});function N(r,c){t.editName=r.name,t.editAge=r.age,t.editHobby=r.hobby,t.editAddress=r.address,t.editBirthday=r.birthday,t.editIndex=c}function B(r){const{editName:c,editAge:v,editBirthday:C,editHobby:I,editAddress:A}=t;if(c===""||!v||C===""||I===""||A===""){D.error("\u8BF7\u586B\u5199\u5B8C\u6574\u7684\u4FE1\u606F\uFF01");return}f.value[r].name=t.editName,f.value[r].age=t.editAge,f.value[r].birthday=G(t.editBirthday).format("YYYY-MM-DD"),f.value[r].hobby=t.editHobby,f.value[r].address=t.editAddress,t.editIndex=-1,t.editIsCreate=!1}function y(){const r={name:"",age:null,birthday:"",hobby:"",address:""};f.value.push(r),N(r,f.value.length-1),t.editIsCreate=!0}function u(r){f.value.splice(r,1),t.editIsCreate=!1}function b(){o.value.validate(r=>{if(r)D.success("success submit!!");else return D.error("error submit!!"),!1})}function h(){o.value.resetFields()}return{formRef:o,form:d,ruleValidate:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],sex:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B",trigger:"change"}],mail:[{required:!0,type:"email",message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",trigger:"blur"}],birthday:[{required:!0,type:"date",message:"\u8BF7\u9009\u62E9\u51FA\u751F\u65E5\u671F",trigger:"change"}],taskName:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",trigger:"blur"}],taskDesc:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u63CF\u8FF0",trigger:"blur"}],taskDate:[{required:!0,type:"date",message:"\u8BF7\u9009\u62E9\u4EFB\u52A1\u65E5\u671F",trigger:"change"}],duty:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D23\u4EFB\u4EBA",trigger:"blur"}],execute:[{required:!0,message:"\u8BF7\u8F93\u5165\u6267\u884C\u4EBA",trigger:"blur"}],level:[{required:!0,message:"\u52FE\u9009\u4EFB\u52A1\u7D27\u6025\u7A0B\u5EA6",trigger:"change"}]},columns:[{title:"\u59D3\u540D",slot:"name"},{title:"\u5E74\u9F84",slot:"age"},{title:"\u51FA\u751F\u65E5\u671F",slot:"birthday"},{title:"\u7231\u597D",slot:"hobby"},{title:"\u5730\u5740",slot:"address"},{title:"\u64CD\u4F5C",slot:"action"}],hobbyMap:{1:"\u5403\u996D",2:"\u7761\u89C9",3:"\u6253\u8C46\u8C46"},list:f,...j(t),submitForm:b,resetForm:h,handleSave:B,handleEdit:N,handleAdd:y,handleRemove:u}}},P={style:{padding:"10px 24px"}},T={style:{padding:"10px 24px"}},J={style:{padding:"16px"}},K={key:1},O={key:1},Q={key:1},W={key:1},X={key:1},Z={key:0},$={key:1},ee={class:"mt-8"};function ae(o,d,f,t,N,B){const y=i("b-input"),u=i("b-form-item"),b=i("b-col"),h=i("b-option"),r=i("b-select"),c=i("b-date-picker"),v=i("b-row"),C=i("b-collapse-wrap"),I=i("b-tag"),A=i("b-radio"),w=i("b-radio-group"),H=i("b-input-number"),g=i("b-button"),M=i("b-table"),R=i("b-form"),S=i("page-wrapper");return s(),k(S,{desc:"\u5F53\u4E00\u6B21\u6027\u63D0\u4EA4\u5927\u91CF\u6570\u636E\u65F6\uFF0C\u53EF\u4F7F\u7528\u9AD8\u7EA7\u8868\u5355\u3002"},{rightFooter:a(()=>[e(g,{onClick:t.resetForm},{default:a(()=>[m("\u91CD \u7F6E")]),_:1},8,["onClick"]),e(g,{type:"primary",onClick:t.submitForm},{default:a(()=>[m("\u63D0 \u4EA4")]),_:1},8,["onClick"])]),default:a(()=>[e(R,{model:t.form,rules:t.ruleValidate,"status-icon":"","label-width":"85px",ref:"formRef","label-position":"top"},{default:a(()=>[e(C,{title:"\u57FA\u672C\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",P,[e(v,{gutter:24},{default:a(()=>[e(b,{span:"6"},{default:a(()=>[e(u,{prop:"name",label:"\u59D3\u540D"},{default:a(()=>[e(y,{modelValue:t.form.name,"onUpdate:modelValue":d[0]||(d[0]=l=>t.form.name=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{label:"\u6027\u522B",prop:"sex"},{default:a(()=>[e(r,{modelValue:t.form.sex,"onUpdate:modelValue":d[1]||(d[1]=l=>t.form.sex=l),placeholder:"\u8BF7\u9009\u62E9\u6237\u7C4D\u5730"},{default:a(()=>[e(h,{label:"\u7537",value:"male"}),e(h,{label:"\u5973",value:"female"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{prop:"mail",label:"\u90AE\u7BB1"},{default:a(()=>[e(y,{modelValue:t.form.mail,"onUpdate:modelValue":d[2]||(d[2]=l=>t.form.mail=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{label:"\u51FA\u751F\u65E5\u671F",prop:"birthday"},{default:a(()=>[e(c,{modelValue:t.form.birthday,"onUpdate:modelValue":d[3]||(d[3]=l=>t.form.birthday=l),type:"date",placeholder:"\u51FA\u751F\u65E5\u671F"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{title:"\u4EFB\u52A1\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",T,[e(v,{gutter:32},{default:a(()=>[e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskName",label:"\u4EFB\u52A1\u540D\u79F0"},{default:a(()=>[e(y,{modelValue:t.form.taskName,"onUpdate:modelValue":d[4]||(d[4]=l=>t.form.taskName=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskDesc",label:"\u4EFB\u52A1\u63CF\u8FF0"},{default:a(()=>[e(y,{modelValue:t.form.taskDesc,"onUpdate:modelValue":d[5]||(d[5]=l=>t.form.taskDesc=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskDate",label:"\u521B\u5EFA\u65E5\u671F"},{default:a(()=>[e(c,{modelValue:t.form.taskDate,"onUpdate:modelValue":d[6]||(d[6]=l=>t.form.taskDate=l),type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{gutter:30},{default:a(()=>[e(b,{span:"8"},{default:a(()=>[e(u,{prop:"duty",label:"\u8D23\u4EFB\u4EBA"},{default:a(()=>[e(y,{modelValue:t.form.duty,"onUpdate:modelValue":d[7]||(d[7]=l=>t.form.duty=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"execute",label:"\u6267\u884C\u4EBA"},{default:a(()=>[e(y,{modelValue:t.form.execute,"onUpdate:modelValue":d[8]||(d[8]=l=>t.form.execute=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"level",label:"\u7D27\u6025\u7A0B\u5EA6"},{default:a(()=>[e(w,{modelValue:t.form.level,"onUpdate:modelValue":d[9]||(d[9]=l=>t.form.level=l)},{default:a(()=>[e(A,{label:"0"},{default:a(()=>[e(I,{type:"danger"},{default:a(()=>[m("\u7D27\u6025")]),_:1})]),_:1}),e(A,{label:"1"},{default:a(()=>[e(I,{type:"blue"},{default:a(()=>[m("\u6025")]),_:1})]),_:1}),e(A,{label:"2"},{default:a(()=>[e(I,{type:"success"},{default:a(()=>[m("\u4E00\u822C")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{title:"\u4EBA\u5458\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",J,[e(M,{columns:t.columns,data:t.list},{name:a(({index:l,row:p})=>[o.editIndex===l?(s(),k(y,{key:0,type:"text",modelValue:o.editName,"onUpdate:modelValue":d[10]||(d[10]=n=>o.editName=n),size:"small",clearable:""},null,8,["modelValue"])):(s(),_("span",K,V(p.name),1))]),age:a(({index:l,row:p})=>[o.editIndex===l?(s(),k(H,{key:0,type:"text",modelValue:o.editAge,"onUpdate:modelValue":d[11]||(d[11]=n=>o.editAge=n),size:"small"},null,8,["modelValue"])):(s(),_("span",O,V(p.age),1))]),birthday:a(({index:l,row:p})=>[o.editIndex===l?(s(),k(c,{key:0,size:"small",modelValue:o.editBirthday,"onUpdate:modelValue":d[12]||(d[12]=n=>o.editBirthday=n),type:"date",placeholder:"\u9009\u62E9\u65E5\u671F"},null,8,["modelValue"])):(s(),_("span",Q,V(p.birthday),1))]),hobby:a(({index:l,row:p})=>[o.editIndex===l?(s(),k(r,{key:0,modelValue:o.editHobby,"onUpdate:modelValue":d[13]||(d[13]=n=>o.editHobby=n),clearable:"",size:"small"},{default:a(()=>[(s(!0),_(z,null,x(t.hobbyMap,(n,F)=>(s(),k(h,{key:F,value:F,label:n},{default:a(()=>[m(V(n),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])):(s(),_("span",W,V(t.hobbyMap[p.hobby]),1))]),address:a(({index:l,row:p})=>[o.editIndex===l?(s(),k(y,{key:0,type:"text",modelValue:o.editAddress,"onUpdate:modelValue":d[14]||(d[14]=n=>o.editAddress=n),size:"small"},null,8,["modelValue"])):(s(),_("span",X,V(p.address),1))]),action:a(({index:l,row:p})=>[o.editIndex===l?(s(),_("div",Z,[o.editIsCreate?(s(),_(z,{key:0},[e(g,{onClick:n=>t.handleSave(l),size:"mini",type:"success",transparent:""},{default:a(()=>[m(" \u65B0\u589E ")]),_:2},1032,["onClick"]),e(g,{type:"danger",size:"mini",transparent:"",onClick:n=>t.handleRemove(l)},{default:a(()=>[m(" \u5220\u9664 ")]),_:2},1032,["onClick"])],64)):(s(),_(z,{key:1},[e(g,{size:"mini",type:"success",transparent:"",onClick:n=>t.handleSave(l)},{default:a(()=>[m(" \u4FDD\u5B58 ")]),_:2},1032,["onClick"]),e(g,{size:"mini",type:"primary",transparent:"",onClick:d[15]||(d[15]=n=>o.editIndex=-1)},{default:a(()=>[m(" \u53D6\u6D88 ")]),_:1})],64))])):(s(),_("div",$,[e(g,{type:o.editIsCreate?"default":"primary",size:"mini",transparent:!o.editIsCreate,onClick:n=>t.handleEdit(p,l),disabled:o.editIsCreate},{default:a(()=>[m(" \u64CD\u4F5C ")]),_:2},1032,["type","transparent","onClick","disabled"]),e(g,{type:o.editIsCreate?"default":"danger",size:"mini",transparent:!o.editIsCreate,onClick:n=>t.handleRemove(l),disabled:o.editIsCreate},{default:a(()=>[m(" \u5220\u9664 ")]),_:2},1032,["type","transparent","onClick","disabled"])]))]),_:1},8,["columns","data"]),U("div",ee,[e(g,{icon:"plus",dashed:"",style:{width:"100%"},onClick:t.handleAdd,disabled:o.editIsCreate},{default:a(()=>[m(" \u65B0\u589E ")]),_:1},8,["onClick","disabled"])])])]),_:1})]),_:1},8,["model","rules"])]),_:1})}const oe=Y(L,[["render",ae]]);export{oe as default};
