import{m as w,r as z,t as L}from"./index-1d0d7df3.js";import{f as o,j as b,k as y}from"./vendor-b86c3d35.js";function C(l,t={},r=!0,c="rows"){const a=o(null),f=o(!1),u=o(0),i=o([]);async function n(){if(!!l){try{s(!0);const e=await l(t);i.value=c?e[c]:e,u.value=r?e.total||0:e.list.length}catch(e){L("userTable/getListData",e)}s(!1)}}async function g(){r&&t.page&&(t.page=1),await n()}function s(e){f.value=e}async function v(e){t.page=e,await n()}async function p(e){t.page=1,t.size=e,await n()}function d(){var e;(e=a.value.value)==null||e.getBoundingClientRect()}function h(){u.value=0,i.value=[]}return b(()=>{w(a.value,d)}),y(()=>{z(a.value,d)}),{tableWrapRef:a,loading:f,total:u,list:i,getListData:n,handleSearch:g,setLoading:s,pageChange:v,pageSizeChange:p,closePage:h}}export{C as u};
