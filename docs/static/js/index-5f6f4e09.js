import{G as H,e as v,ad as I,H as O,f as a,g as y,j as W,y as A,z as F,c as e,x as t,a2 as c,q as b,v as J,t as K,n as Q}from"./vendor-a6c5ad11.js";import{u as X}from"./useTable-9ec91d39.js";import{e as Y,l as Z,p as ee,h as te,g as ne}from"./cross-tab-msg-f4d40e3f.js";import{a as C}from"./chunk-bin-ui-next-1e71edb3.js";import{_ as ae}from"./index-ffc9ef89.js";import"./chunk-brace-6f23dcf5.js";import"./index-fda68aa4.js";import"./chunk-mockjs-c013c588.js";const me=Object.assign({name:"ExcelList"},{__name:"index",setup(oe){const i=H({page:1,size:10,name:"",isPublish:""}),h=v(null),r=v(!1),p=I(),x=[{title:"\u5E8F\u53F7",width:70,align:"center",type:"index"},{title:"\u8868\u5355\u540D\u79F0",key:"name"},{title:"\u4E0A\u62A5\u6570\u91CF",key:"reportCount"},{title:"\u8BB0\u5F55\u4E2A\u6570",key:"records"},{title:"\u53D1\u5E03",width:100,align:"center",slot:"isPublish"},{title:"\u64CD\u4F5C",width:200,align:"center",slot:"action"}],{loading:g,list:w,total:D,handleSearch:d,getListData:m,pageChange:T}=X(Y,i);d();function q(){i.name="",d()}function z(){let n=p.resolve({path:"/excel-edit",query:{}});window.open(n.href,"_blank")}function V({id:n}){let l=p.resolve({path:"/excel-edit",query:{id:n}});window.open(l.href,"_blank")}function $({id:n}){ee(n).then(()=>{C.success("\u53D1\u5E03\u6210\u529F\uFF01"),m()})}function P({id:n}){te(n).then(()=>{C.success("\u5220\u9664\u6210\u529F\uFF01"),m()})}async function B({id:n}){const l=await ne(n);r.value=!0,await Q(),h.value.open(l)}function E(){r.value=!1}function L({id:n}){let l=p.resolve({path:"/data-edit",query:{tempId:n}});window.open(l.href,"_blank")}const R=Z(m);return O(R),(n,l)=>{const N=a("b-input"),k=a("b-form-item"),_=a("b-button"),S=a("b-form"),s=a("action-button"),f=a("b-divider"),j=a("b-table"),M=a("b-page"),U=a("base-table"),G=a("page-wrapper");return y(),W("div",null,[A(e(G,null,{default:t(()=>[e(U,null,{filter:t(()=>[e(S,{"label-width":"95px"},{default:t(()=>[e(k,{label:"\u8868\u5355\u540D\u79F0"},{default:t(()=>[e(N,{modelValue:i.name,"onUpdate:modelValue":l[0]||(l[0]=o=>i.name=o),clearable:""},null,8,["modelValue"])]),_:1}),e(k,{"label-width":"16px"},{default:t(()=>[e(_,{type:"primary",loading:c(g),onClick:c(d)},{default:t(()=>[b("\u67E5\u8BE2")]),_:1},8,["loading","onClick"]),e(_,{onClick:q},{default:t(()=>[b("\u91CD\u7F6E")]),_:1})]),_:1})]),_:1})]),action:t(()=>[e(_,{type:"primary",icon:"plus",onClick:z},{default:t(()=>[b("\u65B0\u589E")]),_:1})]),page:t(()=>[e(M,{total:c(D),current:i.page,"page-size":i.size,"show-total":"",onChange:c(T)},null,8,["total","current","page-size","onChange"])]),default:t(()=>[e(j,{columns:x,data:c(w),loading:c(g),size:"small"},{isPublish:t(({row:o})=>[e(s,{type:"text",icon:"play-circle",color:"success","is-icon":"",tooltip:"\u53D1\u5E03",message:"\u786E\u5B9A\u53D1\u5E03\u5F53\u524D\u62A5\u8868\u4E48?",confirm:"",disabled:o.isPublish==="1",onClick:u=>$(o)},null,8,["disabled","onClick"])]),action:t(({row:o})=>[e(s,{type:"text",icon:"edit-square","is-icon":"",tooltip:"\u7F16\u8F91",onClick:u=>V(o)},null,8,["onClick"]),e(f,{type:"vertical"}),e(s,{type:"text",icon:"file-add",color:"#fa8c16","is-icon":"",tooltip:"\u6570\u636E\u586B\u62A5",onClick:u=>L(o)},null,8,["onClick"]),e(f,{type:"vertical"}),e(s,{type:"text",icon:"filesearch",color:"#13c2c2","is-icon":"",tooltip:"\u67E5\u770B\u6570\u636E",onClick:u=>B(o)},null,8,["onClick"]),e(f,{type:"vertical"}),e(s,{type:"text",icon:"delete",color:"danger","is-icon":"",tooltip:"\u5220\u9664",confirm:"",onClick:u=>P(o)},null,8,["onClick"])]),_:1},8,["data","loading"])]),_:1})]),_:1},512),[[F,!r.value]]),r.value?(y(),J(ae,{key:0,ref_key:"dataTableRef",ref:h,onClose:E},null,512)):K("",!0)])}}});export{me as default};
