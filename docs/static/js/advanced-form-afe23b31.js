import{a as N}from"./chunk-bin-ui-next-dcc3f7c4.js";import{a5 as S,m as z,A as Y,D as j,E as i,o as r,f as h,w as a,ab as L,c as e,b as U,a as y,t as k,O,F as q,e as m}from"./vendor-9d1dd954.js";import"./chunk-brace-bd816051.js";const T={name:"AdvancedForm",setup(){const o=z(null),d=z({name:"",sex:"male",mail:"",birthday:"",taskName:"",taskDesc:"",taskDate:"",duty:"",execute:"",level:""}),f=z([{name:"\u738B\u5C0F\u660E",age:18,birthday:"1990-04-22",hobby:"1",address:"\u5317\u4EAC\u5E02\u671D\u9633\u533A\u828D\u836F\u5C45"},{name:"\u5F20\u5C0F\u521A",age:25,birthday:"1990-11-11",hobby:"1",address:"\u5317\u4EAC\u5E02\u6D77\u6DC0\u533A\u897F\u4E8C\u65D7"},{name:"\u674E\u5C0F\u7EA2",age:30,birthday:"1985-02-05",hobby:"3",address:"\u4E0A\u6D77\u5E02\u6D66\u4E1C\u65B0\u533A\u4E16\u7EAA\u5927\u9053"},{name:"\u5468\u5C0F\u4F1F",age:26,birthday:"1993-07-11",hobby:"1",address:"\u6DF1\u5733\u5E02\u5357\u5C71\u533A\u6DF1\u5357\u5927\u9053"},{name:"\u5F20\u5C0F\u53D1",age:33,birthday:"1999-12-12",hobby:"2",address:"\u5357\u4EAC\u5E02\u9F99\u7720\u5927\u9053"}]),t=Y({editName:"",editAge:"",editBirthday:"",editHobby:"",editAddress:"",editIndex:-1,editIsCreate:!1});function D(n,g){t.editName=n.name,t.editAge=n.age,t.editHobby=n.hobby,t.editAddress=n.address,t.editBirthday=n.birthday,t.editIndex=g}function B(n){const{editName:g,editAge:v,editBirthday:C,editHobby:I,editAddress:A}=t;if(g===""||!v||C===""||I===""||A===""){N.error("\u8BF7\u586B\u5199\u5B8C\u6574\u7684\u4FE1\u606F\uFF01");return}f.value[n].name=t.editName,f.value[n].age=t.editAge,f.value[n].birthday=L(t.editBirthday).format("YYYY-MM-DD"),f.value[n].hobby=t.editHobby,f.value[n].address=t.editAddress,t.editIndex=-1,t.editIsCreate=!1}function _(){const n={name:"",age:null,birthday:"",hobby:"",address:""};f.value.push(n),D(n,f.value.length-1),t.editIsCreate=!0}function u(n){f.value.splice(n,1),t.editIsCreate=!1}function b(){o.value.validate(n=>{if(n)N.success("success submit!!");else return N.error("error submit!!"),!1})}function V(){o.value.resetFields()}return{formRef:o,form:d,ruleValidate:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],sex:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B",trigger:"change"}],mail:[{required:!0,type:"email",message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",trigger:"blur"}],birthday:[{required:!0,type:"date",message:"\u8BF7\u9009\u62E9\u51FA\u751F\u65E5\u671F",trigger:"change"}],taskName:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",trigger:"blur"}],taskDesc:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u63CF\u8FF0",trigger:"blur"}],taskDate:[{required:!0,type:"date",message:"\u8BF7\u9009\u62E9\u4EFB\u52A1\u65E5\u671F",trigger:"change"}],duty:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D23\u4EFB\u4EBA",trigger:"blur"}],execute:[{required:!0,message:"\u8BF7\u8F93\u5165\u6267\u884C\u4EBA",trigger:"blur"}],level:[{required:!0,message:"\u52FE\u9009\u4EFB\u52A1\u7D27\u6025\u7A0B\u5EA6",trigger:"change"}]},columns:[{title:"\u59D3\u540D",slot:"name"},{title:"\u5E74\u9F84",slot:"age"},{title:"\u51FA\u751F\u65E5\u671F",slot:"birthday"},{title:"\u7231\u597D",slot:"hobby"},{title:"\u5730\u5740",slot:"address"},{title:"\u64CD\u4F5C",slot:"action"}],hobbyMap:{1:"\u5403\u996D",2:"\u7761\u89C9",3:"\u6253\u8C46\u8C46"},list:f,...j(t),submitForm:b,resetForm:V,handleSave:B,handleEdit:D,handleAdd:_,handleRemove:u}}},x={style:{padding:"10px 24px"}},G={style:{padding:"10px 24px"}},J=m("\u7D27\u6025"),K=m("\u6025"),P=m("\u4E00\u822C"),Q={style:{padding:"16px"}},W={key:1},X={key:1},Z={key:1},$={key:1},ee={key:1},ae={key:0},te=m("\u65B0\u589E"),le=m("\u5220\u9664"),de=m("\u4FDD\u5B58"),oe=m("\u53D6\u6D88"),ne={key:1},se=m(" \u64CD\u4F5C "),re=m(" \u5220\u9664 "),ie={class:"mt-8"},me=m("\u65B0\u589E"),ue=m("\u91CD \u7F6E"),be=m("\u63D0 \u4EA4");function pe(o,d,f,t,D,B){const _=i("b-input"),u=i("b-form-item"),b=i("b-col"),V=i("b-option"),n=i("b-select"),g=i("b-date-picker"),v=i("b-row"),C=i("b-collapse-wrap"),I=i("b-tag"),A=i("b-radio"),w=i("b-radio-group"),H=i("b-input-number"),c=i("b-button"),M=i("b-table"),R=i("b-form"),E=i("page-container");return r(),h(E,{desc:"\u5F53\u4E00\u6B21\u6027\u63D0\u4EA4\u5927\u91CF\u6570\u636E\u65F6\uFF0C\u53EF\u4F7F\u7528\u9AD8\u7EA7\u8868\u5355\u3002"},{rightFooter:a(()=>[e(c,{onClick:t.resetForm},{default:a(()=>[ue]),_:1},8,["onClick"]),e(c,{type:"primary",onClick:t.submitForm},{default:a(()=>[be]),_:1},8,["onClick"])]),default:a(()=>[e(R,{model:t.form,rules:t.ruleValidate,"status-icon":"","label-width":"85px",ref:"formRef","label-position":"top"},{default:a(()=>[e(C,{title:"\u57FA\u672C\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",x,[e(v,{gutter:24},{default:a(()=>[e(b,{span:"6"},{default:a(()=>[e(u,{prop:"name",label:"\u59D3\u540D"},{default:a(()=>[e(_,{modelValue:t.form.name,"onUpdate:modelValue":d[0]||(d[0]=l=>t.form.name=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{label:"\u6027\u522B",prop:"sex"},{default:a(()=>[e(n,{modelValue:t.form.sex,"onUpdate:modelValue":d[1]||(d[1]=l=>t.form.sex=l),placeholder:"\u8BF7\u9009\u62E9\u6237\u7C4D\u5730"},{default:a(()=>[e(V,{label:"\u7537",value:"male"}),e(V,{label:"\u5973",value:"female"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{prop:"mail",label:"\u90AE\u7BB1"},{default:a(()=>[e(_,{modelValue:t.form.mail,"onUpdate:modelValue":d[2]||(d[2]=l=>t.form.mail=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{label:"\u51FA\u751F\u65E5\u671F",prop:"birthday"},{default:a(()=>[e(g,{modelValue:t.form.birthday,"onUpdate:modelValue":d[3]||(d[3]=l=>t.form.birthday=l),type:"date",placeholder:"\u51FA\u751F\u65E5\u671F"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{title:"\u4EFB\u52A1\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",G,[e(v,{gutter:32},{default:a(()=>[e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskName",label:"\u4EFB\u52A1\u540D\u79F0"},{default:a(()=>[e(_,{modelValue:t.form.taskName,"onUpdate:modelValue":d[4]||(d[4]=l=>t.form.taskName=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskDesc",label:"\u4EFB\u52A1\u63CF\u8FF0"},{default:a(()=>[e(_,{modelValue:t.form.taskDesc,"onUpdate:modelValue":d[5]||(d[5]=l=>t.form.taskDesc=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskDate",label:"\u521B\u5EFA\u65E5\u671F"},{default:a(()=>[e(g,{modelValue:t.form.taskDate,"onUpdate:modelValue":d[6]||(d[6]=l=>t.form.taskDate=l),type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{gutter:30},{default:a(()=>[e(b,{span:"8"},{default:a(()=>[e(u,{prop:"duty",label:"\u8D23\u4EFB\u4EBA"},{default:a(()=>[e(_,{modelValue:t.form.duty,"onUpdate:modelValue":d[7]||(d[7]=l=>t.form.duty=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"execute",label:"\u6267\u884C\u4EBA"},{default:a(()=>[e(_,{modelValue:t.form.execute,"onUpdate:modelValue":d[8]||(d[8]=l=>t.form.execute=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"level",label:"\u7D27\u6025\u7A0B\u5EA6"},{default:a(()=>[e(w,{modelValue:t.form.level,"onUpdate:modelValue":d[9]||(d[9]=l=>t.form.level=l)},{default:a(()=>[e(A,{label:"0"},{default:a(()=>[e(I,{type:"danger"},{default:a(()=>[J]),_:1})]),_:1}),e(A,{label:"1"},{default:a(()=>[e(I,{type:"blue"},{default:a(()=>[K]),_:1})]),_:1}),e(A,{label:"2"},{default:a(()=>[e(I,{type:"success"},{default:a(()=>[P]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{title:"\u4EBA\u5458\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",Q,[e(M,{columns:t.columns,data:t.list},{name:a(({index:l,row:p})=>[o.editIndex===l?(r(),h(_,{key:0,type:"text",modelValue:o.editName,"onUpdate:modelValue":d[10]||(d[10]=s=>o.editName=s),size:"small",clearable:""},null,8,["modelValue"])):(r(),y("span",W,k(p.name),1))]),age:a(({index:l,row:p})=>[o.editIndex===l?(r(),h(H,{key:0,type:"text",modelValue:o.editAge,"onUpdate:modelValue":d[11]||(d[11]=s=>o.editAge=s),size:"small"},null,8,["modelValue"])):(r(),y("span",X,k(p.age),1))]),birthday:a(({index:l,row:p})=>[o.editIndex===l?(r(),h(g,{key:0,size:"small",modelValue:o.editBirthday,"onUpdate:modelValue":d[12]||(d[12]=s=>o.editBirthday=s),type:"date",placeholder:"\u9009\u62E9\u65E5\u671F"},null,8,["modelValue"])):(r(),y("span",Z,k(p.birthday),1))]),hobby:a(({index:l,row:p})=>[o.editIndex===l?(r(),h(n,{key:0,modelValue:o.editHobby,"onUpdate:modelValue":d[13]||(d[13]=s=>o.editHobby=s),clearable:"",size:"small"},{default:a(()=>[(r(!0),y(q,null,O(t.hobbyMap,(s,F)=>(r(),h(V,{key:F,value:F,label:s},{default:a(()=>[m(k(s),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])):(r(),y("span",$,k(t.hobbyMap[p.hobby]),1))]),address:a(({index:l,row:p})=>[o.editIndex===l?(r(),h(_,{key:0,type:"text",modelValue:o.editAddress,"onUpdate:modelValue":d[14]||(d[14]=s=>o.editAddress=s),size:"small"},null,8,["modelValue"])):(r(),y("span",ee,k(p.address),1))]),action:a(({index:l,row:p})=>[o.editIndex===l?(r(),y("div",ae,[o.editIsCreate?(r(),y(q,{key:0},[e(c,{onClick:s=>t.handleSave(l),size:"mini",type:"success",transparent:""},{default:a(()=>[te]),_:2},1032,["onClick"]),e(c,{type:"danger",size:"mini",transparent:"",onClick:s=>t.handleRemove(l)},{default:a(()=>[le]),_:2},1032,["onClick"])],64)):(r(),y(q,{key:1},[e(c,{size:"mini",type:"success",transparent:"",onClick:s=>t.handleSave(l)},{default:a(()=>[de]),_:2},1032,["onClick"]),e(c,{size:"mini",type:"primary",transparent:"",onClick:d[15]||(d[15]=s=>o.editIndex=-1)},{default:a(()=>[oe]),_:1})],64))])):(r(),y("div",ne,[e(c,{type:o.editIsCreate?"default":"primary",size:"mini",transparent:!o.editIsCreate,onClick:s=>t.handleEdit(p,l),disabled:o.editIsCreate},{default:a(()=>[se]),_:2},1032,["type","transparent","onClick","disabled"]),e(c,{type:o.editIsCreate?"default":"danger",size:"mini",transparent:!o.editIsCreate,onClick:s=>t.handleRemove(l),disabled:o.editIsCreate},{default:a(()=>[re]),_:2},1032,["type","transparent","onClick","disabled"])]))]),_:1},8,["columns","data"]),U("div",ie,[e(c,{icon:"plus",dashed:"",style:{width:"100%"},onClick:t.handleAdd,disabled:o.editIsCreate},{default:a(()=>[me]),_:1},8,["onClick","disabled"])])])]),_:1})]),_:1},8,["model","rules"])]),_:1})}const ce=S(T,[["render",pe]]);export{ce as default};
