import{aI as S,o as d,a as _,b as p,F as h,R,I as f,L as r,K as i,aN as x,aO as B,aZ as T,a_ as z,f as P,t as A,r as m,W as G,j as k,w as g,aQ as U,H as M,aT as w,a8 as O,m as W,Q as C,a9 as H,aa as K,l as j,aK as E,aL as I,aM as Q,h as J,aJ as F,aP as L,Y as X,aB as D,p as Z,i as $}from"./vendor-yvfxTJov.js";import"./chunk-brace-DkiLfVT0.js";const N={sumi:"#1C1C1C",gofun:"#FFFFFB",byakuroku:"#A8D8B9",mizu:"#81C7D4",asagi:"#33A6B8",ukon:"#EFBB24",mushikuri:"#D9CD90",hiwa:"#BEC23F",ichigo:"#B5495B",kurenai:"#CB1B45",syojyohi:"#E83015",konjyo:"#113285",fuji:"#8B81C3",ayame:"#6F3381",torinoko:"#DAC9A6",kurotsurubami:"#0B1013",ohni:"#F05E1C",kokikuchinashi:"#FB9966",beniukon:"#E98B2A",sakura:"#FEDFE1",toki:"#EEA9A9"},ee=Object.keys(N).map(e=>({name:e,value:N[e]})),te=p("div",null,"Select a color",-1),oe={class:"color-selector nodrag nopan"},ae=["title","onClick"],ne={__name:"ColorSelectorNode",props:{id:{type:String,required:!0}},setup(e){const o=e,{updateNodeData:n}=S();function l(t){n(o.id,{color:t,isGradient:!1})}function s(){n(o.id,{isGradient:!0})}return(t,c)=>(d(),_(h,null,[te,p("div",oe,[(d(!0),_(h,null,R(r(ee),({name:a,value:y})=>(d(),_("button",{key:a,title:a,style:f({backgroundColor:y}),type:"button",onClick:u=>l(y)},null,12,ae))),128)),p("button",{class:"animated-bg-gradient",title:"gradient",type:"button",onClick:s})]),i(r(B),{id:"a",type:"source",position:r(x).Right},null,8,["position"])],64))}},se={__name:"OutputNode",setup(e){const o=T({type:"target"}),n=z(()=>{var l;return(l=o.value[0])==null?void 0:l.source});return(l,s)=>{var t,c,a,y,u,b;return d(),_(h,null,[i(r(B),{type:"target",position:r(x).Left,style:f({backgroundColor:(c=(t=r(n))==null?void 0:t.data)==null?void 0:c.color,filter:"invert(100%)"})},null,8,["position","style"]),P(" "+A((y=(a=r(n))==null?void 0:a.data)!=null&&y.isGradient?"GRADIENT":(b=(u=r(n))==null?void 0:u.data)==null?void 0:b.color),1)],64)}}},re={__name:"index",setup(e){const o=m([{id:"1",type:"color-selector",data:{color:N.ayame},position:{x:0,y:50}},{id:"2",type:"output",position:{x:350,y:114},targetPosition:x.Left}]),n=G(()=>o.value[0].data),l=m([{id:"e1a-2",source:"1",sourceHandle:"a",target:"2",animated:!0,style:()=>{var c;return{stroke:(c=n.value)==null?void 0:c.color,filter:"invert(100%)"}}}]);function s(c){switch(c.type){case"input":return"#0041d0";case"color-selector":return N.sumi;case"output":return"#ff0072";default:return"#eee"}}function t(c){var a;return c.type==="color-selector"?(a=n.value)==null?void 0:a.color:"#fff"}return(c,a)=>{var y,u;return d(),k(r(w),{nodes:o.value,"onUpdate:nodes":a[0]||(a[0]=b=>o.value=b),edges:l.value,class:M(["custom-node-flow",[(y=n.value)!=null&&y.isGradient?"animated-bg-gradient":""]]),style:f({backgroundColor:(u=n.value)==null?void 0:u.color}),"default-viewport":{zoom:1.5},"fit-view-on-init":""},{"node-color-selector":g(({id:b})=>[i(ne,{id:b},null,8,["id"])]),"node-output":g(()=>[i(se)]),default:g(()=>[i(r(U),{"node-stroke-color":s,"node-color":t})]),_:1},8,["nodes","edges","class","style"])}}},Y=e=>(H("data-v-a1125433"),e=e(),K(),e),ie={class:"flow-wraper"},le={class:"updatenode__controls"},ue=Y(()=>p("label",null,"label:",-1)),de=Y(()=>p("label",{class:"updatenode__bglabel"},"background:",-1)),ce={class:"updatenode__checkboxwrapper"},pe=Y(()=>p("label",null,"hidden：",-1)),ye={__name:"index",setup(e){const{onPaneReady:o,findNode:n,updateNode:l}=S(),s=W({bg:"#eeeeee",label:"Node 1",hidden:!1}),t=m([{id:"1",label:s.label,style:{backgroundColor:s.bg},hidden:s.hidden,position:{x:100,y:100}},{id:"2",label:"Node 2",position:{x:100,y:200}}]),c=m([{id:"e1-2",source:"1",target:"2"}]);o(({fitView:y})=>{y()});function a(){l(t.value[0].id,{label:s.label,style:{backgroundColor:s.bg},hidden:s.hidden})}return(y,u)=>{const b=C("b-input"),q=C("b-color-picker"),V=C("b-checkbox");return d(),_("div",ie,[i(r(w),{nodes:t.value,edges:c.value},{default:g(()=>[p("div",le,[ue,i(b,{modelValue:s.label,"onUpdate:modelValue":u[0]||(u[0]=v=>s.label=v),onInput:a},null,8,["modelValue"]),de,i(q,{modelValue:s.bg,"onUpdate:modelValue":u[1]||(u[1]=v=>s.bg=v),style:{"background-color":"#fff"},onChange:a},null,8,["modelValue"]),p("div",ce,[pe,i(V,{modelValue:s.hidden,"onUpdate:modelValue":u[2]||(u[2]=v=>s.hidden=v),onChange:a},null,8,["modelValue"])])])]),_:1},8,["nodes","edges"])])}}},_e=O(ye,[["__scopeId","data-v-a1125433"]]),ge={inheritAttrs:!1},me=Object.assign(ge,{__name:"EdgeWithButton",props:{id:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,required:!0},targetPosition:{type:String,required:!0},markerEnd:{type:String,required:!1},style:{type:Object,required:!1}},setup(e){const o=e,{removeEdges:n}=S(),l=j(()=>E(o));return(s,t)=>(d(),_(h,null,[i(r(I),{id:e.id,style:f(e.style),path:l.value[0],"marker-end":e.markerEnd},null,8,["id","style","path","marker-end"]),i(r(Q),null,{default:g(()=>[p("div",{style:f({pointerEvents:"all",position:"absolute",transform:`translate(-50%, -50%) translate(${l.value[1]}px,${l.value[2]}px)`}),class:"nodrag nopan"},[p("button",{class:"edgebutton",onClick:t[0]||(t[0]=c=>r(n)(e.id))},"×")],4)]),_:1})],64))}}),be={inheritAttrs:!1},fe=Object.assign(be,{__name:"CustomEdge",props:{id:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,required:!0},targetPosition:{type:String,required:!0},data:{type:Object,required:!1},markerEnd:{type:String,required:!1},style:{type:Object,required:!1}},setup(e){const o=e,n=j(()=>E(o));return(l,s)=>(d(),k(r(I),{id:e.id,style:f(e.style),path:n.value[0],"marker-end":e.markerEnd,label:e.data.text,"label-x":n.value[1],"label-y":n.value[2],"label-style":{fill:"white"},"label-show-bg":!0,"label-bg-style":{fill:"red"},"label-bg-padding":[2,4],"label-bg-border-radius":2},null,8,["id","style","path","marker-end","label","label-x","label-y"]))}}),ke={dy:"10",x:"0"},he={__name:"CustomEdgeLabel",props:{label:{type:String,required:!0}},setup(e){const o=e;return(n,l)=>(d(),_("tspan",ke,A(o.label),1))}},ve={class:"flow-wraper"},xe={__name:"index",setup(e){const o=m([{id:"1",type:"input",label:"Start",position:{x:50,y:0},style:{borderColor:"#10b981"}},{id:"2",label:"Node 2",position:{x:150,y:100}},{id:"2a",label:"Node 2a",position:{x:0,y:180}},{id:"3",label:"Node 3",position:{x:250,y:200}},{id:"4",label:"Node 4",position:{x:400,y:300}},{id:"3a",label:"Node 3a",position:{x:175,y:300}},{id:"5",label:"Node 5",position:{x:200,y:400}},{id:"6",type:"output",label:"Output 6",position:{x:0,y:350}},{id:"7",type:"output",label:"Output 7",position:{x:50,y:600}},{id:"8",type:"output",label:"Output 8",position:{x:350,y:600}},{id:"9",type:"output",label:"Output 9",position:{x:550,y:400}}]),n=m([{id:"e1-2",source:"1",target:"2",label:"bezier edge (default)",class:"normal-edge"},{id:"e2-2a",source:"2",target:"2a",type:"smoothstep",label:"smoothstep edge"},{id:"e2-3",source:"2",target:"3",type:"step",label:"step edge"},{id:"e3-4",source:"3",target:"4",type:"straight",label:"straight edge"},{id:"e3-3a",source:"3",target:"3a",type:"straight",label:"label only edge",style:{stroke:"none"}},{id:"e3-5",source:"4",target:"5",animated:!0,label:"animated styled edge",style:{stroke:"#10b981"}},{id:"e2a-6",source:"2a",target:"6",label:()=>J(he,{label:"custom label text"}),labelStyle:{fill:"#10b981",fontWeight:700},markerEnd:F.Arrow},{id:"e5-7",source:"5",target:"7",label:"label with bg",labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#FFCC00",color:"#fff",fillOpacity:.7},markerEnd:F.ArrowClosed},{id:"e5-8",source:"5",target:"8",type:"button",data:{text:"custom edge"},markerEnd:F.ArrowClosed},{id:"e4-9",source:"4",target:"9",type:"custom",data:{text:"styled custom edge label"}}]);return(l,s)=>(d(),_("div",ve,[i(r(w),{nodes:o.value,edges:n.value,"fit-view-on-init":""},{"edge-button":g(t=>[i(me,{id:t.id,"source-x":t.sourceX,"source-y":t.sourceY,"target-x":t.targetX,"target-y":t.targetY,"source-position":t.sourcePosition,"target-position":t.targetPosition,"marker-end":t.markerEnd,style:f(t.style)},null,8,["id","source-x","source-y","target-x","target-y","source-position","target-position","marker-end","style"])]),"edge-custom":g(t=>[i(fe,{id:t.id,"source-x":t.sourceX,"source-y":t.sourceY,"target-x":t.targetX,"target-y":t.targetY,"source-position":t.sourcePosition,"target-position":t.targetPosition,data:t.data,"marker-end":t.markerEnd,style:f(t.style)},null,8,["id","source-x","source-y","target-x","target-y","source-position","target-position","data","marker-end","style"])]),default:g(()=>[i(r(L))]),_:1},8,["nodes","edges"])]))}},$e=p("div",null,"只能连接B节点",-1),Ce={inheritAttrs:!1},Ne=Object.assign(Ce,{__name:"CustomInput",props:{isValidTargetPos:{type:Function,required:!1}},setup(e){const o=e;return(n,l)=>(d(),_(h,null,[$e,i(r(B),{type:"source",position:r(x).Right,"is-valid-connection":o.isValidTargetPos},null,8,["position","is-valid-connection"])],64))}}),Se={inheritAttrs:!1},Be=Object.assign(Se,{__name:"CustomNode",props:{id:{type:String,required:!0},isValidSourcePos:{type:Function,required:!1}},setup(e){const o=e;return(n,l)=>(d(),_(h,null,[i(r(B),{type:"target",position:r(x).Left,"is-valid-connection":o.isValidSourcePos},null,8,["position","is-valid-connection"]),p("div",null,A(o.id),1)],64))}}),we=["d"],qe=["cx","cy"],Ve={__name:"CustomLine",props:{sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0}},setup(e){return(o,n)=>(d(),_("g",null,[p("path",{class:"vue-flow__connection animated",fill:"none",stroke:"#6F3381","stroke-width":1.5,d:`M${e.sourceX},${e.sourceY} C ${e.sourceX} ${e.targetY} ${e.sourceX} ${e.targetY} ${e.targetX},${e.targetY}`},null,8,we),p("circle",{cx:e.targetX,cy:e.targetY,fill:"#fff",r:4,stroke:"#6F3381","stroke-width":1.5},null,8,qe)]))}},Fe={class:"flow-wraper"},Ae={__name:"index",setup(e){const{addEdges:o}=S(),n=m([{id:"0",type:"custominput",position:{x:0,y:150},isValidTargetPos:a=>a.target==="B"},{id:"A",type:"custom",position:{x:250,y:0},isValidSourcePos:()=>!1},{id:"B",type:"custom",position:{x:250,y:150},isValidSourcePos:a=>a.target==="B"},{id:"C",type:"custom",position:{x:250,y:300},isValidSourcePos:a=>a.target==="B"}]),l=m([]);function s({nodeId:a,handleType:y}){return console.log("on connect start",{nodeId:a,handleType:y})}function t(a){return console.log("on connect end",a)}function c(a){console.log("on connect",a),o({...a,animated:!0,style:{stroke:"#6F3381",strokeWidth:1.5}})}return(a,y)=>(d(),_("div",Fe,[i(r(w),{nodes:n.value,edges:l.value,"fit-view-on-init":"",class:"validationflow",onConnect:c,onConnectStart:s,onConnectEnd:t},{"node-custominput":g(u=>[i(Ne,X(D(u)),null,16)]),"node-custom":g(u=>[i(Be,X(D(u)),null,16)]),"connection-line":g(({sourceX:u,sourceY:b,targetX:q,targetY:V})=>[i(Ve,{"source-x":u,"source-y":b,"target-x":q,"target-y":V},null,8,["source-x","source-y","target-x","target-y"])]),default:g(()=>[i(r(L))]),_:1},8,["nodes","edges"])]))}},Oe=O(Ae,[["__scopeId","data-v-3767792d"]]),Ye={class:"panel"},Xe={class:"content-box"},De=Object.assign({name:"VueFlowAdvance"},{__name:"index",setup(e){const o=m("demo01"),n=m([{key:"demo01",title:"自定义节点"},{key:"demo02",title:"节点更新"},{key:"demo03",title:"自定义连线"},{key:"demo04",title:"连线验证"}]),l=m(!1);return Z(()=>l.value=!0),(s,t)=>{const c=C("b-tabs");return d(),_("div",Ye,[i(c,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a),data:n.value,type:"card"},null,8,["modelValue","data"]),p("div",Xe,[o.value==="demo01"?(d(),k(re,{key:0})):$("",!0),o.value==="demo02"?(d(),k(_e,{key:1})):$("",!0),o.value==="demo03"?(d(),k(xe,{key:2})):$("",!0),o.value==="demo04"?(d(),k(Oe,{key:3})):$("",!0)])])}}}),Ie=O(De,[["__scopeId","data-v-c6cdb669"]]);export{Ie as default};
