import{a8 as B,r as v,p as T,R as d,o as u,a as x,b as r,K as i,w as c,f as g,F,Q as G,j as y,t as L,G as b}from"./vendor-B7whOB5j.js";import"./chunk-brace-DF1jSkZr.js";const N={class:"p24"},D={flex:""},J={style:{width:"calc(100% - 600px)"},class:"p10"},W={flex:"cross:center"},j={__name:"line-path",setup(k){const _=v(null),f=[[100,100],[200,100],[230,200],[250,50],[270,180],[300,60],[330,160],[350,60],[380,100],[480,100]],p=v(!1),a=v([...f]);function C(t){t?a.value=[]:a.value=[...f],b(()=>h())}function P(t){a.value.push(t),b(()=>h())}function S(t){let e=t.width,s=t.height,o=window.devicePixelRatio||1;o!==1&&(t.style.width=e+"px",t.style.height=s+"px",t.height=s*o,t.width=e*o,t.getContext("2d").scale(o,o))}function V(t,e,s,o,n){const l=t.createLinearGradient(e,s,o,n);return l.addColorStop(0,"#9a12b3"),l.addColorStop(1,"#19b5fe"),l}function w(t,e){for(let s=0;s<e.length;s++){const[o,n]=e[s];s===0?t.moveTo(o,n):t.lineTo(o,n)}}function h(){const t=_.value,e=t.getContext("2d"),s=t.width,o=t.height;let n=100;S(t);function l(){e.fillStyle="black",e.fillRect(0,0,s,o),e.lineWidth=3,e.save(),e.beginPath(),w(e,a.value),e.strokeStyle="gray",e.lineJoin="round",e.stroke(),e.beginPath(),e.rect(n,0,150,500),e.clip(),e.beginPath(),w(e,a.value),e.lineWidth=4,e.strokeStyle=V(e,n,0,n+150,0),e.lineCap="round",e.lineJoin="round",e.stroke(),e.restore(),n+=2,n>600&&(n=0),requestAnimationFrame(l)}l()}return T(()=>{h()}),(t,e)=>{const s=d("dev-pos"),o=d("b-switch"),n=d("b-tag"),l=d("b-divider");return u(),x("div",N,[r("div",D,[i(s,{dev:p.value,onDevPos:P},{default:c(()=>[r("canvas",{class:"canvas",ref_key:"domRef",ref:_,width:"600",height:"250"},null,512)]),_:1},8,["dev"]),r("div",J,[r("div",W,[e[2]||(e[2]=r("span",{class:"mr-5"},"dev模式",-1)),i(o,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=m=>p.value=m),size:"small",onChange:C},null,8,["modelValue"]),i(n,{type:"warning",style:{margin:"0 0 0 5px"}},{default:c(()=>e[1]||(e[1]=[g(" dev模式会清空数据点,点击区域内部进行新增 ")])),_:1})]),i(l),i(n,null,{default:c(()=>e[3]||(e[3]=[g("点位")])),_:1}),r("div",null,[(u(!0),x(F,null,G(a.value,(m,R)=>(u(),y(n,{type:"primary",key:R,style:{margin:"0 4px 4px 0"}},{default:c(()=>[g(L(m),1)]),_:2},1024))),128))])])])])}}},q=B(j,[["__scopeId","data-v-3ceee36b"]]),E={__name:"index",setup(k){return(_,f)=>{const p=d("b-collapse-wrap"),a=d("page-wrapper");return u(),y(a,null,{default:c(()=>[i(p,{title:"canvas绘制折线路径动画",shadow:"none",class:"mb-16"},{default:c(()=>[i(q)]),_:1})]),_:1})}}};export{E as default};
