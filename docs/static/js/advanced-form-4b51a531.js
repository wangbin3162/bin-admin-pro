var P=Object.defineProperty,G=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var j=(d,l,s)=>l in d?P(d,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):d[l]=s,H=(d,l)=>{for(var s in l||(l={}))K.call(l,s)&&j(d,s,l[s]);if(F)for(var s of F(l))L.call(l,s)&&j(d,s,l[s]);return d},M=(d,l)=>G(d,J(l));import{a as D}from"./chunk-bin-ui-next-f60b2cbe.js";import{a4 as T,f as q,y as W,G as O,J as m,o as i,c as h,w as a,u as e,B as U,A as y,t as k,K as Q,q as u,F as w,aa as X}from"./vendor-b86c3d35.js";import{P as Z}from"./page-wrapper-e575f616.js";import"./chunk-brace-f547fd93.js";import"./index-2b55dcae.js";const $={name:"AdvancedForm",components:{PageWrapper:Z},setup(){const d=q(null),l=q({name:"",sex:"male",mail:"",birthday:"",taskName:"",taskDesc:"",taskDate:"",duty:"",execute:"",level:""}),s=q([{name:"\u738B\u5C0F\u660E",age:18,birthday:"1990-04-22",hobby:"1",address:"\u5317\u4EAC\u5E02\u671D\u9633\u533A\u828D\u836F\u5C45"},{name:"\u5F20\u5C0F\u521A",age:25,birthday:"1990-11-11",hobby:"1",address:"\u5317\u4EAC\u5E02\u6D77\u6DC0\u533A\u897F\u4E8C\u65D7"},{name:"\u674E\u5C0F\u7EA2",age:30,birthday:"1985-02-05",hobby:"3",address:"\u4E0A\u6D77\u5E02\u6D66\u4E1C\u65B0\u533A\u4E16\u7EAA\u5927\u9053"},{name:"\u5468\u5C0F\u4F1F",age:26,birthday:"1993-07-11",hobby:"1",address:"\u6DF1\u5733\u5E02\u5357\u5C71\u533A\u6DF1\u5357\u5927\u9053"},{name:"\u5F20\u5C0F\u53D1",age:33,birthday:"1999-12-12",hobby:"2",address:"\u5357\u4EAC\u5E02\u9F99\u7720\u5927\u9053"}]),t=W({editName:"",editAge:"",editBirthday:"",editHobby:"",editAddress:"",editIndex:-1,editIsCreate:!1});function N(n,g){t.editName=n.name,t.editAge=n.age,t.editHobby=n.hobby,t.editAddress=n.address,t.editBirthday=n.birthday,t.editIndex=g}function z(n){const{editName:g,editAge:v,editBirthday:C,editHobby:I,editAddress:A}=t;if(g===""||!v||C===""||I===""||A===""){D.error("\u8BF7\u586B\u5199\u5B8C\u6574\u7684\u4FE1\u606F\uFF01");return}s.value[n].name=t.editName,s.value[n].age=t.editAge,s.value[n].birthday=X(t.editBirthday).format("YYYY-MM-DD"),s.value[n].hobby=t.editHobby,s.value[n].address=t.editAddress,t.editIndex=-1,t.editIsCreate=!1}function _(){const n={name:"",age:null,birthday:"",hobby:"",address:""};s.value.push(n),N(n,s.value.length-1),t.editIsCreate=!0}function b(n){s.value.splice(n,1),t.editIsCreate=!1}function p(){d.value.validate(n=>{if(n)D.success("success submit!!");else return D.error("error submit!!"),!1})}function V(){d.value.resetFields()}return M(H({formRef:d,form:l,ruleValidate:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],sex:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B",trigger:"change"}],mail:[{required:!0,type:"email",message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",trigger:"blur"}],birthday:[{required:!0,type:"date",message:"\u8BF7\u9009\u62E9\u51FA\u751F\u65E5\u671F",trigger:"change"}],taskName:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",trigger:"blur"}],taskDesc:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u63CF\u8FF0",trigger:"blur"}],taskDate:[{required:!0,type:"date",message:"\u8BF7\u9009\u62E9\u4EFB\u52A1\u65E5\u671F",trigger:"change"}],duty:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D23\u4EFB\u4EBA",trigger:"blur"}],execute:[{required:!0,message:"\u8BF7\u8F93\u5165\u6267\u884C\u4EBA",trigger:"blur"}],level:[{required:!0,message:"\u52FE\u9009\u4EFB\u52A1\u7D27\u6025\u7A0B\u5EA6",trigger:"change"}]},columns:[{title:"\u59D3\u540D",slot:"name"},{title:"\u5E74\u9F84",slot:"age"},{title:"\u51FA\u751F\u65E5\u671F",slot:"birthday"},{title:"\u7231\u597D",slot:"hobby"},{title:"\u5730\u5740",slot:"address"},{title:"\u64CD\u4F5C",slot:"action"}],hobbyMap:{1:"\u5403\u996D",2:"\u7761\u89C9",3:"\u6253\u8C46\u8C46"},list:s},O(t)),{submitForm:p,resetForm:V,handleSave:z,handleEdit:N,handleAdd:_,handleRemove:b})}},ee={style:{padding:"10px 24px"}},ae={style:{padding:"10px 24px"}},te=u("\u7D27\u6025"),le=u("\u6025"),de=u("\u4E00\u822C"),oe={style:{padding:"16px"}},se={key:1},ne={key:1},re={key:1},ie={key:1},me={key:1},ue={key:0},be=u("\u65B0\u589E "),pe=u("\u5220\u9664 "),fe=u("\u4FDD\u5B58 "),_e=u("\u53D6\u6D88 "),ye={key:1},ce=u("\u64CD\u4F5C "),ge=u("\u5220\u9664 "),he={class:"mt-8"},ke=u("\u65B0\u589E"),Ve=u("\u91CD \u7F6E"),ve=u("\u63D0 \u4EA4");function Ce(d,l,s,t,N,z){const _=m("b-input"),b=m("b-form-item"),p=m("b-col"),V=m("b-option"),n=m("b-select"),g=m("b-date-picker"),v=m("b-row"),C=m("b-collapse-wrap"),I=m("b-tag"),A=m("b-radio"),R=m("b-radio-group"),S=m("b-input-number"),c=m("b-button"),Y=m("b-table"),E=m("b-form"),x=m("page-wrapper");return i(),h(x,{desc:"\u5F53\u4E00\u6B21\u6027\u63D0\u4EA4\u5927\u91CF\u6570\u636E\u65F6\uFF0C\u53EF\u4F7F\u7528\u9AD8\u7EA7\u8868\u5355\u3002"},{rightFooter:a(()=>[e(c,{onClick:t.resetForm},{default:a(()=>[Ve]),_:1},8,["onClick"]),e(c,{type:"primary",onClick:t.submitForm},{default:a(()=>[ve]),_:1},8,["onClick"])]),default:a(()=>[e(E,{model:t.form,rules:t.ruleValidate,"status-icon":"","label-width":"85px",ref:"formRef","label-position":"top"},{default:a(()=>[e(C,{title:"\u57FA\u672C\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",ee,[e(v,{gutter:24},{default:a(()=>[e(p,{span:"6"},{default:a(()=>[e(b,{prop:"name",label:"\u59D3\u540D"},{default:a(()=>[e(_,{modelValue:t.form.name,"onUpdate:modelValue":l[0]||(l[0]=o=>t.form.name=o),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:"6"},{default:a(()=>[e(b,{label:"\u6027\u522B",prop:"sex"},{default:a(()=>[e(n,{modelValue:t.form.sex,"onUpdate:modelValue":l[1]||(l[1]=o=>t.form.sex=o),placeholder:"\u8BF7\u9009\u62E9\u6237\u7C4D\u5730"},{default:a(()=>[e(V,{label:"\u7537",value:"male"}),e(V,{label:"\u5973",value:"female"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(p,{span:"6"},{default:a(()=>[e(b,{prop:"mail",label:"\u90AE\u7BB1"},{default:a(()=>[e(_,{modelValue:t.form.mail,"onUpdate:modelValue":l[2]||(l[2]=o=>t.form.mail=o),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:"6"},{default:a(()=>[e(b,{label:"\u51FA\u751F\u65E5\u671F",prop:"birthday"},{default:a(()=>[e(g,{modelValue:t.form.birthday,"onUpdate:modelValue":l[3]||(l[3]=o=>t.form.birthday=o),type:"date",placeholder:"\u51FA\u751F\u65E5\u671F"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{title:"\u4EFB\u52A1\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",ae,[e(v,{gutter:32},{default:a(()=>[e(p,{span:"8"},{default:a(()=>[e(b,{prop:"taskName",label:"\u4EFB\u52A1\u540D\u79F0"},{default:a(()=>[e(_,{modelValue:t.form.taskName,"onUpdate:modelValue":l[4]||(l[4]=o=>t.form.taskName=o),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:"8"},{default:a(()=>[e(b,{prop:"taskDesc",label:"\u4EFB\u52A1\u63CF\u8FF0"},{default:a(()=>[e(_,{modelValue:t.form.taskDesc,"onUpdate:modelValue":l[5]||(l[5]=o=>t.form.taskDesc=o),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:"8"},{default:a(()=>[e(b,{prop:"taskDate",label:"\u521B\u5EFA\u65E5\u671F"},{default:a(()=>[e(g,{modelValue:t.form.taskDate,"onUpdate:modelValue":l[6]||(l[6]=o=>t.form.taskDate=o),type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{gutter:30},{default:a(()=>[e(p,{span:"8"},{default:a(()=>[e(b,{prop:"duty",label:"\u8D23\u4EFB\u4EBA"},{default:a(()=>[e(_,{modelValue:t.form.duty,"onUpdate:modelValue":l[7]||(l[7]=o=>t.form.duty=o),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:"8"},{default:a(()=>[e(b,{prop:"execute",label:"\u6267\u884C\u4EBA"},{default:a(()=>[e(_,{modelValue:t.form.execute,"onUpdate:modelValue":l[8]||(l[8]=o=>t.form.execute=o),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:"8"},{default:a(()=>[e(b,{prop:"level",label:"\u7D27\u6025\u7A0B\u5EA6"},{default:a(()=>[e(R,{modelValue:t.form.level,"onUpdate:modelValue":l[9]||(l[9]=o=>t.form.level=o)},{default:a(()=>[e(A,{label:"0"},{default:a(()=>[e(I,{type:"danger"},{default:a(()=>[te]),_:1})]),_:1}),e(A,{label:"1"},{default:a(()=>[e(I,{type:"blue"},{default:a(()=>[le]),_:1})]),_:1}),e(A,{label:"2"},{default:a(()=>[e(I,{type:"success"},{default:a(()=>[de]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{title:"\u4EBA\u5458\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",oe,[e(Y,{columns:t.columns,data:t.list},{name:a(({index:o,row:f})=>[d.editIndex===o?(i(),h(_,{key:0,type:"text",modelValue:d.editName,"onUpdate:modelValue":l[10]||(l[10]=r=>d.editName=r),size:"small",clearable:""},null,8,["modelValue"])):(i(),y("span",se,k(f.name),1))]),age:a(({index:o,row:f})=>[d.editIndex===o?(i(),h(S,{key:0,type:"text",modelValue:d.editAge,"onUpdate:modelValue":l[11]||(l[11]=r=>d.editAge=r),size:"small"},null,8,["modelValue"])):(i(),y("span",ne,k(f.age),1))]),birthday:a(({index:o,row:f})=>[d.editIndex===o?(i(),h(g,{key:0,size:"small",modelValue:d.editBirthday,"onUpdate:modelValue":l[12]||(l[12]=r=>d.editBirthday=r),type:"date",placeholder:"\u9009\u62E9\u65E5\u671F"},null,8,["modelValue"])):(i(),y("span",re,k(f.birthday),1))]),hobby:a(({index:o,row:f})=>[d.editIndex===o?(i(),h(n,{key:0,modelValue:d.editHobby,"onUpdate:modelValue":l[13]||(l[13]=r=>d.editHobby=r),clearable:"",size:"small"},{default:a(()=>[(i(!0),y(w,null,Q(t.hobbyMap,(r,B)=>(i(),h(V,{key:B,value:B,label:r},{default:a(()=>[u(k(r),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])):(i(),y("span",ie,k(t.hobbyMap[f.hobby]),1))]),address:a(({index:o,row:f})=>[d.editIndex===o?(i(),h(_,{key:0,type:"text",modelValue:d.editAddress,"onUpdate:modelValue":l[14]||(l[14]=r=>d.editAddress=r),size:"small"},null,8,["modelValue"])):(i(),y("span",me,k(f.address),1))]),action:a(({index:o,row:f})=>[d.editIndex===o?(i(),y("div",ue,[d.editIsCreate?(i(),y(w,{key:0},[e(c,{onClick:r=>t.handleSave(o),size:"mini",type:"success",transparent:""},{default:a(()=>[be]),_:2},1032,["onClick"]),e(c,{type:"danger",size:"mini",transparent:"",onClick:r=>t.handleRemove(o)},{default:a(()=>[pe]),_:2},1032,["onClick"])],64)):(i(),y(w,{key:1},[e(c,{size:"mini",type:"success",transparent:"",onClick:r=>t.handleSave(o)},{default:a(()=>[fe]),_:2},1032,["onClick"]),e(c,{size:"mini",type:"primary",transparent:"",onClick:l[15]||(l[15]=r=>d.editIndex=-1)},{default:a(()=>[_e]),_:1})],64))])):(i(),y("div",ye,[e(c,{type:d.editIsCreate?"default":"primary",size:"mini",transparent:!d.editIsCreate,onClick:r=>t.handleEdit(f,o),disabled:d.editIsCreate},{default:a(()=>[ce]),_:2},1032,["type","transparent","onClick","disabled"]),e(c,{type:d.editIsCreate?"default":"danger",size:"mini",transparent:!d.editIsCreate,onClick:r=>t.handleRemove(o),disabled:d.editIsCreate},{default:a(()=>[ge]),_:2},1032,["type","transparent","onClick","disabled"])]))]),_:1},8,["columns","data"]),U("div",he,[e(c,{icon:"plus",dashed:"",style:{width:"100%"},onClick:t.handleAdd,disabled:d.editIsCreate},{default:a(()=>[ke]),_:1},8,["onClick","disabled"])])])]),_:1})]),_:1},8,["model","rules"])]),_:1})}var we=T($,[["render",Ce]]);export{we as default};
