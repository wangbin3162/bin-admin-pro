import{a8 as S,r as g,ag as z,ah as K,o as b,a as v,b as e,F as j,R as B,K as t,w as a,Q as l,N as f,f as y,a9 as F,aa as U}from"./vendor-BdSUmcRD.js";import{h as C,_ as L,l as O,t as w}from"./index-t4HwjMnm.js";import"./chunk-brace-DkiLfVT0.js";import"./chunk-bin-ui-design-XqwoFEXm.js";import"./chunk-mockjs-B6s4ORgB.js";const T="/bin-admin-pro/static/png/login-code-14j7X7u4.png",u=c=>(F("data-v-2b343cc5"),c=c(),U(),c),E={class:"page-login"},A={class:"layer area"},D={class:"circles"},M={class:"layer"},P={class:"content",flex:"dir:top main:justify cross:center box:justify"},Q=u(()=>e("div",{class:"header"},[e("p",{class:"header-motto"},"开箱即用的中后台管理系统")],-1)),W={class:"main",flex:"dir:top main:center cross:center"},X=u(()=>e("div",{class:"page-login--logo"},[e("img",{src:L,alt:"logo"}),e("span",null,"BIN-ADMIN-PRO")],-1)),$={class:"form"},G=u(()=>e("span",{class:"login-code"},[e("img",{src:T,alt:"code"})],-1)),H=u(()=>e("div",{class:"footer"},[e("p",{class:"footer-copyright"},[y(" bin admin pro 简版后台管理系统vue3 重构版 "),e("a",{href:"https://github.com/wangbin3162/bin-admin-pro",target:"_blank"},"github")])],-1)),J=Object.assign({name:"Login"},{__name:"login",setup(c){const s=g({username:"admin",password:"admin",captcha:"v9am"}),p=g(!1),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]},V=C(),k=z(),q=K(),h=g(null);function d(){h.value.validate(async r=>{if(r){try{p.value=!0;const{data:o}=await O(s.value);await I(o)}catch(o){w("login/requestFailed",o)}p.value=!1}})}async function I(r){if(r.code==="00"){const o=r.data.accessToken;await V.setToken(o);const i=q.query.redirect||"/";await k.push({path:i})}else w("login/requestFailed",r)}return(r,o)=>{const i=l("b-icon"),m=l("b-input"),_=l("b-form-item"),N=l("b-button"),R=l("b-form");return b(),v("div",E,[e("div",A,[e("ul",D,[(b(),v(j,null,B(10,n=>e("li",{key:n})),64))])]),e("div",M,[e("div",P,[Q,e("div",W,[X,e("div",$,[t(R,{ref_key:"loginRef",ref:h,"label-position":"top",rules:x,model:s.value,size:"large"},{default:a(()=>[t(_,{prop:"username"},{default:a(()=>[t(m,{type:"text",modelValue:s.value.username,"onUpdate:modelValue":o[0]||(o[0]=n=>s.value.username=n),placeholder:"用户名[admin,wang]",onKeydown:f(d,["enter"])},{prefix:a(()=>[t(i,{name:"user",size:"16"})]),_:1},8,["modelValue"])]),_:1}),t(_,{prop:"password"},{default:a(()=>[t(m,{type:"password",modelValue:s.value.password,"onUpdate:modelValue":o[1]||(o[1]=n=>s.value.password=n),placeholder:"密码[admin,123456]",onKeydown:f(d,["enter"])},{prefix:a(()=>[t(i,{name:"lock",size:"16"})]),_:1},8,["modelValue"])]),_:1}),t(_,{prop:"captcha"},{default:a(()=>[t(m,{type:"text",modelValue:s.value.captcha,"onUpdate:modelValue":o[2]||(o[2]=n=>s.value.captcha=n),placeholder:"- - - -",style:{width:"68%"},onKeydown:f(d,["enter"])},{prefix:a(()=>[t(i,{name:"bulb",size:"16"})]),_:1},8,["modelValue"]),G]),_:1}),t(N,{onClick:d,loading:p.value,type:"primary",class:"button-login",size:"large"},{default:a(()=>[y(" 登录 ")]),_:1},8,["loading"])]),_:1},8,["model"])])]),H])])])}}}),se=S(J,[["__scopeId","data-v-2b343cc5"]]);export{se as default};
