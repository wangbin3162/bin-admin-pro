var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{a as s}from"./chunk-bin-ui-next-169a0b5b.js";import{f as i,y as n,G as u,a9 as m,J as p,o as b,c as f,w as y,u as c,B as g,A as h,t as k,K as _,q as V,F as v}from"./vendor-fe3131ae.js";import{_ as x}from"./page-wrapper-d233775a.js";import"./chunk-brace-7f859248.js";import"./index-e9e85ee6.js";const C={name:"AdvancedForm",components:{PageWrapper:x},setup(){const e=i(null),p=i({name:"",sex:"male",mail:"",birthday:"",taskName:"",taskDesc:"",taskDate:"",duty:"",execute:"",level:""}),b=i([{name:"王小明",age:18,birthday:"1990-04-22",hobby:"1",address:"北京市朝阳区芍药居"},{name:"张小刚",age:25,birthday:"1990-11-11",hobby:"1",address:"北京市海淀区西二旗"},{name:"李小红",age:30,birthday:"1985-02-05",hobby:"3",address:"上海市浦东新区世纪大道"},{name:"周小伟",age:26,birthday:"1993-07-11",hobby:"1",address:"深圳市南山区深南大道"},{name:"张小发",age:33,birthday:"1999-12-12",hobby:"2",address:"南京市龙眠大道"}]),f=n({editName:"",editAge:"",editBirthday:"",editHobby:"",editAddress:"",editIndex:-1,editIsCreate:!1});function y(e,a){f.editName=e.name,f.editAge=e.age,f.editHobby=e.hobby,f.editAddress=e.address,f.editBirthday=e.birthday,f.editIndex=a}return c=((e,a)=>{for(var l in a||(a={}))d.call(a,l)&&o(e,l,a[l]);if(t)for(var l of t(a))r.call(a,l)&&o(e,l,a[l]);return e})({formRef:e,form:p,ruleValidate:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],mail:[{required:!0,type:"email",message:"请输入邮箱",trigger:"blur"}],birthday:[{required:!0,type:"date",message:"请选择出生日期",trigger:"change"}],taskName:[{required:!0,message:"请输入任务名称",trigger:"blur"}],taskDesc:[{required:!0,message:"请输入任务描述",trigger:"blur"}],taskDate:[{required:!0,type:"date",message:"请选择任务日期",trigger:"change"}],duty:[{required:!0,message:"请输入责任人",trigger:"blur"}],execute:[{required:!0,message:"请输入执行人",trigger:"blur"}],level:[{required:!0,message:"勾选任务紧急程度",trigger:"change"}]},columns:[{title:"姓名",slot:"name"},{title:"年龄",slot:"age"},{title:"出生日期",slot:"birthday"},{title:"爱好",slot:"hobby"},{title:"地址",slot:"address"},{title:"操作",slot:"action"}],hobbyMap:{1:"吃饭",2:"睡觉",3:"打豆豆"},list:b},u(f)),a(c,l({submitForm:function(){e.value.validate((e=>{if(!e)return s.error("error submit!!"),!1;s.success("success submit!!")}))},resetForm:function(){e.value.resetFields()},handleSave:function(e){const{editName:a,editAge:l,editBirthday:t,editHobby:d,editAddress:r}=f;""!==a&&l&&""!==t&&""!==d&&""!==r?(b.value[e].name=f.editName,b.value[e].age=f.editAge,b.value[e].birthday=m(f.editBirthday).format("YYYY-MM-DD"),b.value[e].hobby=f.editHobby,b.value[e].address=f.editAddress,f.editIndex=-1,f.editIsCreate=!1):s.error("请填写完整的信息！")},handleEdit:y,handleAdd:function(){const e={name:"",age:null,birthday:"",hobby:"",address:""};b.value.push(e),y(e,b.value.length-1),f.editIsCreate=!0},handleRemove:function(e){b.value.splice(e,1),f.editIsCreate=!1}}));var c}},I={style:{padding:"10px 24px"}},w={style:{padding:"10px 24px"}},A=V("紧急"),U=V("急"),D=V("一般"),j={style:{padding:"16px"}},q={key:1},z={key:1},N={key:1},O={key:1},F={key:1},B={key:0},H=V("新增 "),P=V("删除 "),M=V("保存 "),R=V("取消 "),S={key:1},Y=V("操作 "),E=V("删除 "),G={class:"mt-8"},J=V("新增"),K=V("重 置"),W=V("提 交");C.render=function(e,a,l,t,d,r){const o=p("b-input"),s=p("b-form-item"),i=p("b-col"),n=p("b-option"),u=p("b-select"),m=p("b-date-picker"),x=p("b-row"),C=p("b-collapse-wrap"),L=p("b-tag"),Q=p("b-radio"),T=p("b-radio-group"),X=p("b-input-number"),Z=p("b-button"),$=p("b-table"),ee=p("b-form"),ae=p("page-wrapper");return b(),f(ae,{desc:"当一次性提交大量数据时，可使用高级表单。"},{rightFooter:y((()=>[c(Z,{onClick:t.resetForm},{default:y((()=>[K])),_:1},8,["onClick"]),c(Z,{type:"primary",onClick:t.submitForm},{default:y((()=>[W])),_:1},8,["onClick"])])),default:y((()=>[c(ee,{model:t.form,rules:t.ruleValidate,"status-icon":"","label-width":"85px",ref:"formRef","label-position":"top"},{default:y((()=>[c(C,{title:"基本信息",shadow:"none"},{default:y((()=>[g("div",I,[c(x,{gutter:24},{default:y((()=>[c(i,{span:"6"},{default:y((()=>[c(s,{prop:"name",label:"姓名"},{default:y((()=>[c(o,{modelValue:t.form.name,"onUpdate:modelValue":a[0]||(a[0]=e=>t.form.name=e),clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),c(i,{span:"6"},{default:y((()=>[c(s,{label:"性别",prop:"sex"},{default:y((()=>[c(u,{modelValue:t.form.sex,"onUpdate:modelValue":a[1]||(a[1]=e=>t.form.sex=e),placeholder:"请选择户籍地"},{default:y((()=>[c(n,{label:"男",value:"male"}),c(n,{label:"女",value:"female"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),c(i,{span:"6"},{default:y((()=>[c(s,{prop:"mail",label:"邮箱"},{default:y((()=>[c(o,{modelValue:t.form.mail,"onUpdate:modelValue":a[2]||(a[2]=e=>t.form.mail=e),clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),c(i,{span:"6"},{default:y((()=>[c(s,{label:"出生日期",prop:"birthday"},{default:y((()=>[c(m,{modelValue:t.form.birthday,"onUpdate:modelValue":a[3]||(a[3]=e=>t.form.birthday=e),type:"date",placeholder:"出生日期"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])])),_:1}),c(C,{title:"任务信息",shadow:"none"},{default:y((()=>[g("div",w,[c(x,{gutter:32},{default:y((()=>[c(i,{span:"8"},{default:y((()=>[c(s,{prop:"taskName",label:"任务名称"},{default:y((()=>[c(o,{modelValue:t.form.taskName,"onUpdate:modelValue":a[4]||(a[4]=e=>t.form.taskName=e),clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),c(i,{span:"8"},{default:y((()=>[c(s,{prop:"taskDesc",label:"任务描述"},{default:y((()=>[c(o,{modelValue:t.form.taskDesc,"onUpdate:modelValue":a[5]||(a[5]=e=>t.form.taskDesc=e),clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),c(i,{span:"8"},{default:y((()=>[c(s,{prop:"taskDate",label:"创建日期"},{default:y((()=>[c(m,{modelValue:t.form.taskDate,"onUpdate:modelValue":a[6]||(a[6]=e=>t.form.taskDate=e),type:"date"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),c(x,{gutter:30},{default:y((()=>[c(i,{span:"8"},{default:y((()=>[c(s,{prop:"duty",label:"责任人"},{default:y((()=>[c(o,{modelValue:t.form.duty,"onUpdate:modelValue":a[7]||(a[7]=e=>t.form.duty=e),clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),c(i,{span:"8"},{default:y((()=>[c(s,{prop:"execute",label:"执行人"},{default:y((()=>[c(o,{modelValue:t.form.execute,"onUpdate:modelValue":a[8]||(a[8]=e=>t.form.execute=e),clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),c(i,{span:"8"},{default:y((()=>[c(s,{prop:"level",label:"紧急程度"},{default:y((()=>[c(T,{modelValue:t.form.level,"onUpdate:modelValue":a[9]||(a[9]=e=>t.form.level=e)},{default:y((()=>[c(Q,{label:"0"},{default:y((()=>[c(L,{type:"danger"},{default:y((()=>[A])),_:1})])),_:1}),c(Q,{label:"1"},{default:y((()=>[c(L,{type:"blue"},{default:y((()=>[U])),_:1})])),_:1}),c(Q,{label:"2"},{default:y((()=>[c(L,{type:"success"},{default:y((()=>[D])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])])),_:1}),c(C,{title:"人员信息",shadow:"none"},{default:y((()=>[g("div",j,[c($,{columns:t.columns,data:t.list},{name:y((({index:l,row:t})=>[e.editIndex===l?(b(),f(o,{key:0,type:"text",modelValue:e.editName,"onUpdate:modelValue":a[10]||(a[10]=a=>e.editName=a),size:"small",clearable:""},null,8,["modelValue"])):(b(),h("span",q,k(t.name),1))])),age:y((({index:l,row:t})=>[e.editIndex===l?(b(),f(X,{key:0,type:"text",modelValue:e.editAge,"onUpdate:modelValue":a[11]||(a[11]=a=>e.editAge=a),size:"small"},null,8,["modelValue"])):(b(),h("span",z,k(t.age),1))])),birthday:y((({index:l,row:t})=>[e.editIndex===l?(b(),f(m,{key:0,size:"small",modelValue:e.editBirthday,"onUpdate:modelValue":a[12]||(a[12]=a=>e.editBirthday=a),type:"date",placeholder:"选择日期"},null,8,["modelValue"])):(b(),h("span",N,k(t.birthday),1))])),hobby:y((({index:l,row:d})=>[e.editIndex===l?(b(),f(u,{key:0,modelValue:e.editHobby,"onUpdate:modelValue":a[13]||(a[13]=a=>e.editHobby=a),clearable:"",size:"small"},{default:y((()=>[(b(!0),h(v,null,_(t.hobbyMap,((e,a)=>(b(),f(n,{key:a,value:a,label:e},{default:y((()=>[V(k(e),1)])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue"])):(b(),h("span",O,k(t.hobbyMap[d.hobby]),1))])),address:y((({index:l,row:t})=>[e.editIndex===l?(b(),f(o,{key:0,type:"text",modelValue:e.editAddress,"onUpdate:modelValue":a[14]||(a[14]=a=>e.editAddress=a),size:"small"},null,8,["modelValue"])):(b(),h("span",F,k(t.address),1))])),action:y((({index:l,row:d})=>[e.editIndex===l?(b(),h("div",B,[e.editIsCreate?(b(),h(v,{key:0},[c(Z,{onClick:e=>t.handleSave(l),size:"mini",type:"success",transparent:""},{default:y((()=>[H])),_:2},1032,["onClick"]),c(Z,{type:"danger",size:"mini",transparent:"",onClick:e=>t.handleRemove(l)},{default:y((()=>[P])),_:2},1032,["onClick"])],64)):(b(),h(v,{key:1},[c(Z,{size:"mini",type:"success",transparent:"",onClick:e=>t.handleSave(l)},{default:y((()=>[M])),_:2},1032,["onClick"]),c(Z,{size:"mini",type:"primary",transparent:"",onClick:a[15]||(a[15]=a=>e.editIndex=-1)},{default:y((()=>[R])),_:1})],64))])):(b(),h("div",S,[c(Z,{type:e.editIsCreate?"default":"primary",size:"mini",transparent:!e.editIsCreate,onClick:e=>t.handleEdit(d,l),disabled:e.editIsCreate},{default:y((()=>[Y])),_:2},1032,["type","transparent","onClick","disabled"]),c(Z,{type:e.editIsCreate?"default":"danger",size:"mini",transparent:!e.editIsCreate,onClick:e=>t.handleRemove(l),disabled:e.editIsCreate},{default:y((()=>[E])),_:2},1032,["type","transparent","onClick","disabled"])]))])),_:1},8,["columns","data"]),g("div",G,[c(Z,{icon:"plus",dashed:"",style:{width:"100%"},onClick:t.handleAdd,disabled:e.editIsCreate},{default:y((()=>[J])),_:1},8,["onClick","disabled"])])])])),_:1})])),_:1},8,["model","rules"])])),_:1})};export{C as default};
