var e=(e,a,o)=>new Promise(((s,t)=>{var i=e=>{try{n(o.next(e))}catch(a){t(a)}},r=e=>{try{n(o.throw(e))}catch(a){t(a)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,r);n((o=o.apply(e,a)).next())}));import{l as a,t as o,c as s}from"./index-f17bcc8b.js";import{cn as t,co as i,J as r,o as n,A as l,B as d,F as c,K as u,u as m,w as p,H as g,q as f}from"./vendor-1971077f.js";import"./chunk-bin-ui-next-ddd04845.js";import"./chunk-echarts-f72b51a5.js";import"./chunk-brace-7f859248.js";const h={name:"Login",data:()=>({formLogin:{username:"admin",password:"admin",captcha:"v9am"},loading:!1,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}),methods:{submit(){this.$refs.loginForm.validate((s=>e(this,null,(function*(){if(s){try{this.loading=!0;const{data:e}=yield a(this.formLogin);yield this.loginSuccess(e)}catch(e){o("login/requestFailed",e)}this.loading=!1}}))))},loginSuccess(a){return e(this,null,(function*(){if("00"===a.code){const e=a.data.accessToken;yield this.$store.dispatch("user/setToken",e);const o=this.$route.query.redirect||"/";yield this.$router.push({path:o})}else o("login/requestFailed",a)}))}}};t("data-v-d535d39e");const b={class:"page-login"},y={class:"layer area"},v={class:"circles"},w={class:"layer"},x={class:"content",flex:"dir:top main:justify cross:center box:justify"},_=d("div",{class:"header"},[d("p",{class:"header-motto"},"开箱即用的中后台管理系统")],-1),k={class:"main",flex:"dir:top main:center cross:center"},L=d("div",{class:"page-login--logo"},[d("img",{src:s,alt:"logo"}),d("span",null,"BIN-ADMIN-PRO")],-1),V={class:"form"},j=d("span",{class:"login-code"},[d("img",{src:"./static/png/login-code-8c841f1c.png",alt:"code"})],-1),q=f(" 登录 "),K=d("div",{class:"footer"},[d("p",{class:"footer-copyright"},[f(" bin admin pro 简版后台管理系统vue3 重构版 "),d("a",{href:"https://github.com/wangbin3162/bin-admin-pro",target:"_blank"},"github")])],-1);i(),h.render=function(e,a,o,s,t,i){const f=r("b-icon"),h=r("b-input"),z=r("b-form-item"),F=r("b-button"),$=r("b-form");return n(),l("div",b,[d("div",y,[d("ul",v,[(n(),l(c,null,u(10,(e=>d("li",{key:e}))),64))])]),d("div",w,[d("div",x,[_,d("div",k,[L,d("div",V,[m($,{ref:"loginForm","label-position":"top",rules:t.rules,model:t.formLogin,size:"large"},{default:p((()=>[m(z,{prop:"username"},{default:p((()=>[m(h,{type:"text",modelValue:t.formLogin.username,"onUpdate:modelValue":a[0]||(a[0]=e=>t.formLogin.username=e),placeholder:"用户名[admin,wang]",onKeydown:g(i.submit,["enter"])},{prefix:p((()=>[m(f,{name:"user",size:"16"})])),_:1},8,["modelValue","onKeydown"])])),_:1}),m(z,{prop:"password"},{default:p((()=>[m(h,{type:"password",modelValue:t.formLogin.password,"onUpdate:modelValue":a[1]||(a[1]=e=>t.formLogin.password=e),placeholder:"密码[admin,123456]",onKeydown:g(i.submit,["enter"])},{prefix:p((()=>[m(f,{name:"lock",size:"16"})])),_:1},8,["modelValue","onKeydown"])])),_:1}),m(z,{prop:"captcha"},{default:p((()=>[m(h,{type:"text",modelValue:t.formLogin.captcha,"onUpdate:modelValue":a[2]||(a[2]=e=>t.formLogin.captcha=e),placeholder:"- - - -",style:{width:"68%"},onKeydown:g(i.submit,["enter"])},{prefix:p((()=>[m(f,{name:"bulb",size:"16"})])),_:1},8,["modelValue","onKeydown"]),j])),_:1}),m(F,{onClick:i.submit,loading:t.loading,type:"primary",class:"button-login",size:"large"},{default:p((()=>[q])),_:1},8,["onClick","loading"])])),_:1},8,["rules","model"])])]),K])])])},h.__scopeId="data-v-d535d39e";export{h as default};
