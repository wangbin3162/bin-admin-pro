import{r as c,o as a,j as h,L as o,aS as $,a8 as N,aM as M,a as r,K as l,a9 as Z,aa as C,b as u,aI as I,i as g,F as z,aH as V,w as v,aO as T,aP as O,aQ as E,aR as k,H,n as P,e as j,I as F,p as A,Q as R}from"./vendor-CoKaFqDy.js";import"./chunk-brace-BklEY0pF.js";const U={__name:"index",setup(t){const e=c([{id:"1",type:"input",label:"Node 1",position:{x:250,y:5}},{id:"2",label:"Node 2",position:{x:100,y:100}},{id:"3",type:"output",label:"Node 3",position:{x:400,y:200}},{id:"e1-3",source:"1",target:"3"},{id:"e1-2",source:"1",target:"2",animated:!0}]);return(i,s)=>(a(),h(o($),{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=d=>e.value=d)},null,8,["modelValue"]))}},K=t=>(Z("data-v-25114399"),t=t(),C(),t),X={class:"flow-wraper"},Y=K(()=>u("div",{class:"controls"},null,-1)),G={__name:"index",setup(t){const e=c([{id:"1",type:"input",label:"Dblclick me",position:{x:100,y:100},sourcePosition:M.Right},{id:"2",type:"output",label:"Dblclick me",position:{x:400,y:400},targetPosition:M.Left}]),i=c([{id:"e1-2",source:"1",target:"2",animated:!0,style:{stroke:"#333"}}]);return(s,d)=>(a(),r("div",X,[Y,l(o($),{nodes:e.value,edges:i.value},null,8,["nodes","edges"])]))}},J=N(G,[["__scopeId","data-v-25114399"]]),W=[{id:"1",type:"input",label:"Node 1",position:{x:250,y:0},class:"light"},{id:"2",type:"output",label:"Node 2",position:{x:100,y:100},class:"light"},{id:"3",label:"Node 3",position:{x:400,y:100},class:"light"},{id:"4",label:"Node 4",position:{x:150,y:200},class:"light"},{id:"5",type:"output",label:"Node 5",position:{x:300,y:300},class:"light"}],ee=[{id:"e1-2",source:"1",target:"2",animated:!0},{id:"e1-3",label:"edge with arrowhead",source:"1",target:"3",markerEnd:I.ArrowClosed},{id:"e4-5",type:"step",label:"step-edge",source:"4",target:"5",style:{stroke:"orange"},labelBgStyle:{fill:"orange"}},{id:"e3-4",type:"smoothstep",label:"smoothstep-edge",source:"3",target:"4"}],te={key:0,width:"16",height:"16",viewBox:"0 0 32 32"},oe=u("path",{d:"M18 28A12 12 0 1 0 6 16v6.2l-3.6-3.6L1 20l6 6l6-6l-1.4-1.4L8 22.2V16a10 10 0 1 1 10 10Z"},null,-1),ae=[oe],se={key:1,width:"16",height:"16",viewBox:"0 0 24 24"},ne=u("path",{d:"M14 20v-2h2.6l-3.2-3.2l1.425-1.425L18 16.55V14h2v6Zm-8.6 0L4 18.6L16.6 6H14V4h6v6h-2V7.4Zm3.775-9.425L4 5.4L5.4 4l5.175 5.175Z"},null,-1),le=[ne],ie={key:2,width:"16",height:"16",viewBox:"0 0 24 24"},de=u("path",{d:"M12 17q-2.075 0-3.537-1.463Q7 14.075 7 12t1.463-3.538Q9.925 7 12 7t3.538 1.462Q17 9.925 17 12q0 2.075-1.462 3.537Q14.075 17 12 17ZM2 13q-.425 0-.712-.288Q1 12.425 1 12t.288-.713Q1.575 11 2 11h2q.425 0 .713.287Q5 11.575 5 12t-.287.712Q4.425 13 4 13Zm18 0q-.425 0-.712-.288Q19 12.425 19 12t.288-.713Q19.575 11 20 11h2q.425 0 .712.287q.288.288.288.713t-.288.712Q22.425 13 22 13Zm-8-8q-.425 0-.712-.288Q11 4.425 11 4V2q0-.425.288-.713Q11.575 1 12 1t.713.287Q13 1.575 13 2v2q0 .425-.287.712Q12.425 5 12 5Zm0 18q-.425 0-.712-.288Q11 22.425 11 22v-2q0-.425.288-.712Q11.575 19 12 19t.713.288Q13 19.575 13 20v2q0 .425-.287.712Q12.425 23 12 23ZM5.65 7.05L4.575 6q-.3-.275-.288-.7q.013-.425.288-.725q.3-.3.725-.3t.7.3L7.05 5.65q.275.3.275.7q0 .4-.275.7q-.275.3-.687.287q-.413-.012-.713-.287ZM18 19.425l-1.05-1.075q-.275-.3-.275-.712q0-.413.275-.688q.275-.3.688-.287q.412.012.712.287L19.425 18q.3.275.288.7q-.013.425-.288.725q-.3.3-.725.3t-.7-.3ZM16.95 7.05q-.3-.275-.287-.688q.012-.412.287-.712L18 4.575q.275-.3.7-.288q.425.013.725.288q.3.3.3.725t-.3.7L18.35 7.05q-.3.275-.7.275q-.4 0-.7-.275ZM4.575 19.425q-.3-.3-.3-.725t.3-.7l1.075-1.05q.3-.275.713-.275q.412 0 .687.275q.3.275.288.688q-.013.412-.288.712L6 19.425q-.275.3-.7.287q-.425-.012-.725-.287Z"},null,-1),re=[de],ue={key:3,width:"16",height:"16",viewBox:"0 0 24 24"},ce=u("path",{d:"M12 21q-3.75 0-6.375-2.625T3 12q0-3.75 2.625-6.375T12 3q.35 0 .688.025q.337.025.662.075q-1.025.725-1.637 1.887Q11.1 6.15 11.1 7.5q0 2.25 1.575 3.825Q14.25 12.9 16.5 12.9q1.375 0 2.525-.613q1.15-.612 1.875-1.637q.05.325.075.662Q21 11.65 21 12q0 3.75-2.625 6.375T12 21Z"},null,-1),_e=[ce],pe={key:4,width:"16",height:"16",viewBox:"0 0 24 24"},ge=u("path",{d:"M20 19V7H4v12h16m0-16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16m-7 14v-2h5v2h-5m-3.42-4L5.57 9H8.4l3.3 3.3c.39.39.39 1.03 0 1.42L8.42 17H5.59l3.99-4Z"},null,-1),me=[ge],x={__name:"Icon",props:{name:{type:String,required:!0}},setup(t){return(e,i)=>(a(),r(z,null,[t.name==="reset"?(a(),r("svg",te,ae)):g("",!0),t.name==="update"?(a(),r("svg",se,le)):g("",!0),t.name==="sun"?(a(),r("svg",ie,re)):g("",!0),t.name==="moon"?(a(),r("svg",ue,_e)):g("",!0),t.name==="log"?(a(),r("svg",pe,me)):g("",!0)],64))}},ve={class:"flow-wraper"},fe=u("div",{class:"controls"},null,-1),he={__name:"index",setup(t){const{onPaneReady:e,onNodeDragStop:i,setViewport:s,toObject:d}=V(),_=c(W),m=c(ee),p=c(!1);i(({event:n,nodes:f,node:w,intersections:L})=>{console.log("Node Drag Stop",{event:n,nodes:f,node:w,intersections:L})});function b(){console.log(b),s({x:0,y:0,zoom:1})}function y(){_.value=_.value.map(n=>({...n,position:{x:Math.random()*400,y:Math.random()*400}}))}function q(){console.log(d())}function Q(){p.value=!p.value}return e(({fitView:n})=>{n()}),(n,f)=>(a(),r("div",ve,[fe,l(o($),{nodes:_.value,edges:m.value,class:H([{dark:p.value},"basicflow"]),"default-viewport":{zoom:1.5},"min-zoom":.6,"max-zoom":3},{default:v(()=>[l(o(T),{"pattern-color":"#aaa",gap:16}),l(o(O)),l(o(E),{position:"top-right"},{default:v(()=>[l(o(k),{title:"Reset Transform",onClick:b},{default:v(()=>[l(x,{name:"reset"})]),_:1}),l(o(k),{title:"Shuffle Node Positions",onClick:y},{default:v(()=>[l(x,{name:"update"})]),_:1}),l(o(k),{title:"Toggle Dark Mode",onClick:Q},{default:v(()=>[p.value?(a(),h(x,{key:0,name:"sun"})):(a(),h(x,{key:1,name:"moon"}))]),_:1}),l(o(k),{title:"Log `toObject`",onClick:q},{default:v(()=>[l(x,{name:"log"})]),_:1})]),_:1})]),_:1},8,["nodes","edges","class"])]))}};let ye=0;function qe(){return`dndnode_${ye++}`}const be={draggedType:c(null),isDragOver:c(!1),isDragging:c(!1)};function B(){const{draggedType:t,isDragOver:e,isDragging:i}=be,{addNodes:s,screenToFlowCoordinate:d,onNodesInitialized:_,updateNode:m}=V();P(i,n=>{document.body.style.userSelect=n?"none":""});function p(n,f){n.dataTransfer&&(n.dataTransfer.setData("application/vueflow",f),n.dataTransfer.effectAllowed="move"),t.value=f,i.value=!0,document.addEventListener("drop",q)}function b(n){n.preventDefault(),t.value&&(e.value=!0,n.dataTransfer&&(n.dataTransfer.dropEffect="move"))}function y(){e.value=!1}function q(){i.value=!1,e.value=!1,t.value=null,document.removeEventListener("drop",q)}function Q(n){const f=d({x:n.clientX,y:n.clientY}),w=qe(),L={id:w,type:t.value,position:f,label:`[${w}]`},{off:S}=_(()=>{m(w,D=>({position:{x:D.position.x-D.dimensions.width/2,y:D.position.y-D.dimensions.height/2}})),S()});s(L)}return{draggedType:t,isDragOver:e,isDragging:i,onDragStart:p,onDragLeave:y,onDragOver:b,onDrop:Q}}const we={style:{height:"100%",width:"100%"}},xe={__name:"DropzoneBackground",setup(t){return(e,i)=>(a(),r("div",we,[l(o(T),{size:2,gap:20,"pattern-color":"#BDBDBD"},{default:v(()=>[j(e.$slots,"default")]),_:3})]))}},De=u("div",{class:"description"},"你可以拖拽这些节点到画布",-1),ke={class:"nodes"},$e={__name:"Sidebar",setup(t){const{onDragStart:e}=B();return(i,s)=>(a(),r("aside",null,[De,u("div",ke,[u("div",{class:"vue-flow__node-input",draggable:!0,onDragstart:s[0]||(s[0]=d=>o(e)(d,"input"))}," 输入节点 ",32),u("div",{class:"vue-flow__node-default",draggable:!0,onDragstart:s[1]||(s[1]=d=>o(e)(d,"default"))}," 普通节点 ",32),u("div",{class:"vue-flow__node-output",draggable:!0,onDragstart:s[2]||(s[2]=d=>o(e)(d,"output"))}," 输出节点 ",32)])]))}},Qe={class:"flow-wraper"},Le={__name:"index",setup(t){const{onConnect:e,addEdges:i}=V(),{onDragOver:s,onDrop:d,onDragLeave:_,isDragging:m}=B(),p=c([]);return e(i),(b,y)=>(a(),r("div",Qe,[u("div",{class:"dndflow",onDrop:y[0]||(y[0]=(...q)=>o(d)&&o(d)(...q))},[l(o($),{nodes:p.value,onDragover:o(s),onDragleave:o(_)},{default:v(()=>[l(xe,{style:F({backgroundColor:o(m)?"rgba(0, 0, 0, 0.1)":"transparent",borderColor:o(m)?"rgba(0, 0, 0, 0.2)":"transparent",transition:"background-color 0.2s, border-color 0.2s"})},null,8,["style"])]),_:1},8,["nodes","onDragover","onDragleave"]),l($e)],32)]))}},Ne=N(Le,[["__scopeId","data-v-841b770c"]]),Ve={class:"panel"},Me={key:0,class:"content-box"},Te=Object.assign({name:"VueFlowBasic"},{__name:"index",setup(t){const e=c("demo01"),i=c([{key:"demo01",title:"基础"},{key:"demo02",title:"节点"},{key:"demo03",title:"综合"},{key:"demo04",title:"拖放"}]),s=c(!1);return A(()=>s.value=!0),(d,_)=>{const m=R("b-tabs");return a(),r("div",Ve,[l(m,{modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=p=>e.value=p),data:i.value,type:"card"},null,8,["modelValue","data"]),s.value?(a(),r("div",Me,[e.value==="demo01"?(a(),h(U,{key:0})):g("",!0),e.value==="demo02"?(a(),h(J,{key:1})):g("",!0),e.value==="demo03"?(a(),h(he,{key:2})):g("",!0),e.value==="demo04"?(a(),h(Ne,{key:3})):g("",!0)])):g("",!0)])}}}),Ze=N(Te,[["__scopeId","data-v-1e8233ce"]]);export{Ze as default};
