import{h as v}from"./index-80424e34.js";import{D as f,u as V}from"./index-5e9d04a1.js";import{a5 as y,a as b,n as k,I as p,o as u,z as d,A as c,F as g,J as C,u as r,d as A,c as I,q as w}from"./vendor-e04737d2.js";const B={name:"KeyValueMapping",components:{DragHandle:f},props:{modelValue:{type:Array,default(){return[]}},showAdd:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(m,{emit:_}){const a=b([]),{listRef:e}=V(a,t);k(()=>m.modelValue,o=>{a.value=v(o)},{immediate:!0,deep:!0});function h(){t()}function t(){_("update:modelValue",a.value)}function i(){a.value.push({key:"",value:""}),t()}function n(o){a.value.splice(o,1),t()}return{listRef:e,list:a,inputChange:h,handleAdd:i,handleRemove:n}}},N={class:"key-value-wrapper"},R={class:"mapping-list",ref:"listRef"},U=["onClick"],x={key:0,class:"mt-8 mb-8"},K=w("\u65B0\u589E");function D(m,_,a,e,h,t){const i=p("drag-handle"),n=p("b-input"),o=p("b-button");return u(),d("div",N,[c("ul",R,[(u(!0),d(g,null,C(e.list,(F,l)=>(u(),d("li",{key:l,class:"mapping-item"},[r(i),c("label",null,[r(n,{modelValue:e.list[l].key,"onUpdate:modelValue":s=>e.list[l].key=s,placeholder:"key",clearable:"",onInput:e.inputChange},null,8,["modelValue","onUpdate:modelValue","onInput"])]),c("label",null,[r(n,{modelValue:e.list[l].value,"onUpdate:modelValue":s=>e.list[l].value=s,placeholder:"value",clearable:"",onInput:e.inputChange},null,8,["modelValue","onUpdate:modelValue","onInput"])]),c("i",{class:"destroy b-iconfont b-icon-delete",onClick:s=>e.handleRemove(l)},null,8,U)]))),128))],512),a.showAdd?(u(),d("div",x,[r(o,{icon:"plus-circle",type:"text",onClick:e.handleAdd},{default:A(()=>[K]),_:1},8,["onClick"])])):I("",!0)])}var E=y(B,[["render",D],["__scopeId","data-v-724c4a30"]]);export{E as K};
