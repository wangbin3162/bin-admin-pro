import{h as f}from"./index-16f1cb90.js";import{D as v,u as V}from"./index-ae3dd865.js";import{a5 as y,f as b,n as k,J as p,o as u,A as d,B as c,F as g,K as C,u as r,w,a as A,q as B}from"./vendor-f59c37f5.js";const I={name:"KeyValueMapping",components:{DragHandle:v},props:{modelValue:{type:Array,default(){return[]}},showAdd:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(m,{emit:_}){const a=b([]),{listRef:e}=V(a,t);k(()=>m.modelValue,o=>{a.value=f(o)},{immediate:!0,deep:!0});function h(){t()}function t(){_("update:modelValue",a.value)}function i(){a.value.push({key:"",value:""}),t()}function n(o){a.value.splice(o,1),t()}return{listRef:e,list:a,inputChange:h,handleAdd:i,handleRemove:n}}},K={class:"key-value-wrapper"},N={class:"mapping-list",ref:"listRef"},R=["onClick"],U={key:0,class:"mt-8 mb-8"},x=B("\u65B0\u589E");function D(m,_,a,e,h,t){const i=p("drag-handle"),n=p("b-input"),o=p("b-button");return u(),d("div",K,[c("ul",N,[(u(!0),d(g,null,C(e.list,(F,l)=>(u(),d("li",{key:l,class:"mapping-item"},[r(i),c("label",null,[r(n,{modelValue:e.list[l].key,"onUpdate:modelValue":s=>e.list[l].key=s,placeholder:"key",clearable:"",onInput:e.inputChange},null,8,["modelValue","onUpdate:modelValue","onInput"])]),c("label",null,[r(n,{modelValue:e.list[l].value,"onUpdate:modelValue":s=>e.list[l].value=s,placeholder:"value",clearable:"",onInput:e.inputChange},null,8,["modelValue","onUpdate:modelValue","onInput"])]),c("i",{class:"destroy b-iconfont b-icon-delete",onClick:s=>e.handleRemove(l)},null,8,R)]))),128))],512),a.showAdd?(u(),d("div",U,[r(o,{icon:"plus-circle",type:"text",onClick:e.handleAdd},{default:w(()=>[x]),_:1},8,["onClick"])])):A("",!0)])}var H=y(I,[["render",D],["__scopeId","data-v-724c4a30"]]);export{H as K};
