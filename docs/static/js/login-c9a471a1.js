import{a6 as z,e as g,ad as N,ae as R,f as i,g as h,j as v,l as e,F as j,P as B,c as t,x as a,M as f,q as w,a7 as F,a8 as U}from"./vendor-a6c5ad11.js";import{h as C,l as L,t as y,_ as O}from"./index-fda68aa4.js";import"./chunk-brace-6f23dcf5.js";import"./chunk-bin-ui-next-1e71edb3.js";import"./chunk-mockjs-c013c588.js";const T="/bin-admin-pro/static/png/login-code-8c841f1c.png";const u=c=>(F("data-v-6d2aba21"),c=c(),U(),c),E={class:"page-login"},M={class:"layer area"},P={class:"circles"},A={class:"layer"},D={class:"content",flex:"dir:top main:justify cross:center box:justify"},W=u(()=>e("div",{class:"header"},[e("p",{class:"header-motto"},"\u5F00\u7BB1\u5373\u7528\u7684\u4E2D\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF")],-1)),$={class:"main",flex:"dir:top main:center cross:center"},G=u(()=>e("div",{class:"page-login--logo"},[e("img",{src:O,alt:"logo"}),e("span",null,"BIN-ADMIN-PRO")],-1)),H={class:"form"},J=u(()=>e("span",{class:"login-code"},[e("img",{src:T,alt:"code"})],-1)),Q=u(()=>e("div",{class:"footer"},[e("p",{class:"footer-copyright"},[w(" bin admin pro \u7B80\u7248\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDFvue3 \u91CD\u6784\u7248 "),e("a",{href:"https://github.com/wangbin3162/bin-admin-pro",target:"_blank"},"github")])],-1)),X=Object.assign({name:"Login"},{__name:"login",setup(c){const s=g({username:"admin",password:"admin",captcha:"v9am"}),p=g(!1),x={username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}],captcha:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",trigger:"blur"}]},V=C(),k=N(),q=R(),b=g(null);function d(){b.value.validate(async r=>{if(r){try{p.value=!0;const{data:o}=await L(s.value);await K(o)}catch(o){y("login/requestFailed",o)}p.value=!1}})}async function K(r){if(r.code==="00"){const o=r.data.accessToken;await V.setToken(o);const l=q.query.redirect||"/";await k.push({path:l})}else y("login/requestFailed",r)}return(r,o)=>{const l=i("b-icon"),_=i("b-input"),m=i("b-form-item"),I=i("b-button"),S=i("b-form");return h(),v("div",E,[e("div",M,[e("ul",P,[(h(),v(j,null,B(10,n=>e("li",{key:n})),64))])]),e("div",A,[e("div",D,[W,e("div",$,[G,e("div",H,[t(S,{ref_key:"loginRef",ref:b,"label-position":"top",rules:x,model:s.value,size:"large"},{default:a(()=>[t(m,{prop:"username"},{default:a(()=>[t(_,{type:"text",modelValue:s.value.username,"onUpdate:modelValue":o[0]||(o[0]=n=>s.value.username=n),placeholder:"\u7528\u6237\u540D[admin,wang]",onKeydown:f(d,["enter"])},{prefix:a(()=>[t(l,{name:"user",size:"16"})]),_:1},8,["modelValue","onKeydown"])]),_:1}),t(m,{prop:"password"},{default:a(()=>[t(_,{type:"password",modelValue:s.value.password,"onUpdate:modelValue":o[1]||(o[1]=n=>s.value.password=n),placeholder:"\u5BC6\u7801[admin,123456]",onKeydown:f(d,["enter"])},{prefix:a(()=>[t(l,{name:"lock",size:"16"})]),_:1},8,["modelValue","onKeydown"])]),_:1}),t(m,{prop:"captcha"},{default:a(()=>[t(_,{type:"text",modelValue:s.value.captcha,"onUpdate:modelValue":o[2]||(o[2]=n=>s.value.captcha=n),placeholder:"- - - -",style:{width:"68%"},onKeydown:f(d,["enter"])},{prefix:a(()=>[t(l,{name:"bulb",size:"16"})]),_:1},8,["modelValue","onKeydown"]),J]),_:1}),t(I,{onClick:d,loading:p.value,type:"primary",class:"button-login",size:"large"},{default:a(()=>[w(" \u767B\u5F55 ")]),_:1},8,["loading"])]),_:1},8,["model"])])]),Q])])])}}}),se=z(X,[["__scopeId","data-v-6d2aba21"]]);export{se as default};
