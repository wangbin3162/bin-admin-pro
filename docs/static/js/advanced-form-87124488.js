import{a as D}from"./chunk-bin-ui-next-cc573c7a.js";import{a5 as S,a as z,y as Y,E as P,o as n,f as h,d as a,ab as j,I as i,u as e,A as U,z as y,t as k,J,q as m,F as q}from"./vendor-e04737d2.js";import{P as L}from"./page-wrapper-16ef4118.js";import"./chunk-brace-34d79ec3.js";import"./index-80424e34.js";const T={name:"AdvancedForm",components:{PageWrapper:L},setup(){const o=z(null),d=z({name:"",sex:"male",mail:"",birthday:"",taskName:"",taskDesc:"",taskDate:"",duty:"",execute:"",level:""}),f=z([{name:"\u738B\u5C0F\u660E",age:18,birthday:"1990-04-22",hobby:"1",address:"\u5317\u4EAC\u5E02\u671D\u9633\u533A\u828D\u836F\u5C45"},{name:"\u5F20\u5C0F\u521A",age:25,birthday:"1990-11-11",hobby:"1",address:"\u5317\u4EAC\u5E02\u6D77\u6DC0\u533A\u897F\u4E8C\u65D7"},{name:"\u674E\u5C0F\u7EA2",age:30,birthday:"1985-02-05",hobby:"3",address:"\u4E0A\u6D77\u5E02\u6D66\u4E1C\u65B0\u533A\u4E16\u7EAA\u5927\u9053"},{name:"\u5468\u5C0F\u4F1F",age:26,birthday:"1993-07-11",hobby:"1",address:"\u6DF1\u5733\u5E02\u5357\u5C71\u533A\u6DF1\u5357\u5927\u9053"},{name:"\u5F20\u5C0F\u53D1",age:33,birthday:"1999-12-12",hobby:"2",address:"\u5357\u4EAC\u5E02\u9F99\u7720\u5927\u9053"}]),t=Y({editName:"",editAge:"",editBirthday:"",editHobby:"",editAddress:"",editIndex:-1,editIsCreate:!1});function N(s,c){t.editName=s.name,t.editAge=s.age,t.editHobby=s.hobby,t.editAddress=s.address,t.editBirthday=s.birthday,t.editIndex=c}function B(s){const{editName:c,editAge:v,editBirthday:C,editHobby:I,editAddress:A}=t;if(c===""||!v||C===""||I===""||A===""){D.error("\u8BF7\u586B\u5199\u5B8C\u6574\u7684\u4FE1\u606F\uFF01");return}f.value[s].name=t.editName,f.value[s].age=t.editAge,f.value[s].birthday=j(t.editBirthday).format("YYYY-MM-DD"),f.value[s].hobby=t.editHobby,f.value[s].address=t.editAddress,t.editIndex=-1,t.editIsCreate=!1}function _(){const s={name:"",age:null,birthday:"",hobby:"",address:""};f.value.push(s),N(s,f.value.length-1),t.editIsCreate=!0}function u(s){f.value.splice(s,1),t.editIsCreate=!1}function b(){o.value.validate(s=>{if(s)D.success("success submit!!");else return D.error("error submit!!"),!1})}function V(){o.value.resetFields()}return{formRef:o,form:d,ruleValidate:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],sex:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B",trigger:"change"}],mail:[{required:!0,type:"email",message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",trigger:"blur"}],birthday:[{required:!0,type:"date",message:"\u8BF7\u9009\u62E9\u51FA\u751F\u65E5\u671F",trigger:"change"}],taskName:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",trigger:"blur"}],taskDesc:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u63CF\u8FF0",trigger:"blur"}],taskDate:[{required:!0,type:"date",message:"\u8BF7\u9009\u62E9\u4EFB\u52A1\u65E5\u671F",trigger:"change"}],duty:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D23\u4EFB\u4EBA",trigger:"blur"}],execute:[{required:!0,message:"\u8BF7\u8F93\u5165\u6267\u884C\u4EBA",trigger:"blur"}],level:[{required:!0,message:"\u52FE\u9009\u4EFB\u52A1\u7D27\u6025\u7A0B\u5EA6",trigger:"change"}]},columns:[{title:"\u59D3\u540D",slot:"name"},{title:"\u5E74\u9F84",slot:"age"},{title:"\u51FA\u751F\u65E5\u671F",slot:"birthday"},{title:"\u7231\u597D",slot:"hobby"},{title:"\u5730\u5740",slot:"address"},{title:"\u64CD\u4F5C",slot:"action"}],hobbyMap:{1:"\u5403\u996D",2:"\u7761\u89C9",3:"\u6253\u8C46\u8C46"},list:f,...P(t),submitForm:b,resetForm:V,handleSave:B,handleEdit:N,handleAdd:_,handleRemove:u}}},W={style:{padding:"10px 24px"}},x={style:{padding:"10px 24px"}},G=m("\u7D27\u6025"),K=m("\u6025"),O=m("\u4E00\u822C"),Q={style:{padding:"16px"}},X={key:1},Z={key:1},$={key:1},ee={key:1},ae={key:1},te={key:0},le=m("\u65B0\u589E "),de=m("\u5220\u9664 "),oe=m("\u4FDD\u5B58 "),se=m("\u53D6\u6D88 "),re={key:1},ne=m("\u64CD\u4F5C "),ie=m("\u5220\u9664 "),me={class:"mt-8"},ue=m("\u65B0\u589E"),be=m("\u91CD \u7F6E"),pe=m("\u63D0 \u4EA4");function fe(o,d,f,t,N,B){const _=i("b-input"),u=i("b-form-item"),b=i("b-col"),V=i("b-option"),s=i("b-select"),c=i("b-date-picker"),v=i("b-row"),C=i("b-collapse-wrap"),I=i("b-tag"),A=i("b-radio"),w=i("b-radio-group"),H=i("b-input-number"),g=i("b-button"),M=i("b-table"),R=i("b-form"),E=i("page-wrapper");return n(),h(E,{desc:"\u5F53\u4E00\u6B21\u6027\u63D0\u4EA4\u5927\u91CF\u6570\u636E\u65F6\uFF0C\u53EF\u4F7F\u7528\u9AD8\u7EA7\u8868\u5355\u3002"},{rightFooter:a(()=>[e(g,{onClick:t.resetForm},{default:a(()=>[be]),_:1},8,["onClick"]),e(g,{type:"primary",onClick:t.submitForm},{default:a(()=>[pe]),_:1},8,["onClick"])]),default:a(()=>[e(R,{model:t.form,rules:t.ruleValidate,"status-icon":"","label-width":"85px",ref:"formRef","label-position":"top"},{default:a(()=>[e(C,{title:"\u57FA\u672C\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",W,[e(v,{gutter:24},{default:a(()=>[e(b,{span:"6"},{default:a(()=>[e(u,{prop:"name",label:"\u59D3\u540D"},{default:a(()=>[e(_,{modelValue:t.form.name,"onUpdate:modelValue":d[0]||(d[0]=l=>t.form.name=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{label:"\u6027\u522B",prop:"sex"},{default:a(()=>[e(s,{modelValue:t.form.sex,"onUpdate:modelValue":d[1]||(d[1]=l=>t.form.sex=l),placeholder:"\u8BF7\u9009\u62E9\u6237\u7C4D\u5730"},{default:a(()=>[e(V,{label:"\u7537",value:"male"}),e(V,{label:"\u5973",value:"female"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{prop:"mail",label:"\u90AE\u7BB1"},{default:a(()=>[e(_,{modelValue:t.form.mail,"onUpdate:modelValue":d[2]||(d[2]=l=>t.form.mail=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"6"},{default:a(()=>[e(u,{label:"\u51FA\u751F\u65E5\u671F",prop:"birthday"},{default:a(()=>[e(c,{modelValue:t.form.birthday,"onUpdate:modelValue":d[3]||(d[3]=l=>t.form.birthday=l),type:"date",placeholder:"\u51FA\u751F\u65E5\u671F"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{title:"\u4EFB\u52A1\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",x,[e(v,{gutter:32},{default:a(()=>[e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskName",label:"\u4EFB\u52A1\u540D\u79F0"},{default:a(()=>[e(_,{modelValue:t.form.taskName,"onUpdate:modelValue":d[4]||(d[4]=l=>t.form.taskName=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskDesc",label:"\u4EFB\u52A1\u63CF\u8FF0"},{default:a(()=>[e(_,{modelValue:t.form.taskDesc,"onUpdate:modelValue":d[5]||(d[5]=l=>t.form.taskDesc=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"taskDate",label:"\u521B\u5EFA\u65E5\u671F"},{default:a(()=>[e(c,{modelValue:t.form.taskDate,"onUpdate:modelValue":d[6]||(d[6]=l=>t.form.taskDate=l),type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{gutter:30},{default:a(()=>[e(b,{span:"8"},{default:a(()=>[e(u,{prop:"duty",label:"\u8D23\u4EFB\u4EBA"},{default:a(()=>[e(_,{modelValue:t.form.duty,"onUpdate:modelValue":d[7]||(d[7]=l=>t.form.duty=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"execute",label:"\u6267\u884C\u4EBA"},{default:a(()=>[e(_,{modelValue:t.form.execute,"onUpdate:modelValue":d[8]||(d[8]=l=>t.form.execute=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,{span:"8"},{default:a(()=>[e(u,{prop:"level",label:"\u7D27\u6025\u7A0B\u5EA6"},{default:a(()=>[e(w,{modelValue:t.form.level,"onUpdate:modelValue":d[9]||(d[9]=l=>t.form.level=l)},{default:a(()=>[e(A,{label:"0"},{default:a(()=>[e(I,{type:"danger"},{default:a(()=>[G]),_:1})]),_:1}),e(A,{label:"1"},{default:a(()=>[e(I,{type:"blue"},{default:a(()=>[K]),_:1})]),_:1}),e(A,{label:"2"},{default:a(()=>[e(I,{type:"success"},{default:a(()=>[O]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),e(C,{title:"\u4EBA\u5458\u4FE1\u606F",shadow:"none"},{default:a(()=>[U("div",Q,[e(M,{columns:t.columns,data:t.list},{name:a(({index:l,row:p})=>[o.editIndex===l?(n(),h(_,{key:0,type:"text",modelValue:o.editName,"onUpdate:modelValue":d[10]||(d[10]=r=>o.editName=r),size:"small",clearable:""},null,8,["modelValue"])):(n(),y("span",X,k(p.name),1))]),age:a(({index:l,row:p})=>[o.editIndex===l?(n(),h(H,{key:0,type:"text",modelValue:o.editAge,"onUpdate:modelValue":d[11]||(d[11]=r=>o.editAge=r),size:"small"},null,8,["modelValue"])):(n(),y("span",Z,k(p.age),1))]),birthday:a(({index:l,row:p})=>[o.editIndex===l?(n(),h(c,{key:0,size:"small",modelValue:o.editBirthday,"onUpdate:modelValue":d[12]||(d[12]=r=>o.editBirthday=r),type:"date",placeholder:"\u9009\u62E9\u65E5\u671F"},null,8,["modelValue"])):(n(),y("span",$,k(p.birthday),1))]),hobby:a(({index:l,row:p})=>[o.editIndex===l?(n(),h(s,{key:0,modelValue:o.editHobby,"onUpdate:modelValue":d[13]||(d[13]=r=>o.editHobby=r),clearable:"",size:"small"},{default:a(()=>[(n(!0),y(q,null,J(t.hobbyMap,(r,F)=>(n(),h(V,{key:F,value:F,label:r},{default:a(()=>[m(k(r),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])):(n(),y("span",ee,k(t.hobbyMap[p.hobby]),1))]),address:a(({index:l,row:p})=>[o.editIndex===l?(n(),h(_,{key:0,type:"text",modelValue:o.editAddress,"onUpdate:modelValue":d[14]||(d[14]=r=>o.editAddress=r),size:"small"},null,8,["modelValue"])):(n(),y("span",ae,k(p.address),1))]),action:a(({index:l,row:p})=>[o.editIndex===l?(n(),y("div",te,[o.editIsCreate?(n(),y(q,{key:0},[e(g,{onClick:r=>t.handleSave(l),size:"mini",type:"success",transparent:""},{default:a(()=>[le]),_:2},1032,["onClick"]),e(g,{type:"danger",size:"mini",transparent:"",onClick:r=>t.handleRemove(l)},{default:a(()=>[de]),_:2},1032,["onClick"])],64)):(n(),y(q,{key:1},[e(g,{size:"mini",type:"success",transparent:"",onClick:r=>t.handleSave(l)},{default:a(()=>[oe]),_:2},1032,["onClick"]),e(g,{size:"mini",type:"primary",transparent:"",onClick:d[15]||(d[15]=r=>o.editIndex=-1)},{default:a(()=>[se]),_:1})],64))])):(n(),y("div",re,[e(g,{type:o.editIsCreate?"default":"primary",size:"mini",transparent:!o.editIsCreate,onClick:r=>t.handleEdit(p,l),disabled:o.editIsCreate},{default:a(()=>[ne]),_:2},1032,["type","transparent","onClick","disabled"]),e(g,{type:o.editIsCreate?"default":"danger",size:"mini",transparent:!o.editIsCreate,onClick:r=>t.handleRemove(l),disabled:o.editIsCreate},{default:a(()=>[ie]),_:2},1032,["type","transparent","onClick","disabled"])]))]),_:1},8,["columns","data"]),U("div",me,[e(g,{icon:"plus",dashed:"",style:{width:"100%"},onClick:t.handleAdd,disabled:o.editIsCreate},{default:a(()=>[ue]),_:1},8,["onClick","disabled"])])])]),_:1})]),_:1},8,["model","rules"])]),_:1})}var ke=S(T,[["render",fe]]);export{ke as default};
