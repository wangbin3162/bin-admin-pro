(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Menu"],{"4a4d":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),l=Object(n["fb"])("data-v-20a7874a");Object(n["G"])("data-v-20a7874a");var c={class:"table-menu"},o=Object(n["l"])("增加根节点"),r=Object(n["l"])("增加子节点"),u={class:"table-menu-right"},i={flex:"main:justify cross:center",style:{"font-weight":"normal"}},d={class:"top"},b=Object(n["m"])("span",{class:"ml-5"},"编辑菜单",-1),m={style:{position:"relative","min-height":"100px",overflow:"hidden"}},f={style:{position:"absolute",width:"100%"}},s=Object(n["l"])("点选左侧部门，进行编辑操作"),p={key:0,class:"pt-8"},j=Object(n["l"])("重置"),O=Object(n["l"])("系统菜单根节点不可编辑");Object(n["E"])();var v=l((function(e,t,a,v,h,g){var y=Object(n["M"])("b-dropdown-item"),N=Object(n["M"])("base-tree"),_=Object(n["M"])("iconfont"),M=Object(n["M"])("b-alert"),w=Object(n["M"])("b-input"),V=Object(n["M"])("b-form-item"),C=Object(n["M"])("b-icon-select"),k=Object(n["M"])("b-button"),S=Object(n["M"])("b-form"),R=Object(n["M"])("b-col"),F=Object(n["M"])("b-row"),I=Object(n["M"])("b-card"),T=Object(n["M"])("page-wrapper");return Object(n["D"])(),Object(n["i"])(T,{desc:"页面内容为Mock数据，仅作示例使用。"},{default:l((function(){return[Object(n["m"])("div",c,[Object(n["m"])(N,{ref:"treeRef","tree-title":"菜单列表","show-filter":"","title-key":"title",fetch:v.getMenuTree,onSelectChange:v.handleSelect,onCommand:v.handleCommand},{ctrl:l((function(){return[Object(n["m"])(y,{name:"root",divided:""},{default:l((function(){return[o]})),_:1}),Object(n["m"])(y,{name:"child",disabled:!v.currentNode},{default:l((function(){return[r]})),_:1},8,["disabled"])]})),_:1},8,["fetch","onSelectChange","onCommand"]),Object(n["m"])("div",u,[Object(n["m"])(I,{bordered:!1,class:"card-panel",shadow:"never"},{header:l((function(){return[Object(n["m"])("div",i,[Object(n["m"])("div",d,[Object(n["m"])(_,{icon:"menu",color:"primary",bg:"",round:""}),b])])]})),default:l((function(){return[Object(n["m"])("div",m,[Object(n["m"])(n["e"],{name:"fade-in"},{default:l((function(){return[Object(n["m"])("div",f,[Object(n["cb"])(Object(n["m"])(M,null,{default:l((function(){return[s]})),_:1},512),[[n["Y"],v.pageStatus.isNormal]])])]})),_:1}),Object(n["m"])(n["e"],{name:"fade-transverse"},{default:l((function(){return[v.pageStatus.isNormal?Object(n["j"])("",!0):(Object(n["D"])(),Object(n["i"])("div",p,["root"!==v.copyNode.path?(Object(n["D"])(),Object(n["i"])(F,{key:0},{default:l((function(){return[Object(n["m"])(R,{span:"14"},{default:l((function(){return[Object(n["m"])(S,{ref:"formRef",model:v.copyNode,rules:v.ruleValidate,"label-width":"100px","label-suffix":":"},{default:l((function(){return[Object(n["m"])(V,{label:"父级菜单"},{default:l((function(){return[Object(n["m"])(w,{modelValue:v.copyNode.parentName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return v.copyNode.parentName=e}),disabled:""},null,8,["modelValue"])]})),_:1}),Object(n["m"])(V,{label:"菜单名称",prop:"title"},{default:l((function(){return[Object(n["m"])(w,{modelValue:v.copyNode.title,"onUpdate:modelValue":t[2]||(t[2]=function(e){return v.copyNode.title=e}),placeholder:"输入菜单名称",clearable:""},null,8,["modelValue"])]})),_:1}),Object(n["m"])(V,{label:"菜单路径",prop:"path"},{default:l((function(){return[Object(n["m"])(w,{modelValue:v.copyNode.path,"onUpdate:modelValue":t[3]||(t[3]=function(e){return v.copyNode.path=e}),placeholder:"输入菜单路径",clearable:""},null,8,["modelValue"])]})),_:1}),Object(n["m"])(V,{label:"菜单图标"},{default:l((function(){return[Object(n["m"])(C,{modelValue:v.copyNode.icon,"onUpdate:modelValue":t[4]||(t[4]=function(e){return v.copyNode.icon=e})},null,8,["modelValue"])]})),_:1}),Object(n["m"])(V,null,{default:l((function(){return[Object(n["m"])(k,{type:"primary",onClick:v.handleSubmit,loading:v.editLoading},{default:l((function(){return[Object(n["l"])(Object(n["Q"])(v.pageStatus.isCreate?"提交数据":"更新数据"),1)]})),_:1},8,["onClick","loading"]),Object(n["m"])(k,{onClick:v.handleResetForm},{default:l((function(){return[j]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})]})),_:1})):(Object(n["D"])(),Object(n["i"])(M,{key:1,type:"error","show-icon":""},{default:l((function(){return[O]})),_:1}))]))]})),_:1})])]})),_:1})])])]})),_:1})})),h=a("5530"),g=a("77d9"),y=a("0c6d");function N(){return Object(y["b"])({url:"/menu/tree",method:"get"})}var _=a("8de1"),M=a("49bd"),w=a("ca00"),V=a("a8d7"),C=a("8765"),k={name:"Menu",components:{Iconfont:M["a"],BaseTree:_["a"],PageWrapper:g["a"]},setup:function(){var e=Object(n["I"])(null),t=Object(n["I"])(null),a=Object(n["I"])({}),l=Object(n["I"])({}),c=Object(V["a"])(),o=c.formRef,r=c.editStatus,u=c.pageStatus,i=c.editLoading,d=c.openCreate,b=c.openEdit,m=c.backNormal,f=c.submitForm,s=c.resetForm;function p(e,a){e.selected?(t.value=e,l.value=a,y()):v()}function j(e){if("root"===e&&g(),"child"===e){g();var n=t.value;a.value.parentPath=n.path,a.value.parentName=n.title}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"edit";if("edit"!==e)a.value={path:"",title:"",icon:"",parentPath:"",parentName:void 0};else{var n=l.value,c=t.value,o=n[c.nodeKey].parent,r=o||0===o?n[o].node:{};a.value=c?Object(h["a"])(Object(h["a"])({},Object(w["b"])(c)),{},{parentPath:0===o?"":r.path,parentName:r.title}):{}}}function v(){t.value=null,l.value=null,a.value={},m()}function g(){O("create"),d()}function y(){O("edit"),b()}function _(){f((function(){i.value=!0;var a=u.value;setTimeout((function(){C["b"].success("".concat(a.isCreate?"新增":"修改","成功！")),m();var n=t.value?[t.value.nodeKey]:[];e.value&&e.value.reloadTree(n),i.value=!1}),1e3)}))}function M(){O(r.value),s()}return{treeRef:e,getMenuTree:N,currentNode:t,copyNode:a,handleSelect:p,handleSubmit:_,handleResetForm:M,handleCommand:j,formRef:o,pageStatus:u,editLoading:i,submitForm:f,resetForm:s,ruleValidate:{path:[{required:!0,message:"菜单路径必填",trigger:"blur"}],title:[{required:!0,message:"菜单名称必填",trigger:"blur"}]}}}};a("abf9");k.render=v,k.__scopeId="data-v-20a7874a";t["default"]=k},abf9:function(e,t,a){"use strict";a("c4af")},c4af:function(e,t,a){}}]);