import{aH as B,o as c,a as g,b as p,F as x,Q as L,I as f,L as i,K as u,aM as h,aN as S,aZ as R,a_ as z,f as P,t as A,r as b,W as T,j as k,w as m,aP as G,H as U,aS as q,a8 as O,m as H,R as $,l as D,aJ as j,aK as E,aL as M,h as W,aI as F,aO as I,Y,aC as X,p as K,i as C}from"./vendor-B7whOB5j.js";import"./chunk-brace-DF1jSkZr.js";const N={sumi:"#1C1C1C",gofun:"#FFFFFB",byakuroku:"#A8D8B9",mizu:"#81C7D4",asagi:"#33A6B8",ukon:"#EFBB24",mushikuri:"#D9CD90",hiwa:"#BEC23F",ichigo:"#B5495B",kurenai:"#CB1B45",syojyohi:"#E83015",konjyo:"#113285",fuji:"#8B81C3",ayame:"#6F3381",torinoko:"#DAC9A6",kurotsurubami:"#0B1013",ohni:"#F05E1C",kokikuchinashi:"#FB9966",beniukon:"#E98B2A",sakura:"#FEDFE1",toki:"#EEA9A9"},J=Object.keys(N).map(e=>({name:e,value:N[e]})),Q={class:"color-selector nodrag nopan"},Z=["title","onClick"],ee={__name:"ColorSelectorNode",props:{id:{type:String,required:!0}},setup(e){const o=e,{updateNodeData:n}=B();function s(t){n(o.id,{color:t,isGradient:!1})}function l(){n(o.id,{isGradient:!0})}return(t,d)=>(c(),g(x,null,[d[0]||(d[0]=p("div",null,"Select a color",-1)),p("div",Q,[(c(!0),g(x,null,L(i(J),({name:a,value:y})=>(c(),g("button",{key:a,title:a,style:f({backgroundColor:y}),type:"button",onClick:r=>s(y)},null,12,Z))),128)),p("button",{class:"animated-bg-gradient",title:"gradient",type:"button",onClick:l})]),u(i(S),{id:"a",type:"source",position:i(h).Right},null,8,["position"])],64))}},te={__name:"OutputNode",setup(e){const o=R({type:"target"}),n=z(()=>{var s;return(s=o.value[0])==null?void 0:s.source});return(s,l)=>{var t,d,a,y,r,_;return c(),g(x,null,[u(i(S),{type:"target",position:i(h).Left,style:f({backgroundColor:(d=(t=i(n))==null?void 0:t.data)==null?void 0:d.color,filter:"invert(100%)"})},null,8,["position","style"]),P(" "+A((y=(a=i(n))==null?void 0:a.data)!=null&&y.isGradient?"GRADIENT":(_=(r=i(n))==null?void 0:r.data)==null?void 0:_.color),1)],64)}}},oe={__name:"index",setup(e){const o=b([{id:"1",type:"color-selector",data:{color:N.ayame},position:{x:0,y:50}},{id:"2",type:"output",position:{x:350,y:114},targetPosition:h.Left}]),n=T(()=>o.value[0].data),s=b([{id:"e1a-2",source:"1",sourceHandle:"a",target:"2",animated:!0,style:()=>{var d;return{stroke:(d=n.value)==null?void 0:d.color,filter:"invert(100%)"}}}]);function l(d){switch(d.type){case"input":return"#0041d0";case"color-selector":return N.sumi;case"output":return"#ff0072";default:return"#eee"}}function t(d){var a;return d.type==="color-selector"?(a=n.value)==null?void 0:a.color:"#fff"}return(d,a)=>{var y,r;return c(),k(i(q),{nodes:o.value,"onUpdate:nodes":a[0]||(a[0]=_=>o.value=_),edges:s.value,class:U(["custom-node-flow",[(y=n.value)!=null&&y.isGradient?"animated-bg-gradient":""]]),style:f({backgroundColor:(r=n.value)==null?void 0:r.color}),"default-viewport":{zoom:1.5},"fit-view-on-init":""},{"node-color-selector":m(({id:_})=>[u(ee,{id:_},null,8,["id"])]),"node-output":m(()=>[u(te)]),default:m(()=>[u(i(G),{"node-stroke-color":l,"node-color":t})]),_:1},8,["nodes","edges","class","style"])}}},ae={class:"flow-wraper"},ne={class:"updatenode__controls"},re={class:"updatenode__checkboxwrapper"},se={__name:"index",setup(e){const{onPaneReady:o,findNode:n,updateNode:s}=B(),l=H({bg:"#eeeeee",label:"Node 1",hidden:!1}),t=b([{id:"1",label:l.label,style:{backgroundColor:l.bg},hidden:l.hidden,position:{x:100,y:100}},{id:"2",label:"Node 2",position:{x:100,y:200}}]),d=b([{id:"e1-2",source:"1",target:"2"}]);o(({fitView:y})=>{y()});function a(){s(t.value[0].id,{label:l.label,style:{backgroundColor:l.bg},hidden:l.hidden})}return(y,r)=>{const _=$("b-input"),w=$("b-color-picker"),V=$("b-checkbox");return c(),g("div",ae,[u(i(q),{nodes:t.value,edges:d.value},{default:m(()=>[p("div",ne,[r[4]||(r[4]=p("label",null,"label:",-1)),u(_,{modelValue:l.label,"onUpdate:modelValue":r[0]||(r[0]=v=>l.label=v),onInput:a},null,8,["modelValue"]),r[5]||(r[5]=p("label",{class:"updatenode__bglabel"},"background:",-1)),u(w,{modelValue:l.bg,"onUpdate:modelValue":r[1]||(r[1]=v=>l.bg=v),style:{"background-color":"#fff"},onChange:a},null,8,["modelValue"]),p("div",re,[r[3]||(r[3]=p("label",null,"hidden：",-1)),u(V,{modelValue:l.hidden,"onUpdate:modelValue":r[2]||(r[2]=v=>l.hidden=v),onChange:a},null,8,["modelValue"])])])]),_:1},8,["nodes","edges"])])}}},le=O(se,[["__scopeId","data-v-a1125433"]]),ie={inheritAttrs:!1},ue=Object.assign(ie,{__name:"EdgeWithButton",props:{id:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,required:!0},targetPosition:{type:String,required:!0},markerEnd:{type:String,required:!1},style:{type:Object,required:!1}},setup(e){const o=e,{removeEdges:n}=B(),s=D(()=>j(o));return(l,t)=>(c(),g(x,null,[u(i(E),{id:e.id,style:f(e.style),path:s.value[0],"marker-end":e.markerEnd},null,8,["id","style","path","marker-end"]),u(i(M),null,{default:m(()=>[p("div",{style:f({pointerEvents:"all",position:"absolute",transform:`translate(-50%, -50%) translate(${s.value[1]}px,${s.value[2]}px)`}),class:"nodrag nopan"},[p("button",{class:"edgebutton",onClick:t[0]||(t[0]=d=>i(n)(e.id))},"×")],4)]),_:1})],64))}}),de={inheritAttrs:!1},ce=Object.assign(de,{__name:"CustomEdge",props:{id:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,required:!0},targetPosition:{type:String,required:!0},data:{type:Object,required:!1},markerEnd:{type:String,required:!1},style:{type:Object,required:!1}},setup(e){const o=e,n=D(()=>j(o));return(s,l)=>(c(),k(i(E),{id:e.id,style:f(e.style),path:n.value[0],"marker-end":e.markerEnd,label:e.data.text,"label-x":n.value[1],"label-y":n.value[2],"label-style":{fill:"white"},"label-show-bg":!0,"label-bg-style":{fill:"red"},"label-bg-padding":[2,4],"label-bg-border-radius":2},null,8,["id","style","path","marker-end","label","label-x","label-y"]))}}),pe={dy:"10",x:"0"},ye={__name:"CustomEdgeLabel",props:{label:{type:String,required:!0}},setup(e){const o=e;return(n,s)=>(c(),g("tspan",pe,A(o.label),1))}},ge={class:"flow-wraper"},me={__name:"index",setup(e){const o=b([{id:"1",type:"input",label:"Start",position:{x:50,y:0},style:{borderColor:"#10b981"}},{id:"2",label:"Node 2",position:{x:150,y:100}},{id:"2a",label:"Node 2a",position:{x:0,y:180}},{id:"3",label:"Node 3",position:{x:250,y:200}},{id:"4",label:"Node 4",position:{x:400,y:300}},{id:"3a",label:"Node 3a",position:{x:175,y:300}},{id:"5",label:"Node 5",position:{x:200,y:400}},{id:"6",type:"output",label:"Output 6",position:{x:0,y:350}},{id:"7",type:"output",label:"Output 7",position:{x:50,y:600}},{id:"8",type:"output",label:"Output 8",position:{x:350,y:600}},{id:"9",type:"output",label:"Output 9",position:{x:550,y:400}}]),n=b([{id:"e1-2",source:"1",target:"2",label:"bezier edge (default)",class:"normal-edge"},{id:"e2-2a",source:"2",target:"2a",type:"smoothstep",label:"smoothstep edge"},{id:"e2-3",source:"2",target:"3",type:"step",label:"step edge"},{id:"e3-4",source:"3",target:"4",type:"straight",label:"straight edge"},{id:"e3-3a",source:"3",target:"3a",type:"straight",label:"label only edge",style:{stroke:"none"}},{id:"e3-5",source:"4",target:"5",animated:!0,label:"animated styled edge",style:{stroke:"#10b981"}},{id:"e2a-6",source:"2a",target:"6",label:()=>W(ye,{label:"custom label text"}),labelStyle:{fill:"#10b981",fontWeight:700},markerEnd:F.Arrow},{id:"e5-7",source:"5",target:"7",label:"label with bg",labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#FFCC00",color:"#fff",fillOpacity:.7},markerEnd:F.ArrowClosed},{id:"e5-8",source:"5",target:"8",type:"button",data:{text:"custom edge"},markerEnd:F.ArrowClosed},{id:"e4-9",source:"4",target:"9",type:"custom",data:{text:"styled custom edge label"}}]);return(s,l)=>(c(),g("div",ge,[u(i(q),{nodes:o.value,edges:n.value,"fit-view-on-init":""},{"edge-button":m(t=>[u(ue,{id:t.id,"source-x":t.sourceX,"source-y":t.sourceY,"target-x":t.targetX,"target-y":t.targetY,"source-position":t.sourcePosition,"target-position":t.targetPosition,"marker-end":t.markerEnd,style:f(t.style)},null,8,["id","source-x","source-y","target-x","target-y","source-position","target-position","marker-end","style"])]),"edge-custom":m(t=>[u(ce,{id:t.id,"source-x":t.sourceX,"source-y":t.sourceY,"target-x":t.targetX,"target-y":t.targetY,"source-position":t.sourcePosition,"target-position":t.targetPosition,data:t.data,"marker-end":t.markerEnd,style:f(t.style)},null,8,["id","source-x","source-y","target-x","target-y","source-position","target-position","data","marker-end","style"])]),default:m(()=>[u(i(I))]),_:1},8,["nodes","edges"])]))}},be={inheritAttrs:!1},_e=Object.assign(be,{__name:"CustomInput",props:{isValidTargetPos:{type:Function,required:!1}},setup(e){const o=e;return(n,s)=>(c(),g(x,null,[s[0]||(s[0]=p("div",null,"只能连接B节点",-1)),u(i(S),{type:"source",position:i(h).Right,"is-valid-connection":o.isValidTargetPos},null,8,["position","is-valid-connection"])],64))}}),fe={inheritAttrs:!1},ke=Object.assign(fe,{__name:"CustomNode",props:{id:{type:String,required:!0},isValidSourcePos:{type:Function,required:!1}},setup(e){const o=e;return(n,s)=>(c(),g(x,null,[u(i(S),{type:"target",position:i(h).Left,"is-valid-connection":o.isValidSourcePos},null,8,["position","is-valid-connection"]),p("div",null,A(o.id),1)],64))}}),xe=["d"],ve=["cx","cy"],he={__name:"CustomLine",props:{sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0}},setup(e){return(o,n)=>(c(),g("g",null,[p("path",{class:"vue-flow__connection animated",fill:"none",stroke:"#6F3381","stroke-width":1.5,d:`M${e.sourceX},${e.sourceY} C ${e.sourceX} ${e.targetY} ${e.sourceX} ${e.targetY} ${e.targetX},${e.targetY}`},null,8,xe),p("circle",{cx:e.targetX,cy:e.targetY,fill:"#fff",r:4,stroke:"#6F3381","stroke-width":1.5},null,8,ve)]))}},Ce={class:"flow-wraper"},$e={__name:"index",setup(e){const{addEdges:o}=B(),n=b([{id:"0",type:"custominput",position:{x:0,y:150},isValidTargetPos:a=>a.target==="B"},{id:"A",type:"custom",position:{x:250,y:0},isValidSourcePos:()=>!1},{id:"B",type:"custom",position:{x:250,y:150},isValidSourcePos:a=>a.target==="B"},{id:"C",type:"custom",position:{x:250,y:300},isValidSourcePos:a=>a.target==="B"}]),s=b([]);function l({nodeId:a,handleType:y}){return console.log("on connect start",{nodeId:a,handleType:y})}function t(a){return console.log("on connect end",a)}function d(a){console.log("on connect",a),o({...a,animated:!0,style:{stroke:"#6F3381",strokeWidth:1.5}})}return(a,y)=>(c(),g("div",Ce,[u(i(q),{nodes:n.value,edges:s.value,"fit-view-on-init":"",class:"validationflow",onConnect:d,onConnectStart:l,onConnectEnd:t},{"node-custominput":m(r=>[u(_e,Y(X(r)),null,16)]),"node-custom":m(r=>[u(ke,Y(X(r)),null,16)]),"connection-line":m(({sourceX:r,sourceY:_,targetX:w,targetY:V})=>[u(he,{"source-x":r,"source-y":_,"target-x":w,"target-y":V},null,8,["source-x","source-y","target-x","target-y"])]),default:m(()=>[u(i(I))]),_:1},8,["nodes","edges"])]))}},Ne=O($e,[["__scopeId","data-v-3767792d"]]),Be={class:"panel"},Se={class:"content-box"},qe=Object.assign({name:"VueFlowAdvance"},{__name:"index",setup(e){const o=b("demo01"),n=b([{key:"demo01",title:"自定义节点"},{key:"demo02",title:"节点更新"},{key:"demo03",title:"自定义连线"},{key:"demo04",title:"连线验证"}]),s=b(!1);return K(()=>s.value=!0),(l,t)=>{const d=$("b-tabs");return c(),g("div",Be,[u(d,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a),data:n.value,type:"card"},null,8,["modelValue","data"]),p("div",Se,[o.value==="demo01"?(c(),k(oe,{key:0})):C("",!0),o.value==="demo02"?(c(),k(le,{key:1})):C("",!0),o.value==="demo03"?(c(),k(me,{key:2})):C("",!0),o.value==="demo04"?(c(),k(Ne,{key:3})):C("",!0)])])}}}),Fe=O(qe,[["__scopeId","data-v-c6cdb669"]]);export{Fe as default};
