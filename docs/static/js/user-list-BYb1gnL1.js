import{u as x}from"./useTable-D2J07cK1.js";import{c as w}from"./mock.api-DnsI1FHv.js";import{n as L}from"./chunk-bin-ui-design-QY08qtjO.js";import{a8 as S,m as q,r as N,n as R,o as f,j as B,w as s,K as t,b as l,a as v,Q as D,F as M,R as r,t as d,f as p,i as V}from"./vendor-B7whOB5j.js";import"./index-CnBue4Tw.js";import"./chunk-brace-DF1jSkZr.js";import"./avatar04-nXH9RmAY.js";const I={name:"UserList",setup(){const y=q({page:1,size:10}),a=N([]),{loading:C,list:o,total:k,getListData:h,pageChange:c,pageSizeChange:i}=x(w,y);function m(n){L.success(`复制ID：${n}成功！`)}function _(n,u){a.value[u].roles=n}return R(()=>o.value,n=>{a.value=n.map(u=>({...u,expand:!1}))}),h(),{query:y,roleMap:{admin:"管理员",user:"普通用户",op:"实施人员"},roleMapStyle:{admin:"purple",user:"blue",op:"volcano"},loading:C,list:o,copyList:a,total:k,pageChange:c,pageSizeChange:i,handleCopy:m,setRole:_}}},U={class:"list-wrap"},F={class:"list-item-meta"},T=["src"],j={class:"list-item-meta-name"},E={class:"list-item-id"},K={class:"list-item-email mt-8"},Q={class:"list-item-action mt-8",flex:"cross:center"},A={key:0,class:"list-item-action mt-8"},G={class:"mt-16 t-center"};function H(y,a,C,o,k,h){const c=r("b-skeleton"),i=r("b-divider"),m=r("b-button"),_=r("b-tag"),n=r("action-button"),u=r("b-page"),z=r("page-wrapper");return f(),B(z,{desc:"包含信息的列表，带有常规操作。本页面也用作示例，实际操作以业务需求自行编写。",bg:""},{default:s(()=>[t(c,{loading:o.loading},{template:s(()=>[t(c,{animation:""}),t(i),t(c,{animation:""}),t(i),t(c,{animation:""}),t(i)]),default:s(()=>[l("ul",U,[(f(!0),v(M,null,D(o.copyList,(e,b)=>(f(),v("li",{key:e.id,class:"user-list-item"},[l("div",F,[l("img",{src:e.avatar,alt:"",class:"avatar"},null,8,T),l("div",j,d(e.realName),1)]),l("div",E,[l("span",null,"ID:"+d(e.id),1),t(m,{size:"mini",icon:"file-copy",onClick:g=>o.handleCopy(e.id)},{default:s(()=>a[1]||(a[1]=[p("复制")])),_:2},1032,["onClick"])]),l("div",K,"邮箱地址："+d(e.email),1),l("div",Q,[t(_,{type:e.verify?"success":"danger"},{default:s(()=>[p(d(e.verify?"已认证":"未认证"),1)]),_:2},1032,["type"]),t(_,{type:o.roleMapStyle[e.roles]},{default:s(()=>[p(d(o.roleMap[e.roles]),1)]),_:2},1032,["type"]),t(m,{icon:e.expand?"minus-square":"plus-square",size:"small",style:{"margin-left":"16px"},onClick:g=>e.expand=!e.expand},{default:s(()=>[p(d(e.expand?"收起操作":"展开操作"),1)]),_:2},1032,["icon","onClick"])]),e.expand?(f(),v("div",A,[t(n,{"button-props":{type:e.roles!=="admin"?"primary":null,size:"mini",disabled:e.roles==="admin"},onClick:g=>o.setRole("admin",b),message:"设置角色为管理员吗？",confirm:""},{default:s(()=>a[2]||(a[2]=[p(" 管理员 ")])),_:2},1032,["button-props","onClick"]),t(i,{type:"vertical"}),t(n,{"button-props":{type:e.roles!=="user"?"primary":null,size:"mini",disabled:e.roles==="user"},onClick:g=>o.setRole("user",b),message:"设置角色为普通用户吗？",confirm:""},{default:s(()=>a[3]||(a[3]=[p(" 普通用户 ")])),_:2},1032,["button-props","onClick"]),t(i,{type:"vertical"}),t(n,{"button-props":{type:e.roles!=="op"?"primary":null,size:"mini",disabled:e.roles==="op"},onClick:g=>o.setRole("op",b),message:"设置角色为实施人员吗？",confirm:""},{default:s(()=>a[4]||(a[4]=[p(" 实施人员 ")])),_:2},1032,["button-props","onClick"])])):V("",!0)]))),128))])]),_:1},8,["loading"]),l("div",G,[t(u,{total:o.total,current:o.query.page,"onUpdate:current":a[0]||(a[0]=e=>o.query.page=e),"page-size":o.query.size,"show-elevator":"","show-sizer":"","show-total":"",onChange:o.pageChange,onSizeChange:o.pageSizeChange},null,8,["total","current","page-size","onChange","onSizeChange"])])]),_:1})}const $=S(I,[["render",H],["__scopeId","data-v-7c28143b"]]);export{$ as default};
