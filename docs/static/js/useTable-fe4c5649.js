import{k as h,r as w,t as z}from"./index-454f42ed.js";import{f as o,j as L,k as y}from"./vendor-607de18e.js";function j(s,t={},u=!0,r="rows"){const a=o(null),l=o(!1),c=o(0),f=o([]);async function n(){if(!!s){try{i(!0);const e=await s(t);f.value=r?e[r]:e,c.value=u?e.total||0:e.list.length}catch(e){z("userTable/getListData",e)}i(!1)}}async function d(){u&&t.page&&(t.page=1),await n()}function i(e){l.value=e}async function v(e){t.page=e,await n()}async function p(e){t.page=1,t.size=e,await n()}function g(){var e;(e=a.value.value)==null||e.getBoundingClientRect()}return L(()=>{h(a.value,g)}),y(()=>{w(a.value,g)}),{tableWrapRef:a,loading:l,total:c,list:f,getListData:n,handleSearch:d,setLoading:i,pageChange:v,pageSizeChange:p}}export{j as u};
