import{a9 as w,o as m,a as C,b as l,t as v,l as b,aH as N,aI as u,B as D,n as F,e as M,w as d,aJ as $,E as _,c as f,m as k,aK as B}from"./vendor-f584ffdc.js";import"./chunk-brace-3ad28406.js";const E={name:"DataNode",inject:["getNode"],data(){return{label:"label"}},mounted(){var n,e;const a=this.getNode();this.label=(e=(n=a==null?void 0:a.data)==null?void 0:n.label)!=null?e:a.id}},W={class:"data-node"},A={class:"label"};function R(a,n,e,g,i,h){return m(),C("div",W,[l("span",A,v(i.label),1)])}const S=w(E,[["render",R]]),J={class:"p10"},V={class:"p10"},T={__name:"func-x6",setup(a){const n=b(null);let e;function g(){const o={nodes:[{id:"node1",shape:"rect",x:40,y:40,width:100,height:40,label:"hello",attrs:{body:{stroke:"#8f8f8f",strokeWidth:1,fill:"#fff",rx:6,ry:6}}},{id:"node2",shape:"rect",x:160,y:180,width:100,height:40,label:"world",attrs:{body:{stroke:"#8f8f8f",strokeWidth:1,fill:"#fff",rx:6,ry:6}}}],edges:[{shape:"edge",source:"node1",target:"node2",label:"x6",attrs:{line:{stroke:"#8f8f8f",strokeWidth:1}}}]};e=new u({container:n.value,width:"100%",height:300,background:{color:"#F2F7FA"},grid:{visible:!0,type:"doubleMesh",args:[{color:"#eee",thickness:1},{color:"#ddd",thickness:1,factor:4}]},panning:!0}),e.fromJSON(o),e.centerContent(),e.addNode({shape:"rect",x:200,y:40,width:100,height:40,label:"edge",attrs:{body:{fill:"#fff",stroke:"#8f8f8f",strokeWidth:1,rx:10,ry:20}}})}function i(o){const t=e.getNodes();console.log(t),o==="prop"&&t.forEach(s=>{const r=100+Math.floor(Math.random()*50),p=40+Math.floor(Math.random()*10);s.prop("size",{width:r,height:p})}),o==="attr"&&t.forEach(s=>{const r=B.random().toHex();s.attr("body/fill",r)})}const h=b(null);let c;N({shape:"data-node",width:120,height:36,component:S,ports:{groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#C2C8D5",strokeWidth:1,fill:"#fff"}}}}}}),u.registerEdge("dag-edge",{inherit:"edge",attrs:{line:{stroke:"#C2C8D5",strokeWidth:1,targetMarker:null}}},!0);function y(){const o={nodes:[{id:"A",shape:"data-node",x:0,y:0,data:{label:"A"}},{id:"B",shape:"data-node",x:0,y:100,data:{label:"B"}},{id:"C",shape:"data-node",x:0,y:200,data:{label:"C"}},{id:"D",shape:"data-node",x:200,y:0,data:{label:"D"}},{id:"E",shape:"data-node",x:200,y:100,data:{label:"E"}},{id:"F",shape:"data-node",x:200,y:200,data:{label:"F"}}]};c=new u({container:h.value,width:"100%",height:300,background:{color:"#F2F7FA"},grid:{visible:!0,type:"doubleMesh",args:[{color:"#eee",thickness:1},{color:"#ddd",thickness:1,factor:4}]},panning:!0}),c.use(new $({enabled:!0})),c.fromJSON(o),c.centerContent()}return D(async()=>{await F(),g(),y()}),(o,t)=>{const s=_("b-button"),r=_("b-collapse-wrap"),p=_("page-container");return m(),M(p,null,{default:d(()=>[f(r,{title:"\u57FA\u7840\u7528\u6CD5",shadow:"none",class:"mb-16"},{default:d(()=>[l("div",J,[l("div",{ref_key:"dom1Ref",ref:n},null,512),f(s,{onClick:t[0]||(t[0]=x=>i("prop"))},{default:d(()=>[k("Prop")]),_:1}),f(s,{onClick:t[1]||(t[1]=x=>i("attr"))},{default:d(()=>[k("attr")]),_:1})])]),_:1}),f(r,{title:"\u81EA\u5B9A\u4E49\u8282\u70B9\u529F\u80FD",shadow:"none",class:"mb-16"},{default:d(()=>[l("div",V,[l("div",{ref_key:"dom2Ref",ref:h},null,512)])]),_:1})]),_:1})}}};export{T as default};
