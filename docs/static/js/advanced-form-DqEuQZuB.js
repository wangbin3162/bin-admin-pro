import{n as z}from"./chunk-bin-ui-design-55yTQV6H.js";import{a8 as Y,r as q,m as E,M as j,o as s,j as _,w as a,K as t,f as m,b as N,a as g,t as v,Q as K,F as w,ae as L,R as i}from"./vendor-COsJffew.js";import"./chunk-brace-DF1jSkZr.js";const Q={name:"AdvancedForm",setup(){const o=q(null),e=q({name:"",sex:"male",mail:"",birthday:"",taskName:"",taskDesc:"",taskDate:"",duty:"",execute:"",level:""}),f=q([{name:"王小明",age:18,birthday:"1990-04-22",hobby:"1",address:"北京市朝阳区芍药居"},{name:"张小刚",age:25,birthday:"1990-11-11",hobby:"1",address:"北京市海淀区西二旗"},{name:"李小红",age:30,birthday:"1985-02-05",hobby:"3",address:"上海市浦东新区世纪大道"},{name:"周小伟",age:26,birthday:"1993-07-11",hobby:"1",address:"深圳市南山区深南大道"},{name:"张小发",age:33,birthday:"1999-12-12",hobby:"2",address:"南京市龙眠大道"}]),l=E({editName:"",editAge:"",editBirthday:"",editHobby:"",editAddress:"",editIndex:-1,editIsCreate:!1});function D(r,V){l.editName=r.name,l.editAge=r.age,l.editHobby=r.hobby,l.editAddress=r.address,l.editBirthday=r.birthday,l.editIndex=V}function B(r){const{editName:V,editAge:I,editBirthday:h,editHobby:A,editAddress:U}=l;if(V===""||!I||h===""||A===""||U===""){z.error("请填写完整的信息！");return}f.value[r].name=l.editName,f.value[r].age=l.editAge,f.value[r].birthday=L(l.editBirthday).format("YYYY-MM-DD"),f.value[r].hobby=l.editHobby,f.value[r].address=l.editAddress,l.editIndex=-1,l.editIsCreate=!1}function y(){const r={name:"",age:null,birthday:"",hobby:"",address:""};f.value.push(r),D(r,f.value.length-1),l.editIsCreate=!0}function u(r){f.value.splice(r,1),l.editIsCreate=!1}function b(){o.value.validate(r=>{if(r)z.success("success submit!!");else return z.error("error submit!!"),!1})}function C(){o.value.resetFields()}return{formRef:o,form:e,ruleValidate:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],mail:[{required:!0,type:"email",message:"请输入邮箱",trigger:"blur"}],birthday:[{required:!0,type:"date",message:"请选择出生日期",trigger:"change"}],taskName:[{required:!0,message:"请输入任务名称",trigger:"blur"}],taskDesc:[{required:!0,message:"请输入任务描述",trigger:"blur"}],taskDate:[{required:!0,type:"date",message:"请选择任务日期",trigger:"change"}],duty:[{required:!0,message:"请输入责任人",trigger:"blur"}],execute:[{required:!0,message:"请输入执行人",trigger:"blur"}],level:[{required:!0,message:"勾选任务紧急程度",trigger:"change"}]},columns:[{title:"姓名",slot:"name"},{title:"年龄",slot:"age"},{title:"出生日期",slot:"birthday"},{title:"爱好",slot:"hobby"},{title:"地址",slot:"address"},{title:"操作",slot:"action"}],hobbyMap:{1:"吃饭",2:"睡觉",3:"打豆豆"},list:f,...j(l),submitForm:b,resetForm:C,handleSave:B,handleEdit:D,handleAdd:y,handleRemove:u}}},T={style:{padding:"10px 24px"}},x={style:{padding:"10px 24px"}},G={style:{padding:"16px"}},J={key:1},O={key:1},P={key:1},W={key:1},X={key:1},Z={key:0},$={key:1},ee={class:"mt-8"};function te(o,e,f,l,D,B){const y=i("b-input"),u=i("b-form-item"),b=i("b-col"),C=i("b-option"),r=i("b-select"),V=i("b-date-picker"),I=i("b-row"),h=i("b-collapse-wrap"),A=i("b-tag"),U=i("b-radio"),c=i("b-radio-group"),R=i("b-input-number"),k=i("b-button"),H=i("b-table"),M=i("b-form"),S=i("page-wrapper");return s(),_(S,{desc:"当一次性提交大量数据时，可使用高级表单。"},{rightFooter:a(()=>[t(k,{onClick:l.resetForm},{default:a(()=>e[26]||(e[26]=[m("重 置")])),_:1},8,["onClick"]),t(k,{type:"primary",onClick:l.submitForm},{default:a(()=>e[27]||(e[27]=[m("提 交")])),_:1},8,["onClick"])]),default:a(()=>[t(M,{model:l.form,rules:l.ruleValidate,"status-icon":"","label-width":"85px",ref:"formRef","label-position":"top"},{default:a(()=>[t(h,{title:"基本信息",shadow:"none"},{default:a(()=>[N("div",T,[t(I,{gutter:24},{default:a(()=>[t(b,{span:"6"},{default:a(()=>[t(u,{prop:"name",label:"姓名"},{default:a(()=>[t(y,{modelValue:l.form.name,"onUpdate:modelValue":e[0]||(e[0]=d=>l.form.name=d),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(b,{span:"6"},{default:a(()=>[t(u,{label:"性别",prop:"sex"},{default:a(()=>[t(r,{modelValue:l.form.sex,"onUpdate:modelValue":e[1]||(e[1]=d=>l.form.sex=d),placeholder:"请选择户籍地"},{default:a(()=>[t(C,{label:"男",value:"male"}),t(C,{label:"女",value:"female"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(b,{span:"6"},{default:a(()=>[t(u,{prop:"mail",label:"邮箱"},{default:a(()=>[t(y,{modelValue:l.form.mail,"onUpdate:modelValue":e[2]||(e[2]=d=>l.form.mail=d),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(b,{span:"6"},{default:a(()=>[t(u,{label:"出生日期",prop:"birthday"},{default:a(()=>[t(V,{modelValue:l.form.birthday,"onUpdate:modelValue":e[3]||(e[3]=d=>l.form.birthday=d),type:"date",placeholder:"出生日期"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),t(h,{title:"任务信息",shadow:"none"},{default:a(()=>[N("div",x,[t(I,{gutter:32},{default:a(()=>[t(b,{span:"8"},{default:a(()=>[t(u,{prop:"taskName",label:"任务名称"},{default:a(()=>[t(y,{modelValue:l.form.taskName,"onUpdate:modelValue":e[4]||(e[4]=d=>l.form.taskName=d),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(b,{span:"8"},{default:a(()=>[t(u,{prop:"taskDesc",label:"任务描述"},{default:a(()=>[t(y,{modelValue:l.form.taskDesc,"onUpdate:modelValue":e[5]||(e[5]=d=>l.form.taskDesc=d),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(b,{span:"8"},{default:a(()=>[t(u,{prop:"taskDate",label:"创建日期"},{default:a(()=>[t(V,{modelValue:l.form.taskDate,"onUpdate:modelValue":e[6]||(e[6]=d=>l.form.taskDate=d),type:"date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(I,{gutter:30},{default:a(()=>[t(b,{span:"8"},{default:a(()=>[t(u,{prop:"duty",label:"责任人"},{default:a(()=>[t(y,{modelValue:l.form.duty,"onUpdate:modelValue":e[7]||(e[7]=d=>l.form.duty=d),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(b,{span:"8"},{default:a(()=>[t(u,{prop:"execute",label:"执行人"},{default:a(()=>[t(y,{modelValue:l.form.execute,"onUpdate:modelValue":e[8]||(e[8]=d=>l.form.execute=d),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(b,{span:"8"},{default:a(()=>[t(u,{prop:"level",label:"紧急程度"},{default:a(()=>[t(c,{modelValue:l.form.level,"onUpdate:modelValue":e[9]||(e[9]=d=>l.form.level=d)},{default:a(()=>[t(U,{label:"0"},{default:a(()=>[t(A,{type:"danger"},{default:a(()=>e[16]||(e[16]=[m("紧急")])),_:1})]),_:1}),t(U,{label:"1"},{default:a(()=>[t(A,{type:"blue"},{default:a(()=>e[17]||(e[17]=[m("急")])),_:1})]),_:1}),t(U,{label:"2"},{default:a(()=>[t(A,{type:"success"},{default:a(()=>e[18]||(e[18]=[m("一般")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1}),t(h,{title:"人员信息",shadow:"none"},{default:a(()=>[N("div",G,[t(H,{columns:l.columns,data:l.list},{name:a(({index:d,row:p})=>[o.editIndex===d?(s(),_(y,{key:0,type:"text",modelValue:o.editName,"onUpdate:modelValue":e[10]||(e[10]=n=>o.editName=n),size:"small",clearable:""},null,8,["modelValue"])):(s(),g("span",J,v(p.name),1))]),age:a(({index:d,row:p})=>[o.editIndex===d?(s(),_(R,{key:0,type:"text",modelValue:o.editAge,"onUpdate:modelValue":e[11]||(e[11]=n=>o.editAge=n),size:"small"},null,8,["modelValue"])):(s(),g("span",O,v(p.age),1))]),birthday:a(({index:d,row:p})=>[o.editIndex===d?(s(),_(V,{key:0,size:"small",modelValue:o.editBirthday,"onUpdate:modelValue":e[12]||(e[12]=n=>o.editBirthday=n),type:"date",placeholder:"选择日期"},null,8,["modelValue"])):(s(),g("span",P,v(p.birthday),1))]),hobby:a(({index:d,row:p})=>[o.editIndex===d?(s(),_(r,{key:0,modelValue:o.editHobby,"onUpdate:modelValue":e[13]||(e[13]=n=>o.editHobby=n),clearable:"",size:"small"},{default:a(()=>[(s(!0),g(w,null,K(l.hobbyMap,(n,F)=>(s(),_(C,{key:F,value:F,label:n},{default:a(()=>[m(v(n),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])):(s(),g("span",W,v(l.hobbyMap[p.hobby]),1))]),address:a(({index:d,row:p})=>[o.editIndex===d?(s(),_(y,{key:0,type:"text",modelValue:o.editAddress,"onUpdate:modelValue":e[14]||(e[14]=n=>o.editAddress=n),size:"small"},null,8,["modelValue"])):(s(),g("span",X,v(p.address),1))]),action:a(({index:d,row:p})=>[o.editIndex===d?(s(),g("div",Z,[o.editIsCreate?(s(),g(w,{key:0},[t(k,{onClick:n=>l.handleSave(d),size:"mini",type:"success",transparent:""},{default:a(()=>e[19]||(e[19]=[m(" 新增 ")])),_:2},1032,["onClick"]),t(k,{type:"danger",size:"mini",transparent:"",onClick:n=>l.handleRemove(d)},{default:a(()=>e[20]||(e[20]=[m(" 删除 ")])),_:2},1032,["onClick"])],64)):(s(),g(w,{key:1},[t(k,{size:"mini",type:"success",transparent:"",onClick:n=>l.handleSave(d)},{default:a(()=>e[21]||(e[21]=[m(" 保存 ")])),_:2},1032,["onClick"]),t(k,{size:"mini",type:"primary",transparent:"",onClick:e[15]||(e[15]=n=>o.editIndex=-1)},{default:a(()=>e[22]||(e[22]=[m(" 取消 ")])),_:1})],64))])):(s(),g("div",$,[t(k,{type:o.editIsCreate?"default":"primary",size:"mini",transparent:!o.editIsCreate,onClick:n=>l.handleEdit(p,d),disabled:o.editIsCreate},{default:a(()=>e[23]||(e[23]=[m(" 操作 ")])),_:2},1032,["type","transparent","onClick","disabled"]),t(k,{type:o.editIsCreate?"default":"danger",size:"mini",transparent:!o.editIsCreate,onClick:n=>l.handleRemove(d),disabled:o.editIsCreate},{default:a(()=>e[24]||(e[24]=[m(" 删除 ")])),_:2},1032,["type","transparent","onClick","disabled"])]))]),_:1},8,["columns","data"]),N("div",ee,[t(k,{icon:"plus",dashed:"",style:{width:"100%"},onClick:l.handleAdd,disabled:o.editIsCreate},{default:a(()=>e[25]||(e[25]=[m(" 新增 ")])),_:1},8,["onClick","disabled"])])])]),_:1})]),_:1},8,["model","rules"])]),_:1})}const oe=Y(Q,[["render",te]]);export{oe as default};
