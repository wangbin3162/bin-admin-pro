import{a8 as I,m as U,af as K,r as k,q as M,o as i,a as u,g as O,v as P,K as e,w as t,j as C,i as f,Q as a,b as n,L as d,f as c,z as Q,F as W,R as A,t as h,G as H}from"./vendor-CoKaFqDy.js";import{u as J}from"./useTable-DMY6J13V.js";import{e as X,l as Y,g as Z}from"./cross-tab-msg-D-hvLo0Z.js";import{_ as ee}from"./index-C9957Bz9.js";import"./chunk-brace-BklEY0pF.js";import"./index-Dk_VZS5h.js";import"./chunk-bin-ui-design-DTQlNCOT.js";import"./chunk-mockjs-CGXE1Baq.js";const te={class:"filter-wrap"},ae={class:"list-wrapper"},ne={class:"card-item",key:"add"},oe={class:"p16"},se={flex:"cross:center"},le={class:"item-title"},ie={class:"item-author"},ce={class:"item-desc"},re={class:"item-extra"},de={key:0,style:{height:"175px"}},_e=Object.assign({name:"ExcelList"},{__name:"index",setup(pe){const _=U({page:1,size:10,name:"",isPublish:"1"}),b=K(),v=k(null),p=k(!1),{loading:g,list:y,handleSearch:m,getListData:D}=J(X,_);m();function T(){_.name="",m()}function V({id:s}){let l=b.resolve({path:"/data-edit",query:{tempId:s}});window.open(l.href,"_blank")}function L(){let s=b.resolve({path:"/excel-edit",query:{}});window.open(s.href,"_blank")}async function S({id:s}){const l=await Z(s);p.value=!0,await H(),v.value.open(l)}function B(){p.value=!1}const R=Y(D);return M(R),(s,l)=>{const q=a("b-input"),w=a("b-form-item"),r=a("b-button"),z=a("b-form"),x=a("b-col"),N=a("b-row"),E=a("b-card"),$=a("b-loading"),j=a("b-empty"),F=a("page-wrapper");return i(),u("div",null,[O(e(F,null,{default:t(()=>[n("div",te,[e(z,{"label-width":"95px",inline:""},{default:t(()=>[e(w,{label:"报表名称"},{default:t(()=>[e(q,{modelValue:_.name,"onUpdate:modelValue":l[0]||(l[0]=o=>_.name=o),clearable:""},null,8,["modelValue"])]),_:1}),e(w,{"label-width":"16px"},{default:t(()=>[e(r,{type:"primary",loading:d(g),onClick:d(m)},{default:t(()=>[c("查询")]),_:1},8,["loading","onClick"]),e(r,{onClick:T},{default:t(()=>[c("重置")]),_:1})]),_:1})]),_:1})]),n("div",ae,[e(Q,{tag:"div",name:"fade",class:"card-list-wrap"},{default:t(()=>[n("div",ne,[e(r,{icon:"plus",dashed:"",style:{height:"175px",width:"100%"},onClick:L},{default:t(()=>[c(" 新增表单 ")]),_:1})]),(i(!0),u(W,null,A(d(y),o=>(i(),u("div",{key:o.id,class:"card-item"},[e(E,{class:"app-item",style:{width:"100%",height:"175px",margin:"0"},"body-style":{padding:0},shadow:"never"},{default:t(()=>[n("div",oe,[n("div",se,[n("div",le,h(o.name),1)])]),n("div",null,[n("div",ie,"上报数量："+h(o.reportCount),1),n("div",ce,"字段数量："+h(o.mapping.length),1)]),n("div",re,[e(N,null,{default:t(()=>[e(x,{span:"12"},{default:t(()=>[e(r,{type:"text","text-color":"warning",icon:"file-add","icon-style":{fontSize:"18px"},onClick:G=>V(o)},{default:t(()=>[c(" 数据填报 ")]),_:2},1032,["onClick"])]),_:2},1024),e(x,{span:"12"},{default:t(()=>[e(r,{type:"text","text-color":"primary",icon:"filesearch","icon-style":{fontSize:"18px"},onClick:G=>S(o)},{default:t(()=>[c(" 查看数据 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]))),128))]),_:1}),d(g)?(i(),u("div",de,[e($,{style:{background:"transparent"}})])):f("",!0),d(y).length===0?(i(),C(j,{key:1},{default:t(()=>[c("暂无已发布填报")]),_:1})):f("",!0)])]),_:1},512),[[P,!p.value]]),p.value?(i(),C(ee,{key:0,ref_key:"dataTableRef",ref:v,onClose:B},null,512)):f("",!0)])}}}),we=I(_e,[["__scopeId","data-v-36b0a69e"]]);export{we as default};
