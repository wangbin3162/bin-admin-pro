import{a as k}from"./chunk-bin-ui-next-c8e5f3af.js";import{a9 as x,l as r,G as c,o as B,e as I,w as d,b as p,c as l,m as v}from"./vendor-c8b7a369.js";import"./chunk-brace-3ad28406.js";async function V(f,o=2500){return new Promise((n,m)=>{let e=new FileReader;e.onload=()=>{let t=new Image,u=t.src=e.result;if(t.complete){const{width:s,height:i}=t;n({url:u,width:s,height:i})}else{let s=setTimeout(()=>{m("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25\uFF01")},o);t.onload=()=>{const{width:i,height:_}=t;window.clearTimeout(s),n({url:u,width:i,height:_})}}},f?e.readAsDataURL(f):m("\u6587\u4EF6\u4E0D\u5B58\u5728\uFF01")})}const D={class:"schema-demo-wrap"},E={class:"top-bar"},N={__name:"schema-demo",setup(f){const o=r(null),n=r(!1),m=r({}),e=r(null);function t(){document.getElementById("imgfile").click()}function u(){e.value=o.value.getAllConfig(),console.log(e.value),k("\u4FDD\u5B58\u6210\u529F")}function s(){console.log(e.value),o.value.setConfig(e.value)}function i(){let _=document.getElementById("imgfile").files[0];V(_).then(a=>{o.value.loadBgImage(a)})}return(_,a)=>{const g=c("b-button"),b=c("SchemaEditor"),y=c("b-ace-editor"),w=c("b-modal"),C=c("page-container");return B(),I(C,null,{default:d(()=>[p("div",D,[p("div",E,[l(g,{onClick:t},{default:d(()=>[v("\u8F7D\u5165\u56FE\u7247")]),_:1}),l(g,{onClick:u},{default:d(()=>[v("\u4FDD\u5B58")]),_:1}),l(g,{onClick:s,disabled:!e.value},{default:d(()=>[v("\u6253\u5F00")]),_:1},8,["disabled"]),p("input",{style:{display:"none"},type:"file",id:"imgfile","lay-verify":"required",accept:"image/jpeg,image/png,image/jpg",class:"upload-button",onChange:a[0]||(a[0]=h=>i())},null,32)]),l(b,{ref_key:"schemaRef",ref:o},null,512)]),l(w,{title:"\u5F53\u524D\u914D\u7F6E",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=h=>n.value=h),width:"700px"},{default:d(()=>[l(y,{"model-value":JSON.stringify(m.value,null,2),height:"400px"},null,8,["model-value"])]),_:1},8,["modelValue"])]),_:1})}}},A=x(N,[["__scopeId","data-v-2450cf12"]]);export{A as default};
